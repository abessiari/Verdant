{"version":3,"file":"lib_index_js.8f41f6bf5ae919365b55.js","mappings":"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AS,CAAC,KAAK,CAAC,CAAC,CAAC;iBACvC;YACH,CAAC,CAAC,CAAC;YACH,OAAO,OAAO,CAAC;QACjB,CAAC;KAAA;CACF;AA1DD,0CA0DC;;;;;;;;;;;;AC5EY;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA,4CAA4C,qBAAqB;AACjE;;AAEA;AACA,KAAK;AACL,KAAK;AACL;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,sBAAsB,iBAAiB;AACvC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,qBAAqB;AAC1C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,+BAA+B;;AAE/B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,qDAAqD,cAAc;AACnE;AACA;;;;;;;;;;;AC7Fa;;AAEb;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;;AAEA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;;;AAGA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;ACjCa;;AAEb;AACA;AACA;AACA,kBAAkB,wBAAwB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,iBAAiB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,4BAA4B;AAChD;AACA;AACA;AACA;AACA;AACA,qBAAqB,6BAA6B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACnFa;;AAEb;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACjCa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACTa;;AAEb;AACA;AACA,cAAc,KAAwC,GAAG,sBAAiB,GAAG,CAAI;AACjF;AACA;AACA;AACA;AACA;;;;;;;;;;;ACTa;;AAEb;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA,iFAAiF;AACjF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,yDAAyD;AACzD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC5Da;;AAEb;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZA,MAA+F;AAC/F,MAAqF;AACrF,MAA4F;AAC5F,MAA+G;AAC/G,MAAwG;AACxG,MAAwG;AACxG,MAAsG;AACtG;AACA;;AAEA;;AAEA,4BAA4B,qGAAmB;AAC/C,wBAAwB,kHAAa;;AAErC,uBAAuB,uGAAa;AACpC;AACA,iBAAiB,+FAAM;AACvB,6BAA6B,sGAAkB;;AAE/C,aAAa,0GAAG,CAAC,0FAAO;;;;AAIgD;AACxE,OAAO,iEAAe,0FAAO,IAAI,iGAAc,GAAG,iGAAc,YAAY,EAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzB7E,MAA+F;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","sources":["webpack://verdant/./style/activity.css","webpack://verdant/./style/artifact-details.css","webpack://verdant/./style/ghost.css","webpack://verdant/./style/index.css","webpack://verdant/./style/landing.css","webpack://verdant/./style/sampler.css","webpack://verdant/./style/search.css","webpack://verdant/./style/summary.css","webpack://verdant/./style/verdant-panel.css","webpack://verdant/./style/img/log-icon-4.svg","webpack://verdant/./src/handler.ts","webpack://verdant/./src/index.ts","webpack://verdant/./src/instance-manager.ts","webpack://verdant/./src/verdant-model/analysis/ast-create.ts","webpack://verdant/./src/verdant-model/analysis/ast-utils.ts","webpack://verdant/./src/verdant-model/analysis/ast.ts","webpack://verdant/./src/verdant-model/cell.ts","webpack://verdant/./src/verdant-model/checkpoint/checkpoint-history.ts","webpack://verdant/./src/verdant-model/checkpoint/checkpoint.ts","webpack://verdant/./src/verdant-model/checkpoint/constants.ts","webpack://verdant/./src/verdant-model/checkpoint/index.ts","webpack://verdant/./src/verdant-model/history/history.ts","webpack://verdant/./src/verdant-model/history/index.ts","webpack://verdant/./src/verdant-model/history/stage/commit.ts","webpack://verdant/./src/verdant-model/history/stage/history-stage.ts","webpack://verdant/./src/verdant-model/history/stage/index.ts","webpack://verdant/./src/verdant-model/history/stage/stage.ts","webpack://verdant/./src/verdant-model/history/store/code-history.ts","webpack://verdant/./src/verdant-model/history/store/history-store.ts","webpack://verdant/./src/verdant-model/history/store/index.ts","webpack://verdant/./src/verdant-model/history/store/node-history.ts","webpack://verdant/./src/verdant-model/history/store/origin-pointer.ts","webpack://verdant/./src/verdant-model/history/store/output-history.ts","webpack://verdant/./src/verdant-model/history/store/search.ts","webpack://verdant/./src/verdant-model/jupyter-hooks/file-manager.ts","webpack://verdant/./src/verdant-model/jupyter-hooks/ghost-to-ipynb.ts","webpack://verdant/./src/verdant-model/jupyter-hooks/notebook-listen.ts","webpack://verdant/./src/verdant-model/jupyter-hooks/render-baby.ts","webpack://verdant/./src/verdant-model/nodey/index.ts","webpack://verdant/./src/verdant-model/nodey/nodey-code-cell.ts","webpack://verdant/./src/verdant-model/nodey/nodey-code.ts","webpack://verdant/./src/verdant-model/nodey/nodey-markdown.ts","webpack://verdant/./src/verdant-model/nodey/nodey-notebook.ts","webpack://verdant/./src/verdant-model/nodey/nodey-output.ts","webpack://verdant/./src/verdant-model/nodey/nodey-raw.ts","webpack://verdant/./src/verdant-model/nodey/nodey.ts","webpack://verdant/./src/verdant-model/notebook-events/create-cell.ts","webpack://verdant/./src/verdant-model/notebook-events/delete-cell.ts","webpack://verdant/./src/verdant-model/notebook-events/index.ts","webpack://verdant/./src/verdant-model/notebook-events/load-notebook.ts","webpack://verdant/./src/verdant-model/notebook-events/move-cell.ts","webpack://verdant/./src/verdant-model/notebook-events/notebook-event.ts","webpack://verdant/./src/verdant-model/notebook-events/run-cell.ts","webpack://verdant/./src/verdant-model/notebook-events/save-notebook.ts","webpack://verdant/./src/verdant-model/notebook-events/switch-cell-type.ts","webpack://verdant/./src/verdant-model/notebook.ts","webpack://verdant/./src/verdant-model/sampler/cell-map.ts","webpack://verdant/./src/verdant-model/sampler/diff.ts","webpack://verdant/./src/verdant-model/sampler/index.ts","webpack://verdant/./src/verdant-model/sampler/namer.ts","webpack://verdant/./src/verdant-model/sampler/sampler.ts","webpack://verdant/./src/verdant-model/sampler/search.ts","webpack://verdant/./src/verdant-model/sampler/target.ts","webpack://verdant/./lib/verdant-model/sc/ sc-service.js","webpack://verdant/./src/verdant-model/sc/sc-client.ts","webpack://verdant/./src/verdant-ui/ghost-book/ghost-book.tsx","webpack://verdant/./src/verdant-ui/ghost-book/ghost-cell-output.tsx","webpack://verdant/./src/verdant-ui/ghost-book/ghost-cell.tsx","webpack://verdant/./src/verdant-ui/ghost-book/ghost-toolbar.tsx","webpack://verdant/./src/verdant-ui/ghost-book/ghost.ts","webpack://verdant/./src/verdant-ui/icons/index.tsx","webpack://verdant/./src/verdant-ui/index.tsx","webpack://verdant/./src/verdant-ui/logger.ts","webpack://verdant/./src/verdant-ui/panel/details/artifact-origin.tsx","webpack://verdant/./src/verdant-ui/panel/details/artifact.tsx","webpack://verdant/./src/verdant-ui/panel/details/crumbMenu.tsx","webpack://verdant/./src/verdant-ui/panel/details/index.tsx","webpack://verdant/./src/verdant-ui/panel/details/version-detail.tsx","webpack://verdant/./src/verdant-ui/panel/details/version-header.tsx","webpack://verdant/./src/verdant-ui/panel/details/version-pair.tsx","webpack://verdant/./src/verdant-ui/panel/details/wishbone.ts","webpack://verdant/./src/verdant-ui/panel/events/date-section.tsx","webpack://verdant/./src/verdant-ui/panel/events/event-bundle.tsx","webpack://verdant/./src/verdant-ui/panel/events/event-label.tsx","webpack://verdant/./src/verdant-ui/panel/events/event.tsx","webpack://verdant/./src/verdant-ui/panel/events/index.tsx","webpack://verdant/./src/verdant-ui/panel/events/mini-map.tsx","webpack://verdant/./src/verdant-ui/panel/index.tsx","webpack://verdant/./src/verdant-ui/panel/inspector-button.tsx","webpack://verdant/./src/verdant-ui/panel/search/index.tsx","webpack://verdant/./src/verdant-ui/panel/search/result.tsx","webpack://verdant/./src/verdant-ui/panel/search/results-section.tsx","webpack://verdant/./src/verdant-ui/panel/search/results-subsection.tsx","webpack://verdant/./src/verdant-ui/panel/search/search-bar.tsx","webpack://verdant/./src/verdant-ui/panel/summary/index.tsx","webpack://verdant/./src/verdant-ui/panel/summary/row-preview.ts","webpack://verdant/./src/verdant-ui/panel/summary/summary-row.tsx","webpack://verdant/./src/verdant-ui/panel/summary/summary-table.tsx","webpack://verdant/./src/verdant-ui/redux/index.ts","webpack://verdant/./src/verdant-ui/redux/notebook.ts","webpack://verdant/./src/verdant-ui/redux/state.ts","webpack://verdant/./src/verdant-ui/redux/viewStates/artifact-pane.ts","webpack://verdant/./src/verdant-ui/redux/viewStates/event-bundles.ts","webpack://verdant/./src/verdant-ui/redux/viewStates/events.ts","webpack://verdant/./src/verdant-ui/redux/viewStates/ghost.ts","webpack://verdant/./src/verdant-ui/redux/viewStates/search.ts","webpack://verdant/./src/verdant-ui/verdant-notebook.ts","webpack://verdant/./node_modules/css-loader/dist/runtime/api.js","webpack://verdant/./node_modules/css-loader/dist/runtime/getUrl.js","webpack://verdant/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://verdant/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://verdant/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://verdant/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://verdant/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://verdant/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://verdant/./style/activity.css?11bf","webpack://verdant/./style/artifact-details.css?2761","webpack://verdant/./style/ghost.css?4551","webpack://verdant/./style/index.css?0140","webpack://verdant/./style/landing.css?531f","webpack://verdant/./style/sampler.css?ee41","webpack://verdant/./style/search.css?8bf2","webpack://verdant/./style/summary.css?35aa","webpack://verdant/./style/verdant-panel.css?c607","webpack://verdant/./style/img/chevron-down.svg","webpack://verdant/./style/img/chevron-right.svg","webpack://verdant/./style/img/ghost-book.svg","webpack://verdant/./style/img/log-icon-4.svg?ba03","webpack://verdant/./style/img/search.svg","webpack://verdant/./style/img/time-inspect.svg"],"sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"/* Date CSS */\\n\\n.Verdant-events-date {\\n}\\n\\n.Verdant-events-date-header {\\n  padding: var(--jp-cell-padding);\\n  border-bottom: 1px solid var(--jp-border-color3);\\n  text-transform: uppercase;\\n  font-size: var(--jp-content-font-size0);\\n  padding-top: 1.5em;\\n  position: sticky;\\n  top: 0px;\\n  background: var(--jp-layout-color0);\\n  z-index: 2;\\n  display: flex;\\n  justify-content: space-between;\\n}\\n\\n.Verdant-events-date-header-label {\\n  margin-left: 1.5em;\\n  margin-top: 2px;\\n}\\n\\n.Verdant-events-date-header-collapse {\\n  display: flex;\\n  flex-direction: row;\\n  text-align: center;\\n}\\n\\n/* Bundle CSS */\\n\\n.Verdant-events-bundle-single {\\n  margin-right: 4px;\\n}\\n\\n.Verdant-events-bundle-multi-header {\\n  display: flex;\\n  flex-direction: row;\\n}\\n\\n.Verdant-events-bundle-multi-header-arrow {\\n  margin-right: 0.5em;\\n  padding-left: var(--jp-cell-padding);\\n  padding-top: calc(1em - 8px);\\n}\\n\\n.Verdant-events-bundle-multi-header-arrow.open {\\n  margin-right: 0.5em;\\n  padding-left: var(--jp-cell-padding);\\n  padding-top: 0px;\\n}\\n\\n.Verdant-events-bundle-multi-header-container {\\n  flex: 1 1 auto;\\n  margin-right: 4px;\\n}\\n\\n.Verdant-events-bundle-multi-header-container.open {\\n  display: flex;\\n  align-items: center;\\n  font-weight: bold;\\n}\\n\\n.Verdant-events-bundle-multi-header-container.open::before {\\n  content: \\\"\\\";\\n  flex: 1;\\n  border-bottom: 1px solid;\\n  margin-right: 0.25em;\\n}\\n\\n.Verdant-events-bundle-multi-header-container.open::after {\\n  content: \\\"\\\";\\n  flex: 1;\\n  border-bottom: 1px solid;\\n  margin-left: 0.25em;\\n}\\n\\n.Verdant-events-bundle-multi-body {\\n  background-color: #f6f6f6;\\n  margin-right: 4px;\\n}\\n\\n.Verdant-events-bundle-multi-footer {\\n  display: flex;\\n}\\n\\n.Verdant-events-bundle-multi-footer-line {\\n  content: \\\"\\\";\\n  margin-right: 4px;\\n  border-bottom: 1px solid;\\n}\\n\\n.Verdant-events-bundle-multi-footer-spacer {\\n  content: \\\"\\\";\\n  width: 10%;\\n}\\n\\n/* Event CSS */\\n\\n.Verdant-events-event {\\n  display: flex;\\n  flex-direction: row;\\n  padding-left: calc(var(--jp-cell-padding) + 0.5em + 7px);\\n}\\n\\n.Verdant-events-event.bundle {\\n  padding-left: 0px;\\n}\\n\\n.Verdant-events-event.ghostOpen {\\n  background: var(--verdant-ghost-color0);\\n}\\n\\n.Verdant-events-event-stamp {\\n  flex: 0 0 5em; /* to prevent weird date text cropping */\\n  min-width: 5em;\\n  max-width: 5em;\\n}\\n\\n.Verdant-events-event-row-index {\\n  flex: 0 0 5em;\\n  font-weight: bold;\\n  text-align: center;\\n  padding-top: 0.5em;\\n}\\n\\n.Verdant-events-event-row-map {\\n  flex: 1 1 auto;\\n  padding-top: 0.5em;\\n}\\n\\n/* Event Label CSS */\\n\\n.Verdant-events-label {\\n  display: inline-block;\\n  flex: 1 1 auto;\\n  color: var(--jp-content-font-color2);\\n  padding: var(--jp-cell-padding);\\n  padding-left: 0px;\\n  max-width: calc(100% - 2 * var(--jp-cell-padding));\\n}\\n\\n/* Event Map CSS */\\n\\n.Verdant-events-map {\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n  flex: 1 1 auto;\\n  vertical-align: baseline;\\n  padding-left: var(--jp-cell-padding);\\n}\\n\\n.Verdant-events-map-cell {\\n  display: inline-block;\\n  width: 1px;\\n  margin: 2px 1px;\\n  height: 1em;\\n}\\n\\n.Verdant-events-map-cell.highlight {\\n  border-color: white;\\n}\\n\\n/* This is the default tick, for a cell that was just run */\\n.Verdant-events-map-cell.target {\\n  width: 2px;\\n  margin-left: 0px;\\n  margin-right: 1px;\\n  display: flex;\\n  height: 1.5em;\\n  position: absolute;\\n  margin-top: -0.125em;\\n}\\n\\n/*\\n CHANGED = \\\"edited\\\",\\n  REMOVED = \\\"removed\\\",\\n  ADDED = \\\"added\\\",\\n  SAME = \\\"no change\\\",\\n  MOVED = \\\"moved\\\",\\n  SAME = \\\"n/a\\\",\\n  TYPE_CHANGED = \\\"type changed\\\",\\n*/\\n.Verdant-events-map-cell.target.tic {\\n  flex: 1 1 auto;\\n  border-radius: 5px;\\n}\\n\\n.Verdant-events-map-cell.target.tic.added {\\n  background-color: var(--verdant-cell-add-color1);\\n}\\n\\n.Verdant-events-map-cell.target.tic.removed {\\n  background-color: var(--verdant-cell-remove-color1);\\n}\\n\\n.Verdant-events-map-cell.target.tic.edited {\\n  background-color: var(--verdant-cell-change-color2);\\n}\\n\\n.Verdant-events-map-cell.target.tic.moved {\\n  background-color: peru;\\n}\\n\\n.Verdant-events-map-cell.target.tic.type_changed {\\n  background-color: cadetblue;\\n}\\n\\n.Verdant-events-map-cell.target.tic.output_changed {\\n  background-color: #b6aeb8;\\n}\\n\\n.Verdant-events-map-background {\\n  background: var(--jp-border-color3);\\n  display: inline-block;\\n  height: 1.25em;\\n  position: relative;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".v-VerdantPanel-tab-header-outLink {\\n  padding: 2px;\\n  padding-right: 0.5em;\\n  white-space: pre;\\n  font-size: var(--jp-ui-font-size0);\\n  padding-top: 0.25em;\\n}\\n\\n.v-VerdantPanel-crumbMenu {\\n  flex: 1 1 auto;\\n  padding: 2px;\\n  padding-left: 0.5em;\\n  text-overflow: ellipsis;\\n  white-space: pre;\\n  overflow: hidden;\\n}\\n\\n.v-VerdantPanel-crumbMenu-item {\\n  display: inline-block;\\n  font-size: var(--jp-ui-font-size0);\\n  text-transform: uppercase;\\n  margin-right: 5px;\\n  color: var(--jp-ui-font-color2);\\n  vertical-align: middle;\\n}\\n\\n.v-VerdantPanel-crumbMenu-item.verdant-link {\\n  color: var(--jp-content-link-color);\\n}\\n\\n.v-VerdantPanel-crumbMenu-seperator {\\n  display: inline-block;\\n  color: var(--jp-ui-font-color3);\\n  margin-right: 4px;\\n}\\n\\n.v-VerdantPanel-details-versionPair {\\n  display: flex;\\n}\\n\\n.v-VerdantPanel-details-versionPair.open {\\n  border-bottom: 1px solid var(--jp-border-color1);\\n  box-shadow: 0px 1px 2px 0px var(--jp-border-color2);\\n  margin-bottom: 4px;\\n}\\n\\n.v-VerdantPanel-details-versionPair-header {\\n  display: flex;\\n}\\n\\n.v-VerdantPanel-details-versionPair-col {\\n  display: flex;\\n  flex-direction: column;\\n  flex: 1 1 auto;\\n  max-width: 100%;\\n}\\n.v-VerdantPanel-details-versionPair-col.open {\\n  min-width: 50%;\\n}\\n.v-VerdantPanel-details-versionPair-col:nth-child(2) {\\n  border-left: 1px solid var(--jp-border-color1);\\n}\\n\\n.v-VerdantPanel-details-versionPair-col.open\\n  .v-VerdantPanel-details-version:last-child {\\n  border-bottom: 0px;\\n}\\n\\n.v-VerdantPanel-details-origin-header {\\n  background: var(--jp-layout-color2);\\n  padding: 6px;\\n  text-align: center;\\n  border-bottom: 1px solid var(--jp-border-color2);\\n  box-shadow: 0px 2px 7px 0px var(--jp-border-color3);\\n  color: var(--jp-ui-font-color2);\\n}\\n\\n.v-VerdantPanel-details-version {\\n  border-bottom: 1px solid var(--jp-border-color2);\\n}\\n\\n.v-VerdantPanel-details-version-header {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  flex: 1 0 auto;\\n  padding: 6px;\\n  color: var(--jp-ui-font-color2);\\n  font-size: var(--jp-ui-font-size0);\\n  border-bottom: 1px solid var(--jp-border-color3);\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\n.v-VerdantPanel-details-version-header.selected {\\n  background-color: var(--verdant-ghost-color0);\\n  border-top: 2px solid;\\n}\\n\\n.v-VerdantPanel-details-version-header.dependent {\\n  border-left: 1px solid var(--jp-border-color1);\\n}\\n.v-VerdantPanel-details-version-header.dependent.open {\\n  flex: 0 0 auto;\\n  border-left: 0px;\\n  padding-top: 6px;\\n  padding-bottom: 8px;\\n  border-bottom: 1px solid var(--jp-border-color3);\\n}\\n\\n.v-VerdantPanel-details-version-header b {\\n  color: var(--jp-ui-font-color0);\\n}\\n\\n.v-VerdantPanel-details-version-header i {\\n  margin: 0px 0.25em;\\n}\\n\\n.v-VerdantPanel-details-version-header-labelRow.date {\\n  line-height: 1.5em;\\n}\\n\\n.v-VerdantPanel-details-version-header-labelRow.dependent {\\n  display: flex;\\n  justify-content: space-between;\\n}\\n\\n.v-VerdantPanel-details-version-sample {\\n  padding-top: 0.5em;\\n  padding-bottom: 1em;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"/* Ghost Book CSS */\\n\\n.v-Verdant-GhostBook {\\n  display: flex;\\n  flex-direction: column;\\n  height: 100%;\\n  overflow: auto;\\n  background: var(--jp-layout-color0);\\n  background-size: 40px 40px;\\n}\\n\\n/* Ghost Toolbar CSS */\\n\\n.v-Verdant-GhostBook-header {\\n  font-size: var(--jp-content-font-size0);\\n  font-family: var(--jp-content-font-family);\\n  color: var(--jp-content-font-color0);\\n  flex-direction: column;\\n  position: sticky;\\n  top: 0px;\\n  z-index: 5;\\n}\\n\\n.v-Verdant-GhostBook-header-row {\\n  display: flex;\\n  justify-content: space-evenly;\\n  color: var(--jp-content-font-color2);\\n  margin-bottom: 0.25em;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  flex-wrap: wrap;\\n  padding: 2px;\\n  padding-top: 0.25em;\\n  padding-left: 6px;\\n  overflow: visible;\\n  border-bottom: var(--jp-border-width) solid var(--jp-toolbar-border-color);\\n  box-shadow: var(--jp-toolbar-box-shadow);\\n  background: var(--jp-toolbar-background);\\n  min-height: var(--jp-toolbar-micro-height);\\n}\\n\\n.v-Verdant-GhostBook-versionSwitch-label {\\n  display: inline-block;\\n  margin: 0px 1em;\\n  color: var(--jp-ui-font-color1);\\n  font-size: var(--jp-ui-font-size1);\\n  vertical-align: top;\\n}\\n\\n.v-Verdant-GhostBook-header-timestamp {\\n  flex: auto;\\n  margin-left: 2em;\\n  text-decoration: underline;\\n  color: var(--jp-content-link-color);\\n}\\n\\n.v-Verdant-GhostBook-diffOptions {\\n  display: flex;\\n  color: var(--jp-ui-font-color1);\\n}\\n\\n.v-Verdant-GhostBook-diffOptions-dropdown {\\n  display: flex;\\n  position: relative;\\n  width: 10em;\\n  margin: 0px 8px;\\n  padding: 0px 4px;\\n  border-radius: var(--jp-border-radius);\\n  border: 1px solid;\\n  color: var(--jp-ui-font-color2);\\n}\\n.v-Verdant-GhostBook-diffOptions-dropdown svg {\\n  fill: var(--jp-ui-font-color2);\\n  margin-top: 1px;\\n}\\n\\n.v-Verdant-GhostBook-diffOptions-dropdown-list {\\n  position: absolute;\\n  top: 1.5em;\\n  background: var(--jp-layout-color0);\\n  border: 1px solid var(--jp-border-color1);\\n  border-radius: var(--jp-border-radius);\\n  border-top-left-radius: 0px;\\n  border-top-right-radius: 0px;\\n  width: calc(10em + 4px);\\n  right: 1px;\\n}\\n\\n.v-Verdant-GhostBook-diffOptions-option {\\n  flex: 1 1 auto;\\n}\\n.v-Verdant-GhostBook-diffOptions-dropdown-list\\n  .v-Verdant-GhostBook-diffOptions-option {\\n  padding: 4px;\\n}\\n.v-Verdant-GhostBook-diffOptions-dropdown-list\\n  .v-Verdant-GhostBook-diffOptions-option:hover {\\n  background-color: var(--jp-layout-color2);\\n}\\n\\n.v-Verdant-GhostBook-exportOptions {\\n  padding: 0px 8px;\\n  color: var(--jp-ui-font-color1);\\n  border: 1px solid var(--jp-border-color1);\\n  border-radius: var(--jp-border-radius);\\n  margin: 0px 4px;\\n}\\n\\n.v-Verdant-GhostBook-exportOptions .verdant-icon-export {\\n  margin-right: 6px;\\n}\\n\\n.v-Verdant-GhostBook-export-msg {\\n  text-align: center;\\n  color: var(--jp-layout-color0);\\n  background: var(--jp-inverse-layout-color3);\\n  width: 100%;\\n  padding: 5px 0px;\\n  margin-top: -3px;\\n  font-size: small;\\n  -webkit-animation: fadein 2s; /* Safari, Chrome and Opera > 12.1 */\\n  -moz-animation: fadein 2s; /* Firefox < 16 */\\n  -ms-animation: fadein 2s; /* Internet Explorer */\\n  -o-animation: fadein 2s; /* Opera < 12.1 */\\n  animation: fadein 2s;\\n}\\n\\n@keyframes fadein {\\n  from {\\n    opacity: 0;\\n  }\\n  to {\\n    opacity: 1;\\n  }\\n}\\n\\n/* Firefox < 16 */\\n@-moz-keyframes fadein {\\n  from {\\n    opacity: 0;\\n  }\\n  to {\\n    opacity: 1;\\n  }\\n}\\n\\n/* Safari, Chrome and Opera > 12.1 */\\n@-webkit-keyframes fadein {\\n  from {\\n    opacity: 0;\\n  }\\n  to {\\n    opacity: 1;\\n  }\\n}\\n\\n/* Internet Explorer */\\n@-ms-keyframes fadein {\\n  from {\\n    opacity: 0;\\n  }\\n  to {\\n    opacity: 1;\\n  }\\n}\\n\\n/* Opera < 12.1 */\\n@-o-keyframes fadein {\\n  from {\\n    opacity: 0;\\n  }\\n  to {\\n    opacity: 1;\\n  }\\n}\\n\\n/* Ghost Cell CSS */\\n\\n.v-Verdant-GhostBook-container {\\n  padding: var(--jp-cell-padding)\\n    calc(var(--jp-cell-padding) + var(--jp-notebook-padding));\\n  display: flex;\\n  flex-direction: row;\\n  border: 1px solid var(--jp-layout-color0);\\n}\\n\\n.v-Verdant-GhostBook-container.added {\\n  background-color: var(--verdant-cell-add-color0);\\n}\\n.v-Verdant-GhostBook-container.edited {\\n  background-color: var(--verdant-ghost-color0);\\n}\\n.v-Verdant-GhostBook-container.removed {\\n  background-color: var(--verdant-cell-remove-color0);\\n}\\n\\n.v-Verdant-GhostBook-container-stack {\\n  display: flex;\\n  position: relative;\\n  flex-direction: column;\\n  width: calc(100% - 8px);\\n}\\n\\n.v-Verdant-GhostBook-cell {\\n  background: var(--jp-layout-color0);\\n  color: var(--jp-content-font-color1);\\n  font-family: var(--jp-content-font-family);\\n  font-size: var(--jp-content-font-size1);\\n  line-height: var(--jp-content-line-height);\\n  min-height: 2em;\\n}\\n\\n.v-Verdant-GhostBook-cell.code {\\n  font-family: var(--jp-code-font-family);\\n  font-size: var(--jp-code-font-size);\\n  line-height: var(--jp-code-line-height);\\n  background: var(--jp-cell-editor-background);\\n  overflow-x: auto;\\n  border: var(--jp-border-width) solid var(--jp-cell-editor-border-color);\\n  white-space: pre;\\n}\\n\\n.v-Verdant-GhostBook-cell.code.active {\\n  box-shadow: var(--jp-input-box-shadow);\\n  background-color: var(--jp-cell-editor-active-background);\\n  border-color: var(--jp-cell-editor-active-border-color);\\n}\\n\\n.v-Verdant-GhostBook-cell.markdown {\\n  height: 100%;\\n}\\n\\n.v-Verdant-GhostBook-cell.added {\\n  border: var(--jp-border-width) solid lawngreen;\\n}\\n\\n.v-Verdant-GhostBook-cell.removed {\\n  border: var(--jp-border-width) solid red;\\n}\\n\\n.v-Verdant-GhostBook-cell-band {\\n  flex: 1 1 var(--jp-cell-collapser-width);\\n  padding: 0px;\\n  margin: 0px;\\n  margin-right: 4px;\\n  border: none;\\n  outline: none;\\n  background: transparent;\\n  border-radius: var(--jp-border-radius);\\n  opacity: 1;\\n  min-width: 8px;\\n}\\n\\n.v-Verdant-GhostBook-cell-band.active {\\n  background: var(--jp-brand-color1);\\n}\\n\\n.v-Verdant-GhostBook-cell-container {\\n  display: flex;\\n  flex-direction: row;\\n  position: relative;\\n}\\n\\n.v-Verdant-GhostBook-cell-container.output {\\n  padding-top: 5px;\\n}\\n.v-Verdant-GhostBook-cell-container.output.changed {\\n  background-color: var(--verdant-ghost-color0);\\n}\\n\\n.v-Verdant-GhostBook-cell-container.hoverInspect:hover,\\n.v-Verdant-GhostBook-cell-container.output.hoverInspect:hover,\\n.v-Verdant-GhostBook-cell-container.output.changed:hover,\\n.v-Verdant-GhostBook-cell-container.hoverInspect:hover\\n  .v-Verdant-GhostBook-cell,\\n.v-Verdant-GhostBook-cell-container.hoverInspect:hover\\n  .v-Verdant-GhostBook-cell-header,\\n.v-Verdant-GhostBook-cell-container.hoverInspect:hover\\n  .v-Verdant-GhostBook-cell-content,\\n.v-Verdant-GhostBook-cell-container.output.hoverInspect:hover\\n  .v-Verdant-GhostBook-cell,\\n.v-Verdant-GhostBook-cell-container.output.hoverInspect:hover\\n  .v-Verdant-GhostBook-cell-header,\\n.v-Verdant-GhostBook-cell-container.output.hoverInspect:hover\\n  .v-Verdant-GhostBook-cell-content {\\n  background-color: var(--verdant-ghost-color0);\\n}\\n\\n.v-Verdant-GhostBook-cell-content {\\n  flex: 1 1 100%;\\n  max-width: calc(100% - var(--jp-cell-prompt-width));\\n  background: var(--jp-cell-editor-background);\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n/* Ghost Output CSS */\\n\\n/* Ghost Label CSS */\\n\\n.v-Verdant-GhostBook-cell-header {\\n  position: relative;\\n  min-width: var(--jp-cell-prompt-width);\\n  max-width: var(--jp-cell-prompt-width);\\n  opacity: 0.8;\\n  box-sizing: border-box;\\n  padding: var(--jp-cell-padding);\\n}\\n\\n.v-Verdant-GhostBook-cell-label {\\n  position: absolute;\\n  z-index: 3;\\n  left: calc(1px - var(--jp-notebook-padding) - var(--jp-cell-padding));\\n  border: 1px solid var(--jp-border-color0);\\n  padding: 4px 8px;\\n  text-align: center;\\n  font-size: var(--jp-ui-font-size0);\\n  font-family: var(--jp-ui-font-family);\\n  color: var(--jp-content-link-color);\\n  text-decoration: underline;\\n}\\n\\n/* Ghost (ghost.ts) CSS */\\n\\n.v-Verdant-GhostBook-icon {\\n  background-image: var(--verdant-icon-ghostbook);\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"./img/log-icon-4.svg\");\nvar ___CSS_LOADER_URL_IMPORT_1___ = require(\"./img/ghost-book.svg\");\nvar ___CSS_LOADER_URL_IMPORT_2___ = require(\"./img/search.svg\");\nvar ___CSS_LOADER_URL_IMPORT_3___ = require(\"./img/time-inspect.svg\");\nvar ___CSS_LOADER_URL_IMPORT_4___ = require(\"./img/chevron-right.svg\");\nvar ___CSS_LOADER_URL_IMPORT_5___ = require(\"./img/chevron-down.svg\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\nvar ___CSS_LOADER_URL_REPLACEMENT_4___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_4___);\nvar ___CSS_LOADER_URL_REPLACEMENT_5___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_5___);\n// Module\nexports.push([module.id, \"/*-----------------------------------------------------------------------------\\n| Variables\\n|----------------------------------------------------------------------------*/\\n\\n:root {\\n  --jp-private-verdant-manager-tab-height: 24px;\\n\\n  --verdant-icon-logo: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");\\n\\n  --verdant-icon-ghostbook: url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \");\\n  --verdant-icon-search: url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \");\\n\\n  --verdant-icon-timeinspect: url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \");\\n\\n  --verdant-icon-datearrow-closed: url(\" + ___CSS_LOADER_URL_REPLACEMENT_4___ + \");\\n  --verdant-icon-datearrow-open: url(\" + ___CSS_LOADER_URL_REPLACEMENT_5___ + \");\\n\\n  --verdant-ghost-color0: rgba(140, 204, 237, 0.21);\\n  --verdant-ghost-color1: rgba(140, 204, 237, 0.5);\\n  --verdant-ghost-color2: #8ccced;\\n  --verdant-cell-change-color1: #92cbef;\\n  --verdant-cell-change-color2: #2199f1;\\n  --verdant-cell-remove-color0: rgb(255, 125, 125, 0.5);\\n  --verdant-cell-remove-color1: #ff7d7d;\\n  --verdant-cell-remove-color2: #ce1d1d;\\n  --verdant-cell-add-color0: rgba(210, 252, 157, 0.5);\\n  --verdant-cell-add-color1: #9dfcb6;\\n  --verdant-cell-add-color2: #107e5a;\\n}\\n\\n/*-----------------------------------------------------------------------------\\n| Verdant in the dock panel, copied css from tabs-extension\\n|----------------------------------------------------------------------------*/\\n.verdant-log-icon svg {\\n  fill: var(--jp-inverse-layout-color3);\\n}\\n\\n.verdant-icon-chevron {\\n  height: 16px;\\n  flex: 0 0 auto; /* prevents icon shrinking in flex context */\\n  vertical-align: middle;\\n  fill: var(--jp-ui-font-color1);\\n}\\n\\n.verdant-icon-big-chevron {\\n  height: 16px;\\n  flex: 0 0 auto; /* prevents icon shrinking in flex context */\\n  vertical-align: middle;\\n  stroke: var(--jp-ui-font-color2);\\n  margin: 0px 6px;\\n}\\n.verdant-icon-big-chevron:hover {\\n  stroke: var(--jp-ui-font-color1);\\n}\\n\\n.verdant-icon-x {\\n  fill: var(--jp-ui-font-color1);\\n  height: 16px;\\n  flex: 0 0 auto; /* prevents icon shrinking in flex context */\\n  vertical-align: middle;\\n}\\n\\n.verdant-icon-export {\\n  fill: var(--jp-ui-font-color1);\\n  height: 14px;\\n  flex: 0 0 auto; /* prevents icon shrinking in flex context */\\n  vertical-align: bottom;\\n}\\n\\n.verdant-icon-missingImage {\\n  fill: var(--jp-ui-font-color1);\\n  height: 14px;\\n  flex: 0 0 auto; /* prevents icon shrinking in flex context */\\n  vertical-align: middle;\\n}\\n\\n.verdant-link {\\n  text-decoration: underline;\\n  color: var(--jp-content-link-color);\\n}\\n\\n.v-Verdant-tooltip {\\n  position: absolute;\\n  padding: 4px 8px;\\n  background-color: var(--jp-layout-color2);\\n  color: var(--jp-ui-font-color1);\\n  font-size: var(--jp-ui-font-size2);\\n  border-radius: var(--jp-border-radius);\\n}\\n\\n.v-Verdant-sidePanel {\\n  display: flex;\\n  flex-direction: column;\\n  min-width: var(--jp-sidebar-min-width);\\n  color: var(--jp-ui-font-color1);\\n  background: var(--jp-layout-color1);\\n  /* This is needed so that all font sizing of children done in ems is\\n   * relative to this base size */\\n  font-size: var(--jp-ui-font-size1);\\n}\\n\\n#v-VerdantPanel header {\\n  border-bottom: var(--jp-border-width) solid var(--jp-border-color2);\\n  width: 100%;\\n  font-size: var(--jp-ui-font-size0);\\n  font-weight: 600;\\n  letter-spacing: 1px;\\n  margin: 0px;\\n  padding-bottom: 4px;\\n  padding-top: 4px;\\n  padding-left: 12px;\\n  text-transform: uppercase;\\n  display: inline-flex;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#verdant-landing {\\n  display: flex;\\n  flex-direction: column;\\n  height: 100%;\\n  justify-content: center;\\n  text-align: center;\\n  padding: 0px 10%;\\n}\\n\\n#verdant-landing-message {\\n  color: var(--jp-ui-font-color2);\\n  font-style: italic;\\n  font-size: var(--jp-content-font-size1);\\n}\\n\\n#verdant-landing-img {\\n  background-image: var(--verdant-icon-logo);\\n  background-position: center;\\n  background-repeat: no-repeat;\\n  background-size: contain;\\n  height: 3em;\\n  margin-top: 20px;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".v-VerdantPanel-cellList-sample {\\n  white-space: nowrap;\\n  padding: var(--jp-code-padding);\\n  width: calc(100% - var(--jp-code-padding));\\n  text-overflow: ellipsis;\\n  margin: 0px;\\n  overflow: hidden;\\n  /*height: calc(2em + var(--jp-code-padding));*/\\n  min-height: 1em;\\n}\\n\\n.v-VerdantPanel-cellList-sample.highlight {\\n  margin-left: calc(0.5em - 2px);\\n  border-color: var(--jp-brand-color1);\\n  border-width: 4px;\\n  border-radius: var(--jp-border-radius);\\n}\\n.v-VerdantPanel-cellList-sample.c {\\n  font-family: var(--jp-code-font-family);\\n  font-size: var(--jp-code-font-size);\\n  padding: var(--jp-code-padding);\\n  line-height: var(--jp-code-line-height);\\n}\\n\\n.v-VerdantPanel-cellList-sample h1,\\n.v-VerdantPanel-cellList-sample h2,\\n.v-VerdantPanel-cellList-sample h3,\\n.v-VerdantPanel-cellList-sample h4,\\n.v-VerdantPanel-cellList-sample h5,\\n.v-VerdantPanel-cellList-sample h6,\\n.v-VerdantPanel-cellList-sample p {\\n  padding: 0px;\\n  margin: 0px;\\n}\\n\\n.v-VerdantPanel-sampler-content {\\n  -webkit-margin-before: 5px;\\n  -webkit-margin-after: 0px;\\n  -webkit-margin-start: 0px;\\n  -webkit-margin-end: 0px;\\n  -webkit-padding-start: 0px;\\n}\\n\\n.v-VerdantPanel-sampler-version-content {\\n  width: max-content;\\n  padding-left: var(--jp-code-padding);\\n}\\n.v-VerdantPanel-sampler-version-content.overflow {\\n  border-bottom: 1px solid var(--jp-warn-color0);\\n  margin-bottom: 10px;\\n}\\n\\n.v-VerdantPanel-sampler-version-content.markdown {\\n  font-family: var(--jp-content-font-family);\\n}\\n\\n.v-Verdant-sampler-markdown-linebreak {\\n}\\n\\n.v-VerdantPanel-sampler-version-content.code {\\n  white-space: nowrap;\\n  font-family: var(--jp-code-font-family);\\n  padding: var(--jp-code-padding);\\n}\\n\\n.v-VerdantPanel-sampler-version-content.output pre {\\n  /*white-space: nowrap;*/\\n}\\n\\n.v-VerdantPanel-sampler-version {\\n  display: flex;\\n  font-size: var(--jp-code-font-size);\\n  line-height: var(--jp-code-line-height);\\n  letter-spacing: var(--jp-cell-prompt-letter-spacing);\\n  font-family: var(--jp-cell-prompt-font-family);\\n  text-align: left;\\n  overflow-x: auto;\\n}\\n.v-VerdantPanel-sampler-version.code {\\n  background: var(--jp-cell-editor-background);\\n}\\n.v-VerdantPanel-sampler-version.last {\\n  border-bottom: var(--jp-border-width) solid transparent;\\n}\\n.v-VerdantPanel-sampler-version.markdown {\\n  font-size: var(--jp-ui-font-size1);\\n  color: var(--jp-ui-font-color1);\\n  font-family: var(--jp-ui-font-family);\\n}\\n\\n.v-VerdantPanel-cellList-sample .jp-RenderedSVG img,\\n.v-VerdantPanel-sampler-version .jp-RenderedSVG img {\\n  height: 16px;\\n  width: 2em;\\n  background-size: contain;\\n  background-repeat: no-repeat;\\n  background-position: center;\\n  flex: 0 0 auto; /* prevents icon shrinking in flex context */\\n  vertical-align: middle;\\n}\\n\\n.markdown-sample {\\n  padding: 4px;\\n}\\n.markdown-sample h1,\\n.markdown-sample h2,\\n.markdown-sample h3,\\n.markdown-sample h4 {\\n  margin: 2px;\\n  font-size: initial;\\n}\\n\\n.v-Verdant-sampler-code-same {\\n  display: inline-block;\\n}\\n.v-Verdant-sampler-code-added {\\n  /*tested for accessibility */\\n  color: #1a4936;\\n  display: inline-block;\\n  background: #e8ffd5;\\n}\\n.v-Verdant-sampler-code-removed {\\n  color: red;\\n  text-decoration: line-through;\\n  display: inline-block;\\n  background-color: var(--verdant-cell-remove-color0);\\n}\\n\\n.v-VerdantPanel-sample-searchResult {\\n  background-color: #f7b500;\\n}\\n\\n.v-VerdantPanel-sampler-version-header {\\n  font-size: var(--jp-ui-font-size0);\\n  padding-left: var(--jp-cell-padding);\\n  padding-top: var(--jp-cell-padding);\\n  color: var(--jp-content-font-color2);\\n  text-transform: uppercase;\\n  border-top: 1px solid var(--jp-border-color2);\\n}\\n.v-VerdantPanel-sampler-version-header.search {\\n  border-top: 0px;\\n}\\n.v-VerdantPanel-sampler-version-header.searchVerLabel {\\n  padding-inline-start: 2em;\\n  border-top: 0px;\\n}\\n\\n.v-VerdantPanel-sampler-version-header-link {\\n  text-decoration: underline;\\n  color: var(--jp-content-link-color);\\n}\\n\\n.v-VerdantPanel-wishbone-highlight {\\n  background-color: var(--jp-editor-selected-focused-background);\\n  opacity: 0.4;\\n}\\n.v-VerdantPanel-wishbone-code {\\n  z-index: 14;\\n}\\n.v-VerdantPanel-wishbone-code-mask {\\n  width: 100%;\\n  height: 100%;\\n  display: inline-block;\\n  position: absolute;\\n  z-index: 12;\\n  top: 0px;\\n  left: 0px;\\n  cursor: default;\\n}\\n.v-VerdantPanel-wishbone-code-mask.highlight {\\n  background-color: var(--jp-editor-selected-focused-background);\\n  opacity: 0.4;\\n}\\n\\n.v-VerdantPanel-wishbone-code-highlight {\\n  background: var(--jp-editor-selected-focused-background) !important;\\n  background-color: var(--jp-editor-selected-focused-background);\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".v-VerdantPanel-search {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.v-VerdantPanel-searchContainer {\\n  display: flex;\\n  position: relative;\\n  flex-direction: row;\\n  vertical-align: text-bottom;\\n  padding: 18px 12px;\\n  background: var(--jp-layout-color0);\\n}\\n\\n.v-VerdantPanel-searchIcon {\\n  display: inline-block;\\n  width: 14px;\\n  flex: 0 0 auto; /* prevents icon shrinking in flex context */\\n  margin-right: 4px;\\n  fill: var(--jp-content-font-color2);\\n}\\n\\n.v-VerdantPanel-searchContainer .v-VerdantPanel-searchIcon {\\n  width: calc(1.75em - 2px);\\n  fill: var(--jp-layout-color4);\\n  margin-right: 1em;\\n}\\n\\n.v-VerdantPanel-searchContainer .verdant-icon-x {\\n  margin-top: 3px;\\n  z-index: 2;\\n  fill: var(--jp-ui-font-color2);\\n  padding: 3px;\\n  border-radius: 5px;\\n  background: var(--verdant-ghost-color1);\\n}\\n\\n.v-VerdantPanel-searchText {\\n  display: inline-block;\\n  flex: 1 1 auto;\\n  height: 1.75em;\\n  vertical-align: text-bottom;\\n  outline: transparent;\\n  color: var(--jp-ui-font-color0);\\n  background: var(--jp-layout-color0);\\n  padding-left: 5px;\\n  border: 1px solid var(--jp-layout-color4);\\n  border-radius: var(--jp-border-radius);\\n}\\n\\n.v-VerdantPanel-searchContent {\\n  display: flex;\\n  flex-direction: column;\\n  flex: 1 1 auto;\\n  overflow: hidden;\\n}\\n\\n.VerdantPanel-search-results-message {\\n  text-align: center;\\n  padding: var(--jp-cell-padding);\\n  font-style: italic;\\n}\\n\\n.VerdantPanel-search-results-header {\\n  display: flex;\\n  padding: 14px 10px;\\n  background: var(--jp-layout-color0);\\n  color: var(--jp-ui-font-color1);\\n}\\n.VerdantPanel-search-results-header.open {\\n  border-bottom: 1px solid var(--jp-layout-color2);\\n  box-shadow: 0px 0px 2px var(--jp-inverse-layout-color2);\\n}\\n\\n.VerdantPanel-search-results-header-title {\\n  margin-left: 2em;\\n}\\n\\n.VerdantPanel-search-results-category {\\n  flex: 0 0 auto;\\n  min-height: calc(24px + 1.5em);\\n  overflow: hidden;\\n  border-bottom: 2px solid var(--jp-layout-color3);\\n}\\n.VerdantPanel-search-results-category.open {\\n  flex: 0 1 auto;\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.VerdantPanel-search-results-category-content {\\n  overflow: scroll;\\n}\\n\\n.VerdantPanel-search-results-category-footer {\\n  border: 4px solid var(--jp-layout-color0);\\n  border-bottom: 6px solid var(--jp-layout-color0);\\n  border-top: 0px;\\n  text-align: right;\\n  padding: var(--jp-cell-padding);\\n  padding-top: 0px;\\n  display: none;\\n}\\n\\n.VerdantPanel-search-results-category-footer:hover {\\n  background: var(--jp-rendermime-table-row-background);\\n}\\n\\n.VerdantPanel-search-results-artifact-header {\\n  display: flex;\\n  justify-content: space-between;\\n  padding: 4px 10px;\\n  font-size: var(--jp-content-font-size0);\\n  color: var(--jp-ui-font-color2);\\n}\\n\\n.VerdantPanel-search-results-artifact-header.list-result {\\n  justify-content: flex-end;\\n}\\n\\n.VerdantPanel-search-results-artifact-header.open-artifact {\\n  position: sticky;\\n  top: 0px;\\n  background: var(--jp-layout-color0);\\n  z-index: 5;\\n}\\n\\n.VerdantPanel-search-results-artifact-cell-title svg {\\n  margin-right: 1em;\\n}\\n\\n.VerdantPanel-search-results-artifact {\\n  margin-top: 20px;\\n  border-bottom: 1px solid var(--jp-border-color3);\\n  padding-bottom: 10px;\\n}\\n\\n.VerdantPanel-search-results-artifact.open {\\n  padding-bottom: 20px;\\n  border-color: var(--jp-border-color0);\\n}\\n\\n.VerdantPanel-search-results-artifact:last-child,\\n.VerdantPanel-search-results-artifact.open:last-child {\\n  border-color: transparent;\\n}\\n\\n.VerdantPanel-search-results-header-button {\\n  padding-top: 2px;\\n  width: 12px;\\n  font-size: 1em;\\n  opacity: 0.7;\\n  display: inline-block;\\n  float: left;\\n}\\n\\n.VerdantPanel-search-results-header-button .circle {\\n  position: relative;\\n  width: 12px;\\n  height: 12px;\\n}\\n.VerdantPanel-search-results-header-button .circle .horizontal {\\n  position: absolute;\\n  background-color: var(--jp-content-font-color1);\\n  width: 8px;\\n  height: 2px;\\n  left: 50%;\\n  margin-left: -4px;\\n  top: 50%;\\n  margin-top: 2px;\\n}\\n.VerdantPanel-search-results-header-button .circle .vertical {\\n  position: absolute;\\n  background-color: var(--jp-content-font-color1);\\n  width: 2px;\\n  height: 8px;\\n  left: 50%;\\n  margin-left: -1px;\\n  top: 50%;\\n  margin-top: -6px;\\n}\\n\\n.v-VerdantPanel-search-version {\\n  margin: 2px 10px;\\n  border: 1px solid var(--jp-content-link-color);\\n  border-radius: var(--jp-border-radius);\\n  max-height: 50vh;\\n  overflow: scroll;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".v-VerdantPanel-Summary-title {\\n  width: 100%;\\n  padding: 8px;\\n  padding-top: 12px;\\n  text-align: center;\\n}\\n\\n.v-VerdantPanel-Summary-header {\\n  display: inline-block;\\n  width: calc(100% - 10px);\\n  padding: 5px;\\n  border-bottom: 1px solid var(--jp-border-color3);\\n  margin: 0px;\\n  color: var(--jp-ui-font-color3);\\n}\\n.v-VerdantPanel-Summary-header-label {\\n  display: inline-block;\\n  text-align: center;\\n}\\n.v-VerdantPanel-Summary-header-label.cell {\\n  width: 25%;\\n}\\n.v-VerdantPanel-Summary-header-label.r {\\n  color: var(--jp-ui-font-color0);\\n  width: 15%;\\n}\\n.v-VerdantPanel-Summary-header-label.preview {\\n  width: 60%;\\n}\\n\\n.v-VerdantPanel-Summary-table {\\n  display: inline-flex;\\n  flex-direction: column;\\n  width: 100%;\\n  overflow: hidden scroll;\\n}\\n\\n.v-VerdantPanel-Summary-table-row {\\n  position: relative;\\n  width: 100%;\\n  border-bottom: 1px solid var(--jp-border-color2);\\n  max-height: 50vh;\\n  overflow: hidden;\\n}\\n.v-VerdantPanel-Summary-table-row:hover,\\n.v-VerdantPanel-Summary-table-row.c:hover {\\n  background-color: var(--verdant-ghost-color0);\\n}\\n.v-VerdantPanel-Summary-table-row.c {\\n  background-color: var(--jp-cell-editor-background);\\n}\\n.v-VerdantPanel-Summary-table-row.focused:before {\\n  position: absolute;\\n  content: \\\"\\\";\\n  height: 100%;\\n  width: var(--jp-cell-collapser-width);\\n  background-color: var(--jp-brand-color1);\\n  border-radius: var(--jp-border-radius);\\n}\\n\\n.v-VerdantPanel-Summary-table-row-name {\\n  display: inline-block;\\n  width: 25%;\\n  text-align: center;\\n}\\n.v-VerdantPanel-Summary-table-row-name.o {\\n  vertical-align: top;\\n}\\n.v-VerdantPanel-Summary-table-row-version {\\n  display: inline-block;\\n  width: 15%;\\n  text-align: center;\\n  font-weight: bold;\\n}\\n\\n.v-VerdantPanel-Summary-table-row-sample {\\n  display: inline-block;\\n  width: calc(60% - 1px);\\n  vertical-align: middle;\\n  border-left: 1px solid var(--jp-border-color2);\\n}\\n\\n.v-VerdantPanel-Summary-table-row-outputLabel {\\n  display: inline-block;\\n  position: relative;\\n  border-left: 1px solid var(--jp-content-font-color2);\\n  border-bottom: 1px solid var(--jp-content-font-color2);\\n  padding: 0.25em 0.5em;\\n  margin-bottom: 6px;\\n  margin-left: calc(50% - 0.5em);\\n  font-size: smaller;\\n}\\n.v-VerdantPanel-Summary-table-row-outputLabel:after {\\n  position: absolute;\\n  content: \\\"\\\";\\n  bottom: -4px;\\n  right: -6px;\\n  width: 0;\\n  height: 0;\\n  border-top: 4px solid transparent;\\n  border-bottom: 4px solid transparent;\\n  border-left: 6px solid var(--jp-content-font-color2);\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".v-VerdantPanel {\\n  display: flex;\\n  flex-direction: column;\\n  height: 100%;\\n}\\n\\n.v-VerdantPanel-content {\\n  overflow-y: scroll;\\n  overflow-x: hidden;\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.v-VerdantPanel-content-container {\\n  overflow: hidden;\\n  height: 100%;\\n}\\n\\n.v-VerdantPanel-inspectorButton {\\n  position: sticky;\\n  width: 100%;\\n  bottom: 0px;\\n  background: var(--jp-layout-color0);\\n  border-top: 1px solid var(--jp-border-color0);\\n  box-shadow: 0px 0px 4px var(--jp-inverse-layout-color4);\\n}\\n.v-VerdantPanel-inspectorButton:hover {\\n  background: var(--jp-layout-color2);\\n}\\n.v-VerdantPanel-inspectorButton.active {\\n  background-color: var(--jp-cell-editor-active-border-color);\\n  color: white;\\n}\\n.v-VerdantPanel-inspectorButton.active:hover {\\n  background-color: var(--jp-brand-color0);\\n}\\n\\n.v-VerdantPanel-inspectorButton-label {\\n  display: inline-block;\\n  width: calc(100% - 16px);\\n  text-align: center;\\n  padding: 8px;\\n}\\n\\n.v-VerdantPanel-inspectorButton-icon {\\n  width: 20px;\\n  vertical-align: middle;\\n  fill: var(--jp-content-font-color2);\\n  margin-left: 1em;\\n}\\n.v-VerdantPanel-inspectorButton.active .v-VerdantPanel-inspectorButton-icon {\\n  fill: white;\\n}\\n\\n.v-VerdantPanel-tabContainer {\\n  display: flex;\\n  flex-direction: row;\\n  width: 100%;\\n  min-height: 2em;\\n}\\n\\n.v-VerdantPanel-tab {\\n  display: inline-block;\\n  padding: var(--jp-cell-padding);\\n  border: var(--jp-border-width) solid var(--jp-border-color1);\\n  flex: 1 1 auto;\\n  background: var(--jp-layout-color2);\\n  border-left-width: 0px;\\n  text-align: center;\\n  user-select: none;\\n  border-top-width: 0px;\\n}\\n.v-VerdantPanel-tab.active {\\n  background: var(--jp-layout-color0);\\n  border-bottom-color: transparent;\\n  /*border-top: var(--jp-private-horizontal-tab-active-top-border) solid\\n    var(--jp-brand-color1);*/\\n}\\n\\n.v-VerdantPanel-tab-header {\\n  display: flex;\\n  flex-direction: row;\\n  border-bottom: 1px solid var(--jp-border-color2);\\n  padding-bottom: 4px;\\n  position: sticky;\\n  top: 0px;\\n  background: var(--jp-layout-color0);\\n  z-index: 2;\\n  box-shadow: 0px 2px 7px 0px var(--jp-border-color3);\\n}\\n\\n/*\\n* Animated button\\n*/\\n\\n.vertical {\\n  transform: rotate(-45deg);\\n}\\n.horizontal {\\n  transform: rotate(-45deg);\\n  opacity: 1;\\n}\\n\\n.opened .circle {\\n  transition: all 0.25s ease-in-out;\\n  transform: rotate(90deg);\\n}\\n\\n.closed .circle {\\n  transition: all 0.25s ease-in-out;\\n  transform: rotate(0deg);\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 350 360\\\">\\n  <path fill-rule=\\\"nonzero\\\" d=\\\"M305.47188 0c5.84159 17.7574 2.14145 39.38545-11.10041 64.88417-11.8438 22.80657-29.10644 45.41865-51.78794 67.83624l-.31516 2.21034-.3207 2.13668-.22416 1.43097-.2386 1.47272-.25307 1.51451-.2675 1.5563-.28196 1.59812-.45003 2.47562-.31808 1.70274-.33254 1.74462-.15073.77297 18.694.00096c3.18043 0 6.20076.64547 8.2952 1.78206l.2798.15802c2.275 1.2346 3.325 2.82194 3.15 4.49747l-.30725 2.00958-.30684 1.92541-.20412 1.23727-.30524 1.787-.30373 1.70506-.20144 1.09158-.3003 1.57033-.19879 1.00253-.29573 1.43789-.19535.91501-.19376.88044-.19206.8461-.28463 1.20533-.18726.76135-.18513.72787-.18287.69465-.1805.66167h36.4c34.64212 1.054 44.1878 45.90346 46.8005 72.35272l.1641 1.73534c.05142.5689.0996 1.12804.14477 1.67673l.1266 1.61402.10967 1.54721.0939 1.47632.0939 1.6787.07485 1.5627.03093.7356.07 2.01305.03025 1.17164.02602 1.48397.00951 1.13428v.2962c0 23.01646-4.025 44.62194-11.2 61.02447-8.75 19.84178-21 29.45401-37.8 29.45401H49c-36.0094 0-45.5789-46.481-48.10417-73.12604l-.15979-1.76549a210.6136 210.6136 0 01-.0723-.8588l-.13025-1.66687-.11221-1.59548-.0955-1.51958-.08008-1.43916-.09257-1.96082-.06633-1.76278-.03698-1.25798-.02502-1.1147-.01981-1.38727L0 268.71207c0-23.01646 4.025-44.62195 11.2-61.02448 8.75-19.84177 21-29.454 37.8-29.454h82.425l1.87746-.3416 1.84584-.3432 1.81446-.3447 1.78333-.34606 1.75244-.34732 1.72181-.34846 1.69143-.34948 2.4807-.52588 1.61654-.35152 1.58702-.35212 2.32571-.52908 1.5143-.35314 1.48566-.35334 1.45725-.35342 1.42908-.35338 2.09139-.52975 2.02942-.52901 1.31894-.35207 1.92801-.52689 1.25212-.35029 1.82893-.52367 1.7706-.52121 1.1484-.34591 1.67524-.51624 1.61913-.51271 2.07301-.67747 1.49148-.50297.96464-.33265.9412-.33038.918-.328 1.33403-.48726.86108-.32152 1.24982-.477 1.2004-.47031.77324-.30963 1.11992-.45829 1.07273-.45054 1.02639-.4424.98088-.43386.9362-.42492 1.05744-.49367c.51343-.24341 1.00408-.48162 1.47277-.71424l.9083-.45768.43261-.22305.82305-.43408.76798-.41752.71432-.40028.97396-.56663.86115-.5241.5138-.32464.46719-.30407.6165-.41605.51957-.36598.42741-.31365.34003-.25907.51569-.40685c1.75-2.20464 5.95-3.52742 10.85-3.52742l16.585-.00096.13858-.69608.50536-2.61316.31891-1.68924.30453-1.64691.29014-1.60458.27574-1.56221.26136-1.51984.24696-1.47744.23257-1.43503.21818-1.3926.53115-3.59112.545-3.90444.67985-5.08459.83797-6.49936.16354-1.30854c-22.2354-16.15689-38.16027-33.18246-47.77463-51.07672l-3.39907-6.33741-5.59032-10.48595-3.78866-7.17764-2.66144-5.10423-1.80466-3.51452-.9025-1.78623-.74572-1.50057-.44184-.90574-.38095-.79683L168 25.9371c21.62542 8.57138 38.78116 21.33706 51.46722 38.29704 9.2215 12.32823 16.77715 26.1715 22.66695 41.5298 5.24027-17.6801 12.0726-33.05379 20.49607-46.12121C276.18632 38.61303 290.46687 18.73213 305.47188 0zM266.7 336.7032l-1.09123.0284-2.16996.06347-2.15312.07224-2.13604.0809-2.11876.08937-2.10125.09774-2.08351.10594-2.06557.114-2.04739.12192-3.03653.19742-2.001.14109-1.98204.1485-2.93706.23636-1.93372.16641-1.914.17333-1.89405.1801-1.8739.18673-1.85352.1932-1.8329.19955-1.8121.20574-1.79104.21179-1.76978.2177-1.7483.22345-1.72658.22908-1.70466.23455-1.6825.23988-2.48176.3695-1.62617.25259-1.60325.2574-1.5801.2621-1.55675.26664-1.53316.27103-1.50935.27528-1.48532.2794-1.46108.28335-1.43661.28719-1.41193.29086-1.387.29439-1.36189.29778-1.33653.30103-1.31096.30413-1.918.4617-1.24606.31127-1.21971.31385-1.19315.31632-1.16636.31863-1.13935.3208h89.95c-2.8-3.0865-5.425-6.61393-7.525-10.4941zM138.55045 202.40141l-2.13314.00605a350.72507 350.72507 0 00-4.187.04942l-2.05447.04261-2.0289.05406-2.0036.0651c-.6637.02352-1.32322.0488-1.97864.0758l-1.95399.08611-1.92963.09604-2.8495.16184-2.79647.18208-1.83538.132-1.8126.14005-1.79012.14771-1.76796.15502-1.74611.16193-1.72458.16848-1.70336.17465-1.68244.18044-1.66185.18585-1.64155.1909-2.42498.29496-1.5922.20184-2.35242.30962-1.5448.21044-1.52639.21322-2.25573.32422-2.21606.32836-2.17743.33123-3.54609.55497-2.765.44322-2.03347.33-6.48741 1.0654-2.51647.40769-2.4901.39398-2.46542.37742c-8.99673 1.35007-17.53003 2.309-25.97519 2.24642-.175.26456-.175.52912-.35.79368-2.275 6.52573-4.375 14.02151-5.95 22.0464 6.301.53979 11.55838 1.46828 16.0989 2.62493l1.16844.3068c1.1526.31177 2.25836.63812 3.32307.9762l.98828.32094a79.7274 79.7274 0 01.9652.32733l.94318.33317a82.33345 82.33345 0 011.37584.50958l.89283.3455.87455.3495.85736.353.84121.35596.82615.3584.81215.3603 1.19431.5429 1.16883.54423 1.9012.90526 1.1185.53917 1.8897.90187 1.20173.56617 1.51772.6998.9229.41452.93483.4097.949.40424.96538.39812.6538.2617.66274.2585 1.01233.38135.68798.24967.69925.2458.71116.24174.72374.23749.73698.23304.75088.2284.76544.22358.78067.21856.79656.21334 1.22606.30981.83917.19947 1.07463.24104 1.10436.23147.90577.17802.92628.17148.47104.08321 1.44572.23929.9918.15064 1.01497.14333.51638.06885 1.05095.13197 1.07577.12417 1.10124.11617 1.12739.10798 1.15419.0996 1.18165.09102 1.20977.08225.61564.03778 1.2532.06875 1.28299.0595 1.31342.05007c.44295.01509.89109.02858 1.34452.04043l1.37628.03061a187.464 187.464 0 001.40871.0206l1.4418.01039.73351.0013c.68793 0 1.36775-.00157 2.03974-.0047l1.99282-.014 1.94765-.02318.95744-.01499 1.88322-.0367 1.84247-.04555 2.69116-.08464 1.74832-.06712 1.71376-.0755 1.68094-.08378 1.6499-.09191 2.42052-.15283 1.58002-.11168 1.55516-.11936 1.53207-.12691 1.51073-.13433 1.49117-.14162 1.47336-.14878 2.18052-.2363 2.1504-.25168 1.41981-.17612 1.41083-.18262 1.40362-.189 1.39817-.19524 1.3945-.20137 2.08869-.31323 1.39301-.2161c3.5-.5291 7.175.44093 8.225 2.20465 1.05 1.76371-.875 3.6156-4.375 4.14472l-1.44393.21455-2.14883.31115-2.12357.2967-2.12874.28537-1.42479.18368-1.43122.17824-1.4393.17265-1.44902.1669-1.46041.16098-1.47344.1549-1.48813.14869-1.50446.14228-2.29092.2011-2.33696.18581-1.5863.11512-1.6109.10794-2.46605.14808-2.53066.13101-1.72576.0776-2.65073.10136-2.7302.08286-1.86704.0447-1.90648.03607-1.94758.0273-3.00203.02412-2.05755.00464c-3.1325 0-6.08125-.06173-8.86305-.17831l-1.64918-.07648-1.60992-.0893-.79049-.04937-1.55254-.10795-1.51529-.11995a148.72991 148.72991 0 01-2.20487-.20172l-1.4257-.14853a133.97077 133.97077 0 01-2.07427-.24304l-1.34116-.17504-1.30876-.18507-1.27715-.19477a113.99511 113.99511 0 01-1.24636-.20413l-1.21637-.21317a105.76084 105.76084 0 01-1.77009-.33598l-1.14493-.23433a98.37006 98.37006 0 01-1.6667-.36615l-1.07853-.25341-1.05338-.26046-1.02903-.2672-.50564-.136-.99404-.27666a88.0546 88.0546 0 01-.9717-.28256l-.95018-.28813-.46727-.14605-.91942-.29587-.8999-.30061-.88122-.30503-.86332-.30911-.84623-.31287-.82995-.31629-1.21617-.48013-1.18408-.48598-1.15471-.49072-.75483-.32922-1.1118-.49613-1.0897-.4979-1.42323-.66466L53.025 250.634c-.85556-.41153-1.70247-.8187-2.54962-1.21911l-1.27202-.59523-.8515-.39027-.8566-.38441-1.08092-.47146-1.09582-.46041-.88997-.35967-.90395-.35139a66.79132 66.79132 0 00-.9199-.34257l-.93783-.33322c-4.4214-1.53235-9.4928-2.74155-16.11687-3.3817-.175 1.67552-.525 3.43923-.7 5.11476l1.61018.27427 1.27627.23504 1.21806.24056.93339.19619.45324.09928.87996.20081.84516.20369.81101.20637.77752.20888.74469.21122.7125.21337c.23222.07146.45918.14325.68099.21534l.65011.21715.6199.21876.59033.22021.56144.22148.53318.22256.5056.22348.47864.2242c.07757.03742.15404.07486.22943.11232l.43947.22498.2102.1126.40177.22534.19173.11268.36553.2253.3422.22506.31952.22463a11.0937 11.0937 0 01.2975.22403l.27612.22325.13025.11128.2453.22175c.15688.14745.30061.29408.43206.43966l.18807.21755.1703.21579.0787.10718.14488.21282c.02278.03529.0449.0705.06635.1056l.12094.20945a4.49172 4.49172 0 01.1058.20699l.0913.20434.07746.20151.06429.19852.07315.29176.04103.23723.02427.2315.00822.18085.0006.0889-.01125.2604-.02912.25045-.02824.16114c-.51042 2.41776-3.58142 4.53544-8.41408 6.10798l-.70227.22091-.72573.21334c-.36864.10475-.74588.2066-1.13143.30546l-.78209.1937a53.98737 53.98737 0 01-1.21354.27527l-.83522.17307-.42526.08335-.86554.16023-.8851.15146-.90416.14254-.9227.13345-.9407.1242-.9582.11481-.97518.10525a86.91088 86.91088 0 01-.4938.04899v3.26287h9.8c3.675 0 6.475 1.49915 6.475 3.26287 0 1.76371-2.975 3.26287-6.475 3.26287h-9.8c.04375.6173.07656 1.2346.10664 1.8519l.09023 1.8519c.06563 1.2346.15313 2.4692.32813 3.7038l3.06566.02929 4.6414.06074 3.85796.06406 4.14803.08187 5.1664.12033 3.88117.10377 4.84016.1457 5.01149.17047 2.56071.09506 4.33648.17375 4.40735.19376 3.56537.1701 3.0954.15694 2.5771.13673 2.53967.14116 2.5022.14562 3.683.22675 2.4084.15672 2.37082.16117 3.48569.25009 2.27672.17228 2.23901.17672 2.2013.18117 3.2311.28008 2.1068.19228 3.08923.29676 3.00396.30675 1.9552.21006 1.91722.2145 1.8792.21895 1.84115.2234.9063.11335 2.6617.34676 1.7268.23673 2.51857.36342 1.63126.24783 1.98526.31605 1.9254.323.75337.13113 1.47798.26562a187.302 187.302 0 011.43957.27006l1.40114.2745 1.36266.27895c.67171.14058 1.32898.28284 1.97179.42676l1.26634.29006c1.24704.29228 2.4362.59123 3.56733.89684l1.11178.30784 1.07305.31229c3.16104.94351 5.79885 1.94703 7.90935 3.01055 4.725 2.38101 7 5.02658 7 8.0249 0 11.54724-28.1986 16.74808-61.95489 19.0876l-2.71193.18113a584.9727 584.9727 0 01-2.73307.16931l-2.75163.1579a663.0537 663.0537 0 01-2.76761.14688l-2.78102.13626-2.79186.12603-2.8001.1162c-.46724.01857-.9347.03675-1.40235.05454l-2.80767.1022a900.8922 900.8922 0 01-1.40468.04776l-2.80942.0891-2.80738.08085-2.80275.073c-.4666.01154-.9329.02276-1.39884.03369l-3.53114.07728-3.51232.06647-3.48827.05646-3.459.04725-3.4245.03885-3.38476.03125-4.99125.03439-4.87248.02182-4.73608.01196.43526.98887.43658.95988c.43712.9455.8757 1.84807 1.3142 2.70934l.43842.84757.43801.8204.43727.79361.43618.76718.43474.74112.43296.71542c.072.11712.1439.23318.2157.3482l.42965.67756c.1428.2217.28515.43928.427.65278l.42403.62837.4207.60433.41701.58064.413.55733.20488.27003.40633.52305.501.62234.49272.58807.38774.44625.38166.42513.37523.40439.36845.384.36134.36398.35387.34434.34607.32504.17.15541.33371.29681.32505.27844.31603.26044.30667.2428.29698.22554.28693.20863.27653.1921.2658.17592.37783.23438.23747.1371.3337.17786.20696.10057.19417.0866.09217.03818h112c6.94575-3.27786 15.8884-6.06571 26.04578-8.38284l1.75302-.39261 1.77594-.38342c1.48926-.31568 3.00148-.6218 4.5344-.91842l1.84927-.35139 1.86826-.34227a305.59739 305.59739 0 011.88636-.3332l2.11614-.3596 2.1362-.34843 2.15508-.33731 2.17274-.32622a370.58972 370.58972 0 012.18921-.31515l2.20448-.3041 1.1076-.14793 2.22512-.28761 2.2374-.27665 2.24845-.26571a435.61265 435.61265 0 012.25831-.25481l2.26698-.24394a455.75498 455.75498 0 012.27444-.23309l2.28069-.22227 2.28575-.2115 2.2896-.20072 1.14588-.09635 2.29314-.18465c.38229-.02989.76462-.05933 1.14696-.08832l2.29397-.16865 1.1467-.08033 2.29209-.1527 1.14509-.07237 2.28751-.13682a511.04112 511.04112 0 013.42236-.18547l3.40806-.16183 2.2621-.0948 2.25274-.08438 2.24218-.07397c-1.575-3.52743-2.975-7.31941-4.025-11.0232l-1.12367.0083-2.20839.0226-2.15735.03046-2.10736.0382-2.0584.04581-2.01051.0533-1.96365.06065-1.91784.06788-1.87307.07497-1.82936.08194-1.7867.08879-1.74506.0955-1.70449.10207-1.66495.10853-1.62648.11485-1.58904.12106-1.55264.12712-1.5173.13306-1.48301.13888-1.44976.14456-1.41755.1501-1.3864.15555-2.02345.2432-1.31308.16853-1.28558.17352-1.25913.17836-1.23373.18308-1.20938.18768-1.77069.28983-1.15307.19859-1.69113.3056-1.1033.2087-1.62138.32016-1.06007.218-1.56145.33353-1.02338.2265-1.51133.34568-1.48596.35238-1.46412.35867-.9657.24238-2.38554.61649-1.41686.37646-2.34867.637-4.09002 1.13097-3.85818 1.10126-2.64395.73785-2.03427.55326-1.38512.36811-1.41104.3671-1.43938.36575-1.4701.36401-1.88448.45205-1.9409.44808a225.9071 225.9071 0 01-1.59648.35515l-1.63798.3518-1.68186.3481-1.72816.34403-1.77683.3396-.90742.16804-1.85433.3323c-1.56773.27475-3.1924.54396-4.88023.80668l-2.05613.3121-1.71157.24799-1.16465.16283-1.78333.24036-2.44762.31295-1.88974.2288-1.93746.22353-1.98645.21806-2.03673.21241-2.79602.27408-1.43332.133-2.19516.19428-2.25052.18787-2.30715.18125-2.36504.17445-2.42423.16745-1.64965.10765-2.52567.15537-2.58824.14786-2.65208.14017-3.6376.17459-1.86315.08189-1.89323.07822-2.89703.1103-2.96682.10172-3.03786.09294-3.11018.08397-2.11426.0509-3.23354.0686-2.19768.04047-2.23171.0362-2.26611.03187-3.4645.03958-3.54403.02952-3.62483.01927-3.7069.00884c-.4165.0004-.83452.00059-1.2541.00059-3.675 0-6.475-1.49916-6.475-3.26287 0-1.76371 2.975-3.26287 6.475-3.26287l4.52036-.00766 2.21111-.0095 5.38737-.04004 3.13783-.03495 4.07578-.05908 3.95483-.07304 2.88837-.06374 3.74966-.09668 2.7376-.0811 2.67487-.0883 3.4709-.12873 3.36413-.14096 3.26005-.15288 2.37836-.1223 3.0844-.17295 2.24974-.13696 2.1965-.14303 2.1444-.14896 2.09346-.15473 2.04364-.1604 1.99496-.1659 2.5174-.2232 2.07875-.19661 2.02427-.20275a347.20064 347.20064 0 001.97131-.2087l1.9199-.21445c.31578-.0362.62948-.07265.94114-.10933l1.84561-.22275c.3036-.03758.6052-.07537.90487-.11338l1.77478-.23064c.29198-.03886.58207-.07794.8703-.11721l1.70738-.23811 1.66436-.24285c.27389-.04086.54605-.08192.81652-.12315l1.8814-.29414 1.82749-.30002 1.77609-.3056a225.59984 225.59984 0 003.4079-.62678l1.63679-.32057.80269-.16195 1.57552-.32703a217.45984 217.45984 0 001.5378-.33097l2.24137-.50317 1.45433-.33949 1.42531-.34237 1.39876-.34495 2.05382-.52162 1.34328-.35009 1.98224-.52792 2.59505-.70749 7.0378-1.94926 3.22026-.87434 1.62595-.4315 1.6424-.42684 1.66325-.42156 1.12261-.2778 1.13517-.27495 1.14902-.27195 1.1642-.26874 1.18067-.26534 1.80478-.39123 1.2276-.25602 1.24869-.25195 1.27105-.2477 1.9514-.36316 1.33274-.23623 2.05006-.34506 1.4026-.22357 1.43284-.21817.72817-.107 1.48065-.20973 2.28424-.30351 1.5669-.19468.79717-.09498 1.62258-.18508.82574-.09007 1.68121-.17506a271.90222 271.90222 0 011.72193-.16814l1.76397-.16104a299.75636 299.75636 0 012.72763-.2278l1.87478-.14241c.31632-.0231.63457-.04586.9548-.0683l1.9452-.13069c.32821-.0211.65845-.04189.99074-.06232l2.01857-.11852 2.06913-.11016 2.12099-.10163 2.17416-.09289 2.22864-.08397 2.28443-.07486 1.16355-.03396 2.37058-.06084 2.42965-.05125 1.23739-.02197 2.5207-.0365a609.7337 609.7337 0 011.28366-.0145c-.81667-3.01791-1.4216-5.98247-1.9795-8.93518l-.4705-2.52896-2.41233-.0385-2.36456-.04796-2.3177-.05728-2.27176-.06642-2.22674-.0754-1.09678-.04101-2.16093-.08855a436.36253 436.36253 0 01-1.06439-.0475l-2.09718-.10132-2.05584-.10964-2.0154-.1178-1.9759-.12576-2.41569-.16818-2.35718-.18007-.92689-.07528-1.82701-.15604-1.7921-.16318-1.75808-.17017a301.52395 301.52395 0 01-.86657-.08766l-2.55124-.27298-1.66157-.19013-1.63124-.19645-1.60181-.20261a263.99918 263.99918 0 01-1.57332-.2086l-1.54574-.21443-1.51907-.22008-1.49333-.22558-1.4685-.2309-1.44458-.23607-1.4216-.24106-1.39952-.24589-1.37836-.25055-1.35813-.25505-1.3388-.25938-1.3204-.26355-1.30291-.26755-1.28635-.27138-1.2707-.27505-1.25596-.27855-1.85834-.42403-1.83035-.43098-1.20621-.2909-2.38293-.58966-1.76498-.44846-2.90852-.75763-2.30527-.61377-2.52063-.68063-5.9876-1.63017-3.45462-.92992-2.04728-.54162-2.07336-.53869-2.10495-.53484-1.42357-.35398-1.4417-.3516-2.2001-.52232-1.49415-.34445-1.51799-.34111-1.54345-.33751-2.36651-.49892-1.61427-.32732-1.64546-.32277-1.67827-.31794-.85196-.15708-1.73055-.3102-1.76746-.30472-.89807-.1502-1.82587-.29596-1.86684-.28977a291.1568 291.1568 0 00-2.88067-.4225l-1.97644-.27316a310.97301 310.97301 0 00-2.02313-.26603l-2.07145-.25864-2.12141-.25098-2.173-.24304-2.22623-.23484c-3.38008-.34596-6.9453-.66332-10.72045-.94796l-2.54814-.18487c-3.43971-.2399-7.04966-.45324-10.84725-.63712l-2.88364-.13233a614.3373 614.3373 0 00-4.46098-.1772l-3.0667-.10353-2.61364-.07713-2.66741-.06863a737.79497 737.79497 0 00-1.35417-.0311l-2.74985-.0556a787.27011 787.27011 0 00-1.39592-.0245l-2.83441-.04223a848.65799 848.65799 0 00-2.89198-.03313l-3.54767-.0275-2.71702-.0117-2.76602-.00392c-3.675 0-6.475-1.49916-6.475-3.26287 0-1.76371 2.975-3.26287 6.475-3.26287l3.45617.00594 3.38389.01768 3.3128.0292 3.2429.04054 3.17425.05164 3.10677.06255 2.03429.04765 2.997.08027 2.93273.09061 1.92006.06606 2.82831.1074 2.76728.1172 1.81153.08347 2.6682.13306 1.7466.09385 1.72126.0979 2.53514.1543 2.48012.16305 2.4263.1716 2.3737.17993 2.32228.18806 2.27208.19598 1.48743.13495 1.46601.13832 2.15963.21366 1.41402.14647 2.08333.22558 1.36427.15423 2.38847.28281c3.14456.3833 6.13061.79114 8.97985 1.21977l2.11161.32531c2.78218.4388 5.43296.89744 7.97403 1.3722l1.88557.35902 1.84646.36472.9092.18438 1.7916.3726 1.75757.3774 1.72558.38186 1.69562.38597 1.66768.38972 1.6418.39314 1.61792.39618 1.59609.3989 1.5763.40123 2.33176.6055 3.0587.81229 9.78685 2.6583 3.0901.82804 2.64558.69337 2.1401.5467 2.1682.53837 1.64857.39762 1.11125.26188 1.12198.25916 1.70486.38333 1.15237.25174 1.16597.24852 1.77624.36642 1.20354.23985 1.22001.23613 1.2373.23228 1.2554.22827 1.27435.22413 1.29408.21985 1.31466.21542 1.33604.21086 1.35826.20615 1.38129.20129 1.40514.1963 1.42981.19117 1.4553.18588 1.48163.18047 1.50875.1749 1.53671.16921 1.56549.16336 1.59508.15737 1.6255.15124 1.65673.14497 1.6888.13856 1.72166.132 1.75537.12531 1.78989.11847 1.82523.11149 1.86139.10436 1.89837.0971 1.93617.0897 1.9748.08214 3.0364.10875 3.12792.09097 2.13749.05053 2.18021.04228-.34352-2.8742c-.22037-1.88783-.41481-3.71033-.53148-5.41526l-.89258-.0145-1.78504-.0367a303.12348 303.12348 0 01-1.7837-.04707l-1.78088-.0576-1.7766-.06829a281.06435 281.06435 0 01-1.77088-.0791l-1.76367-.09009-1.755-.1012a254.39872 254.39872 0 01-1.7449-.11248l-1.7333-.12389a232.16978 232.16978 0 01-2.57504-.20757l-1.69795-.15309c-1.97149-.18554-3.90888-.39544-5.80173-.63078l-1.6113-.20797c-1.0666-.14283-2.11767-.29406-3.1513-.4539l-1.53707-.24622-.97248-.16497-.96068-.17039-.9485-.17585-.93595-.18134-.92299-.18689-.90965-.19245-.89592-.19808-.8818-.20372-.86732-.20942a84.71722 84.71722 0 01-.4281-.10686l-.84482-.21804-.82937-.22382a72.64808 72.64808 0 01-.40876-.1141l-.80544-.23259a65.97029 65.97029 0 01-.39658-.1185l-.78064-.24143-.76363-.24738a55.75796 55.75796 0 01-.3753-.12594l-.73738-.25638a50.11005 50.11005 0 01-.36197-.13045l-.71026-.26547-.6917-.27157c-6.36798-2.56326-10.25982-5.9294-10.25982-10.24192 0-7.23123 5.425-12.346 16.625-15.78523a64.19597 64.19597 0 01.9161-.27277l.9393-.2648.96285-.25688.98671-.249 1.01092-.24117 1.03547-.23338c1.04786-.22951 2.13304-.44742 3.25706-.65392l1.13702-.20272 1.16324-.19516c.78432-.1276 1.58635-.2502 2.40653-.36785l1.24395-.17278 1.27153-.16541c.42847-.05391.8616-.1066 1.29944-.1581l1.32768-.1508 1.35627-.1436 1.38519-.1364 1.41444-.12927 1.44404-.12218 1.47397-.11513 1.50423-.10814 1.53483-.10118 1.56578-.09428 1.59705-.08742 1.62866-.08061 1.66061-.07384 1.6929-.06713 1.72551-.06044 2.65018-.07826 1.80854-.04397c.35-3.79198.875-7.4076 1.575-11.0232-12.54815.73161-23.12977 2.5471-33.3108 4.91427l-1.90463.45018-.9495.2297-1.89486.4681a349.68544 349.68544 0 00-1.8912.4791l-1.88983.4893-1.89076.49872-2.84292.76404-2.85793.78085-4.81757 1.33164-1.575.44093c-3.15.88186-7.175.35274-8.925-1.32278-.525-.52912-.875-1.05823-.875-1.58735 0-1.1464 1.225-2.29282 3.325-2.91012l2.89027-.80642 3.93484-1.09014 2.62046-.7186 2.62418-.70942 1.75402-.4667 1.75943-.46092 2.6526-.67907 1.77957-.4435a309.84846 309.84846 0 011.79025-.43535l1.80244-.42652c1.20603-.28125 2.4212-.55616 3.6475-.82383l1.84805-.39595c10.21303-2.1466 21.25264-3.76934 34.24639-4.36046 1.05-4.67384 2.275-9.1713 3.675-13.40422-10.84291.49114-20.83767-.8128-31.1652-2.8109l-2.14186-.42294-2.08619-.42657-2.09939-.44116-2.1147-.45378-2.13214-.46442-8.59141-1.89138-2.74525-.59386-2.79728-.59236-2.13536-.44132-2.16992-.43723-1.46694-.28855-1.48399-.2857-1.5017-.28247-1.5201-.2788-1.53916-.27474-1.5589-.27026-1.9774-.3309-2.01061-.32247-1.63327-.25136-2.4928-.36504-1.69145-.23478-1.71588-.22743a277.69647 277.69647 0 00-1.741-.21966l-1.7668-.2115a277.11199 277.11199 0 00-.89328-.10256l-1.80674-.19847-.91363-.09581-1.8482-.18452a280.49038 280.49038 0 00-.93475-.08861l-1.89117-.16965-.9566-.08094-1.93567-.15386-1.96616-.14281-1.99733-.13136c-3.01971-.18825-6.1469-.33646-9.39177-.4384l-1.086-.03225a370.3569 370.3569 0 00-4.51284-.1104l-2.2146-.0339-2.18713-.02022a348.04888 348.04888 0 00-2.15998-.00689zM301 190.4914l-.24046.13188-.25175.14688-.26269.16222-.27329.17793-.42906.2971-.2983.21872-.30769.23565-.31676.25294-.32548.27057-.33386.28855-.34189.3069-.34959.32558-.53805.52419-.36733.37384-.37382.39376-.37998.41404-.3858.43465-.39125.45564-.3964.47695-.60345.7562-.51028.66826-.51628.70366-.41691.58885a50.30569 50.30569 0 00-.41999.6123l-.42272.63608-.42511.66021-.42717.68471-.42888.70955-.21497.3642-.4308.74746-.43165.7732-.43217.79925-.43234.82568-.43217.85246-.43165.87958c-.3594.74438-.71792 1.51739-1.07465 2.31993l-.42717.9773-.42511 1.006-.52799 1.2984-.10509.26518c-5.95 15.07975-9.275 34.65697-9.275 55.11604 0 20.45907 3.325 39.9481 9.275 55.11603l.4214 1.04972c.07045.1725.14102.3438.21168.51387l.42511 1.006c.35517.82632.71247 1.62274 1.07102 2.39017l.4308.90706.21574.4432.43195.86597a71.0771 71.0771 0 00.64847 1.24854l.43217.79926.43165.77319.4308.74747.21497.3642.42888.70954.42717.68471.42511.66022.42272.63608c.07024.10402.14036.20705.21036.3091l.41849.60053.5185.718.51276.68234.20335.2631.40344.5096.5964.72355.58487.67556.38293.4243.37694.40385.37062.38376.36395.36402.35693.34462.3496.32559.34188.30689.33386.28856.32548.27056.31676.25294.45804.3471.29347.2104.28354.19397.2733.17793.38994.23757.24615.13933a9.7245 9.7245 0 00.1188.06409l.24046-.13188.25175-.14688.26269-.16223.27329-.17793.28354-.19398.29347-.21038.30304-.22715.31227-.24425.32116-.2617.32971-.27952.33792-.29768.17193-.15576.34959-.32559.35694-.34462.36394-.36401.37062-.38376.37694-.40386.38293-.4243.38857-.4451.39387-.46625.39883-.48775.20116-.25205.40563-.52066.61602-.82307.41524-.57727.20886-.29734.41999-.6123.21104-.31504.42396-.6481.42618-.67242a57.36087 57.36087 0 00.21382-.34544l.42888-.70954a61.5221 61.5221 0 00.43024-.73474l.43127-.76029a66.48439 66.48439 0 00.43195-.78617l.4323-.81243.4323-.83903.43195-.86597.43127-.89328c.35901-.75587.71695-1.54054 1.07294-2.35494l.42618-.9916.42396-1.02048c.14092-.34501.2814-.6949.4214-1.04972 5.95-15.07975 9.275-34.65696 9.275-55.11603 0-20.37089-3.325-39.9481-9.275-55.11604a94.80862 94.80862 0 00-.4214-1.04971l-.42396-1.02049-.42618-.9916c-.35599-.8144-.71393-1.59907-1.07294-2.35494l-.43127-.89328a74.51827 74.51827 0 00-.43195-.86597l-.4323-.83902c-.28823-.55045-.57647-1.08316-.86425-1.59861l-.43127-.76028a61.5221 61.5221 0 00-.43024-.73474l-.42888-.70955-.21382-.34544-.42618-.67241-.635-.96315-.41999-.6123-.4169-.58885-.2072-.28575-.41165-.55437-.40772-.5318-.40344-.50961a40.04763 40.04763 0 00-.20002-.24659l-.39639-.47696-.39126-.45563-.57653-.64423-.37694-.40385-.37062-.38376-.54331-.53873-.3533-.33506-.34579-.3162-.33792-.29767-.3297-.27952-.32117-.26171-.31227-.24425-.451-.3344-.28854-.20215-.27846-.1859-.39803-.24921-.25175-.14688-.24046-.13188zM25.025 290.22936l.525 4.40929c6.68168.18051 12.7659.40084 18.306.65409l3.25918.15584a716.92926 716.92926 0 011.58141.08078l3.0681.16707c7.51389.42666 13.86342.9196 19.22845 1.45556l2.09393.21662c23.14582 2.47978 26.552 5.77955 26.9764 7.72952l.03292.18882.017.1795.00472.16973-.01288.30821-.03148.36624-.02203.1629-.03238.17214a2.7307 2.7307 0 01-.04604.18085l-.063.18904-.03396.08564-.0808.17555-.0999.18096a3.05023 3.05023 0 01-.12123.18602l-.14483.1907c-1.33774 1.64002-5.47722 3.7507-18.65137 5.35154l-1.59196.18592c-2.4516.27517-5.19215.53328-8.25593.76891l-2.09078.1537a340.3313 340.3313 0 01-1.08201.07425l-2.23867.14306-2.34007.13551c-1.19577.06581-2.4304.12866-3.70519.18835l-2.60346.1151c-2.65773.11077-5.47942.20836-8.47521.29118l-3.0542.07784a763.04835 763.04835 0 01-1.57134.03511l-3.23253.0624-3.35424.05165-3.4782.04057a1026.97206 1026.97206 0 01-3.60442.02912c.25 1.00784.58929 1.97068.95408 2.95281l.44592 1.19192 4.01068-.00316 5.55769-.01627 5.76627-.034 2.9506-.02502 2.98986-.03108 4.54895-.05916 4.61306-.07585 3.10383-.06074 3.12156-.0695 3.135-.07883 1.5712-.04307 3.93446-.1189 3.93698-.1358 1.57362-.05927 3.14226-.12743 1.56757-.0683 3.12533-.14607c5.19618-.25423 10.32293-.56306 15.29063-.93778l3.38553-.26232 2.55912-.2133 1.28743-.11372 2.58362-.2421 1.93988-.1947 1.93652-.20632 1.92846-.21821 1.27882-.15224 1.27176-.15774 1.26328-.16335 1.25343-.16903 1.8586-.26442 1.22267-.18364 1.20793-.18965 1.1918-.19573 1.17425-.20192 1.15534-.20818c.3818-.07045.76022-.14195 1.13502-.21454l1.38807-.27724 1.35142-.28749 1.05292-.23748 1.02632-.24423.50275-.12468.98382-.25454.95374-.26152.37457-.1071.73353-.21766.7121-.2223.68995-.22697.66707-.2317.64347-.23649c4.20952-1.59256 6.79726-3.50654 6.79726-5.80352 0-1.14641-1.05-2.20464-3.15-3.26287-.72383-.36475-1.53689-.7187-2.43313-1.06217l-.68769-.25564a40.96455 40.96455 0 00-.35536-.12635l-.73342-.24978-.7632-.24592-.79241-.24209-.82107-.23827a70.33343 70.33343 0 00-.84915-.2345l-.87667-.23075-.90362-.22703a92.38237 92.38237 0 00-.46174-.11212l-.943-.2215-.96852-.21784-.9935-.21423-1.01791-.21062-1.04176-.20707-1.6061-.30396-1.09887-.19827-1.12075-.1948-1.72087-.28578-1.17293-.18626-1.1928-.1829-1.82526-.26808-1.8668-.26068-1.90646-.25335-1.29205-.16488-1.96828-.24137-2.6778-.31084-1.36052-.15078-2.06622-.22046-2.09504-.21368-2.12197-.207-2.86785-.26576-3.5722-.31037-1.43697-.11884-2.89644-.22978-1.45842-.11098-2.93457-.2143-2.95473-.20425a834.5125 834.5125 0 00-2.97066-.1944l-2.98237-.18478-2.98988-.17536-2.99317-.16615-1.4965-.07969-2.99018-.15273-2.98293-.14406-2.97145-.1356-2.95576-.12734-2.93585-.1193-2.91173-.11146-2.88339-.10385-4.26271-.14195-2.79409-.08572-5.45465-.15103-3.95755-.09623-5.07178-.10695-3.63166-.06513-3.46826-.05297-2.21438-.02893zm1.575 11.0232c.525 2.64558 1.05 5.20296 1.575 7.67216l2.8862-.01987 3.71485-.03857 2.68743-.0376 2.60398-.04468 3.34398-.0701 2.41336-.06009 3.09363-.08953 1.4943-.0486 3.58504-.13202 2.04924-.08596 2.61577-.12186 3.08586-.16298 2.32464-.13804 2.1993-.14408 2.07645-.1494 1.4782-.11513 1.41154-.11741 2.20729-.19998 1.63786-.16304 1.52683-.16498 1.07373-.1246 1.01372-.12498.95475-.12508 1.18309-.1664 1.0826-.16533.98461-.16354L84 305.75004l-.84636-.17259-1.19702-.22417-1.07238-.18522-1.17754-.18968-.9539-.14477-1.7282-.24514-1.1219-.14892-1.18717-.14994-1.68648-.20096-1.34413-.15112-1.41344-.15113-1.48397-.15084-2.09043-.20015-1.65327-.149-2.3206-.1966-1.8292-.1455-2.5596-.19088-2.70015-.18663-2.84358-.18166-2.22857-.13257-2.31208-.12907-3.21483-.16615-2.51173-.11976-2.59932-.11528-3.60412-.14619-2.80845-.10363-2.9001-.09813-4.01148-.1218zm226.1-46.29746c-.7817.01933-1.55022.0407-2.30578.06408l-2.22806.0761-2.15167.08778c-3.5232.15588-6.73363.35917-9.65909.60326l-1.7213.1513-1.65422.16078c-19.99411 2.04003-24.99043 6.17005-26.23895 9.71594l-.09324.28617a6.53612 6.53612 0 00-.04088.14203l-.0711.28174a6.9687 6.9687 0 00-.03056.13963l-.05933.32127-.04462.31602-.03202.31027-.02149.30404-.01307.2973-.00674.29007-.00288.56192c0 1.64637 1.31682 3.08538 3.65113 4.32707l.49738.2541c.42642.2094.88247.41295 1.36662.61071l.59437.23454c.20255.07726.4095.15359.62076.229l.64655.22347.67176.21798.69638.21249c.11808.03496.23716.06969.35724.1042l.7322.2043c.12398.0336.24892.06697.37482.10011l.7667.19616.78896.19076.81064.18538a73.6106 73.6106 0 00.41326.09068l.84204.17734.86224.172 1.05701.19875 1.08406.19119.55186.09276 1.12275.1799 1.14727.17241 1.7647.24466 1.20417.15385.61003.07416 1.2353.14282 1.2548.1355 1.91652.18961 1.2991.11737 1.31507.11016 1.33001.103 1.34396.09588 1.3569.08879 2.05738.11994 1.38483.0712 2.09456.09372 2.11233.07814 1.4164.0435 1.42179.03665 1.42615.02985-.05986-.9463-.07634-1.35883-.06162-1.2829-.06198-1.58624-.04235-1.4364-.03489-1.85516-.01086-1.25321-.0021-1.1278c0-4.67384.175-9.2595.525-13.75696zM24.325 254.426l-.14592 1.45365c-.1148 1.22251-.20408 2.4643-.20408 3.66111l.73214-.10424a43.446 43.446 0 00.69643-.11058l.66072-.11606.625-.1207.58928-.12447.81697-.19189.5-.13014.46428-.13092.42857-.13083.5759-.1942.33928-.12687.30357-.12378.32924-.14908.27344-.14125.09375-.05392.16072-.10287c.19047-.13244.28571-.24522.28571-.3292l-.00744-.02558-.02298-.03499-.03954-.04405-.05711-.05276-.0757-.06112-.15061-.10659-.19813-.12343-.16017-.09105-.18383-.09766-.20849-.10391-.3612-.16683-.27458-.11801-.46508-.18633-.34702-.12992-.37775-.13407-.40951-.13787-.44228-.1413-.72709-.21767-.52864-.14839-.56495-.1506-.60229-.15248-.64063-.154-.67998-.15515zm148.4-39.77173c8.75 2.02827 14.175 6.34936 14.175 11.19958 0 4.59462-4.7353 8.59269-12.70965 10.73755l-.41535.10928c-37.59525 9.95263-71.58863 10.31145-100.79153 1.07646l-.88347-.28279c-7.04455-2.25114-11.22129-6.03242-11.37084-10.25884l-.00416-.23525c0-2.82194 1.75-5.37933 5.25-7.58397 25.725-15.87342 73.5-12.52236 106.75-4.76202zM76.3 223.73738c-1.49625.92154-2.36075 2.08184-2.44346 3.25408l-.00654.18516c0 2.02827 1.925 3.79198 5.25 4.85021 24.9375 8.02857 54.3307 7.76677 87.50125-.7854l1.04875-.27283c3.85-.97004 6.125-2.91012 6.125-5.02658 0-2.23249-2.32275-4.13056-6.32207-5.12437l-.32793-.07858c-46.2-10.84684-77.7-5.20296-90.825 2.9983zm143.85-60.49536l-.54458.38562-.3851.26548-.40307.27204-.63893.42007-.68095.43405-.72394.4476-.76788.46067-.5368.31416-.84324.48146-.58793.32759-.92126.50097-.64083.34017-1.00193.5192-.6955.3519-1.08527.53618-1.13654.54574-.78665.36892-.81016.37283-1.2599.56629-.87014.38202-.89463.38546-.9194.38876-.94445.39193-1.46429.59354-1.00833.39926-1.0344.40194-1.06071.4045-1.08734.40693-1.68152.61464-1.15512.41238-1.18272.41433-1.21061.41614-1.86883.6273-1.28159.42008c-.43199.14026-.8688.28073-1.31046.42141h9.1c6.475 0 11.9 2.64557 11.9 5.99663 0 3.35105-5.25 5.99662-11.9 5.99662H49.875l-.1011.0404-.21517.09342-.23197.11063-.2482.12837-.26387.14662-.27899.16539-.29354.18467-.30752.20446a16.48872 16.48872 0 00-.32095.22478l-.3338.24562-.34612.26695-.35784.28882-.36902.31119-.47614.42123-.4916.45801-.4037.39357-.41235.41825-.52672.55833-.53825.59874c-.28995.33027-.58435.6782-.88244 1.0445l-.44982.56329c-.1508.1924-.30244.3895-.4548.59133l-.45924.6199a45.4975 45.4975 0 00-.6959.98452l-.46784.69355-.47028.7239c-1.0212 1.60175-2.05573 3.42094-3.07783 5.48116 5.0575-.14991 10.39597-.72459 16.1428-1.53147l2.04544-.2941 2.08061-.31152 2.117-.32703 3.2465-.51553 11.13602-1.80637 2.76934-.43797 2.83115-.43698 2.89532-.43339 1.47245-.21453 2.24052-.3182 2.27959-.31288 1.54193-.2051 1.56003-.20194 2.37463-.29624 1.60658-.1926 1.62572-.18827 1.64514-.18365 2.50479-.26609 1.695-.17065 1.71547-.16488 1.73622-.1588 1.75726-.15237 1.77862-.14564 1.80024-.13857 1.82219-.13118 1.8444-.12346 1.86693-.11543 1.88975-.10705 2.87804-.1442 1.94808-.08473 1.97192-.07522.995-.03395 2.00824-.06037 2.03283-.05006 2.0577-.03941 2.08288-.02846a381.37534 381.37534 0 012.10834-.01717l2.1341-.00556 1.07681.00168 2.1733.01247a397.18113 397.18113 0 015.54982.08622l2.26733.05737 1.14397.03375c1.0747.03112 2.1383.06708 3.19097.10766l2.09087.08727a323.72334 323.72334 0 013.08257.1532l2.01975.11647 1.99196.1275 1.96452.13815 1.93746.14843.9587.07796 1.89756.16316 1.87142.17251 1.84565.1815 1.82026.1901 1.79522.19834 1.77056.2062 2.17908.26826 2.14185.27923 1.68715.2308 1.66416.23699 1.64152.2428 1.61926.24826 2.38797.38177 2.33995.39193 2.29319.40084.75422.13537 2.23278.41074 1.46407.27723 2.16038.42 2.1186.42388 1.3898.28412 2.05175.42755 2.01329.42808 2.62672.56942 9.91525 2.1991 2.63199.57416 2.56839.5479 1.67983.34907 1.65595.33498.81956.1619 1.62338.31204c9.67997 1.82367 18.30574 2.75607 27.57744 1.85757l.42-1.05258c.21-.52065.42-1.0286.63-1.5048 0-.08818.175-.26456.175-.35274-1.64826-.37838-3.2256-.7838-4.73022-1.21515l-.9923-.2914-.97062-.299-.94884-.30655a68.02513 68.02513 0 01-.92693-.314l-.90492-.3214c-9.9815-3.62992-15.82181-8.62845-16.77617-14.53689-5.075-.70549-8.75-2.99831-8.75-5.73207 0-3.26287 5.25-5.99662 11.9-5.99662h1.75l.16102-.59578.16487-.63329.16874-.6714.17259-.71008.26611-1.13897.18223-.8094.1861-.85016.18994-.89149.1938-.93343.29793-1.48005.30661-1.57771.3153-1.67736.215-1.17459.32976-1.84785h-25.2v-.26456zm54.075 26.98481h-23.8c.93586 3.4584 4.51315 6.91678 12.96226 9.62588l.90747.28237c.30855.09318.6232.1854.94403.27664l.96506.2664.49618.13099c2.275-4.05654 4.725-7.58397 7.525-10.58228z\\\"/>\\n</svg>\\n\";","import { URLExt } from '@jupyterlab/coreutils';\n\nimport { ServerConnection } from '@jupyterlab/services';\n\n/**\n * Call the jupyter API extension\n *\n * @param endPoint API REST end point for the extension\n * @param init Initial values for the request\n * @returns The response body interpreted as JSON\n */\nexport async function requestAPI<T>(\n  endPoint = '',\n  init: RequestInit = {}\n): Promise<T> {\n  // Make request to Jupyter API\n  const settings = ServerConnection.makeSettings();\n  const requestUrl = URLExt.join(\n    settings.baseUrl,\n    'verdant', // API Namespace\n    endPoint\n  );\n\n  let response: Response;\n  try {\n    response = await ServerConnection.makeRequest(requestUrl, init, settings);\n  } catch (error) {\n    throw new ServerConnection.NetworkError(error as any);\n  }\n\n  let data: any = await response.text();\n\n  if (data.length > 0) {\n    try {\n      data = JSON.parse(data);\n    } catch (error) {\n      console.log('Not a JSON response body.', response);\n    }\n  }\n\n  if (!response.ok) {\n    throw new ServerConnection.ResponseError(response, data.message || data);\n  }\n\n  return data;\n}\n","import {\n  JupyterFrontEnd,\n  JupyterFrontEndPlugin,\n  LabShell,\n} from \"@jupyterlab/application\";\nimport { toArray } from \"@lumino/algorithm\";\n\nimport { Store } from \"redux\";\n\nimport { VerdantInstanceManager } from \"./instance-manager\";\n\nimport { Ghost } from \"./verdant-ui/ghost-book/ghost\";\n\nimport { IRenderMimeRegistry } from \"@jupyterlab/rendermime\";\n\nimport { IDocumentManager } from \"@jupyterlab/docmanager\";\n\nimport { NotebookPanel } from \"@jupyterlab/notebook\";\n\nimport { FileManager } from \"./verdant-model/jupyter-hooks/file-manager\";\n\nimport * as renderers from \"@jupyterlab/rendermime\";\n\nimport { Signal } from \"@lumino/signaling\";\n\nimport { requestAPI } from './handler';\n\n/*\n * Load styles for all components\n */\nimport \"../style/index.css\";\nimport \"../style/ghost.css\";\nimport \"../style/sampler.css\";\nimport \"../style/activity.css\";\nimport \"../style/verdant-panel.css\";\nimport \"../style/summary.css\";\nimport \"../style/landing.css\";\nimport \"../style/search.css\";\nimport \"../style/artifact-details.css\";\n\nimport { RenderBaby } from \"./verdant-model/jupyter-hooks/render-baby\";\nimport { VerdantUI } from \"./verdant-ui\";\nimport { scService } from \"./verdant-model/sc/ sc-service\";\n\n/**\n * Initialization data for the Verdant extension.\n */\nconst extension: JupyterFrontEndPlugin<void> = {\n  id: \"Verdant\",\n  activate: (\n    app: JupyterFrontEnd,\n    docManager: IDocumentManager,\n    rendermime: IRenderMimeRegistry,\n    latexTypesetter: renderers.ILatexTypesetter\n  ) => {\n    /**\n     * Get the Science Capsule API URL which is stored\n     * in an environment variable and shared via the sc_api_url server route. \n     * Then store this value in scService so it can be used in other parts of the frontend.\n     */\n    requestAPI<any>('sc_api_url')\n      .then(res => {\n        console.log(res);\n        scService.apiUrl = res.data;\n      })\n      .catch(reason => {\n        console.error(\n          `The verdant server extension appears to be missing.\\n${reason}`\n        );\n      });\n    /*\n     * Create app-level functions\n     */\n    const linkHandler = {\n      handleLink: (node: HTMLElement, path: string) => {\n        app.commandLinker.connectNode(node, \"docmanager:open\", { path: path });\n      },\n    };\n    const fileManager = new FileManager(\n      docManager,\n      app.serviceManager.contents\n    );\n    const renderBaby = new RenderBaby(\n      rendermime,\n      latexTypesetter,\n      linkHandler,\n      fileManager\n    );\n    const openGhostBook = (ghostWidget: Ghost, store: Store, ver: number) =>\n      __openGhostBook(app, ghostWidget, store, ver);\n    const shutDownInstance = (panel) => __shutDownInstance(app, panel, manager);\n    /*\n     * Create instance manager to change what the app shows based on\n     * which notebook is open\n     */\n    const sidePanel = new VerdantUI();\n    const manager = new VerdantInstanceManager(\n      sidePanel,\n      renderBaby,\n      fileManager,\n      openGhostBook,\n      shutDownInstance\n    );\n\n    /*\n     * Create app UI\n     */\n    app.shell.add(sidePanel, \"left\", { rank: 600 });\n\n    // Connect signal handlers for editor view change.\n    (app.shell as LabShell).activeChanged.connect(() =>\n      updateVerdantView(app, manager)\n    );\n\n    // Connect signal to shutdown everything\n    (app.shell as LabShell).disposed.connect(() => {\n      manager.dispose();\n      Signal.clearData(this);\n    });\n\n    // Populate Verdant if a notebook is open\n    updateVerdantView(app, manager);\n  },\n  autoStart: true,\n  requires: [IDocumentManager, IRenderMimeRegistry, renderers.ILatexTypesetter],\n};\n\n/*\n * Determine if a notebook is showing and update Verdant to\n * show appropriate content for the user's current view\n */\nfunction updateVerdantView(\n  app: JupyterFrontEnd,\n  manager: VerdantInstanceManager\n) {\n  let widget = app.shell.currentWidget;\n\n  // normal notebook\n  if (widget instanceof NotebookPanel) {\n    // open Verdant for this current notebook\n    let verInst = manager.getInstance(widget);\n    manager.switchNotebook(verInst);\n  } else {\n    // hide Verdant content if notebook is not showing\n    manager.activeInstance = undefined;\n  }\n\n  // log new layout\n  manager.logCurrentLayout();\n}\n\n/*\n * Close a Verdant instance\n */\nfunction __shutDownInstance(\n  app: JupyterFrontEnd,\n  panel: NotebookPanel,\n  manager: VerdantInstanceManager\n) {\n  const index = manager.instances.findIndex((i) => i.panel === panel);\n  if (index) {\n    const inst = manager.instances[index];\n    const path = inst.panel.sessionContext.path;\n    if (manager.activeInstance === inst) manager.activeInstance = null;\n\n    // dispose instance only if it's notebook is not open in another tab\n    setTimeout(() => {\n      // wait 2 minutes to see if they're gonna open up this tab again\n      let openNotebook = toArray(app.shell.widgets(\"main\")).find((widg) => {\n        if (widg instanceof NotebookPanel)\n          return widg.sessionContext.path === path;\n      });\n      if (!openNotebook) {\n        let rem = manager.instances.splice(index, 1);\n        rem.forEach((inst) => inst.notebook.dispose());\n      }\n    }, 120000);\n\n    inst?.logger?.log(\"Notebook Closed\");\n    updateVerdantView(app, manager);\n  }\n}\n\n/*\n * Open Ghost Book for any given Verdant instance\n */\nfunction __openGhostBook(\n  app: JupyterFrontEnd,\n  ghostWidget: Ghost,\n  store: Store,\n  ver: number\n) {\n  // initial ghost book\n  if (!ghostWidget) {\n    ghostWidget = new Ghost(store, ver);\n  }\n  // changing notebook\n  else ghostWidget.initStore(store, ver);\n\n  if (!ghostWidget.isAttached) {\n    // Attach the widget to the main work area if it's not there\n    app.shell.add(ghostWidget, \"main\");\n  }\n  // Activate the widget\n  app.shell.activateById(ghostWidget.id);\n\n  return ghostWidget;\n}\n\nexport default extension;\n","import { createStore, applyMiddleware, Store } from \"redux\";\nimport { VerdantLog } from \"./verdant-ui/logger\";\nimport {\n  verdantReducer,\n  createInitialState,\n  setGhostOpener,\n} from \"./verdant-ui/redux/\";\n\nimport { NotebookPanel } from \"@jupyterlab/notebook\";\n\nimport { FileManager } from \"./verdant-model/jupyter-hooks/file-manager\";\n\nimport { AST } from \"./verdant-model/analysis/ast\";\n\nimport { VerdantNotebook } from \"./verdant-ui/verdant-notebook\";\n\nimport { History } from \"./verdant-model/history\";\n\nimport { RenderBaby } from \"./verdant-model/jupyter-hooks/render-baby\";\nimport { VerdantUI } from \"./verdant-ui\";\nimport { Ghost } from \"./verdant-ui/ghost-book/ghost\";\n\nexport type VerdantInstance = {\n  history: History;\n  analysis: AST;\n  notebook: VerdantNotebook;\n  panel: NotebookPanel;\n  logger: VerdantLog;\n  store: Store;\n};\n\nexport class VerdantInstanceManager {\n  //app utilities\n  private readonly fileManager: FileManager;\n  private readonly renderBaby: RenderBaby;\n  private readonly openGhostBook: (\n    ghostPanel: Ghost,\n    store: Store,\n    ver: number\n  ) => Ghost;\n  private readonly shutDownInstance: (panel: NotebookPanel) => void;\n  readonly ui: VerdantUI;\n\n  // instances\n  public instances: VerdantInstance[];\n  private __activeInstance: VerdantInstance;\n  private ghostPanel: Ghost;\n\n  constructor(\n    ui: VerdantUI,\n    renderBaby: RenderBaby,\n    fileManager: FileManager,\n    openGhostBook,\n    shutDownInstance\n  ) {\n    this.ui = ui;\n    this.renderBaby = renderBaby;\n    this.fileManager = fileManager;\n    this.openGhostBook = openGhostBook;\n    this.shutDownInstance = shutDownInstance;\n\n    this.instances = [];\n    this.__activeInstance = undefined;\n  }\n\n  public dispose() {\n    this.instances.forEach((inst) => inst?.notebook?.dispose());\n    this.instances = [];\n  }\n\n  public get activeInstance() {\n    return this.__activeInstance;\n  }\n\n  public set activeInstance(inst: VerdantInstance) {\n    this.__activeInstance = inst;\n    this.ui.activeInstance = inst;\n    this.ui.update();\n  }\n\n  /*\n   * Retrieve a Verdant instance\n   */\n  getInstance(panel: NotebookPanel) {\n    // be careful since 2+ panels can open for the same notebook\n    let whichNotebook = panel.sessionContext.path;\n    let verInst = this.instances.find(\n      (inst) => inst.panel.sessionContext.path === whichNotebook\n    );\n    /*\n     * This is important, if the panels don't match, we need to make sure\n     * this instance has the right panel for the open notebook, or things like\n     * inspector won't work\n     */\n    if (verInst && verInst.panel !== panel) {\n      verInst.panel = panel; //update to new panel\n      verInst.notebook.setPanel(panel); // update to new panel\n    }\n\n    if (!verInst) {\n      verInst = this.createVerdantInstance(panel);\n      this.instances.push(verInst);\n    }\n    return verInst;\n  }\n\n  /*\n   * Create new Verdant instance\n   */\n  createVerdantInstance(panel: NotebookPanel): VerdantInstance {\n    let logger = new VerdantLog();\n    let log_redux = logger.getReduxLogger();\n    let history = new History(this.renderBaby, this.fileManager);\n    const getHistory = () => history;\n    let analysis = new AST(history);\n    const initialState = createInitialState(getHistory);\n\n    // create store for UI behavior\n    let store: Store = createStore(\n      verdantReducer,\n      initialState,\n      applyMiddleware(log_redux)\n    );\n\n    // set up notebook\n    let notebook = new VerdantNotebook(history, analysis, panel, store, logger);\n\n    // set up ghost book for this notebook\n    store.dispatch(\n      setGhostOpener((ver: number) => {\n        this.ghostPanel = this.openGhostBook(this.ghostPanel, store, ver);\n      })\n    );\n\n    // set up listener to close notebook\n    panel.disposed.connect((_) => this.shutDownInstance(panel));\n\n    // return new Verdant instance\n    return { history, analysis, notebook, panel, logger, store };\n  }\n\n  /*\n   * Switch Verdant instance\n   */\n  switchNotebook(verInst: VerdantInstance) {\n    // check if we need to switch Verdant from a prior notebook\n    if (!this.activeInstance || this.activeInstance !== verInst) {\n      verInst.logger.log(\n        \"Jupyter Lab switching Notebook to \" + verInst.notebook.name\n      );\n\n      this.fileManager.activeNotebook = verInst.notebook;\n      this.activeInstance = verInst;\n    }\n  }\n\n  /*\n   * Log which system features are showing on layout change\n   */\n  logCurrentLayout() {\n    // Log: what is showing?\n    this.instances.map((ver) => {\n      // start logging once there is an active instance\n      let showing = {\n        ghost: this.ghostPanel\n          ? this.ghostPanel.isVisible &&\n            this.ghostPanel.getFile() === ver.notebook.path\n          : false,\n        sideBar: this.ui\n          ? this.ui.isVisible && ver === this.activeInstance\n          : false,\n        notebook: ver.panel ? ver.panel.isVisible : false,\n      };\n      ver.logger.log(\"Jupyter Lab layout change:\", JSON.stringify(showing));\n    });\n  }\n}\n","import { jsn } from \"../notebook\";\nimport { History, CodeHistory } from \"../history\";\nimport { CodeCell, MarkdownCell, Cell, RawCell } from \"@jupyterlab/cells\";\nimport { ASTUtils } from \"./ast-utils\";\nimport { Checkpoint } from \"../checkpoint\";\nimport {\n  SyntaxToken,\n  NodeyCell,\n  NodeyCode,\n  NodeyCodeCell,\n  NodeyMarkdown,\n  NodeyNotebook,\n  NodeyOutput,\n  NodeyRawCell,\n} from \"../nodey\";\n\nexport class ASTCreate {\n  history: History;\n\n  constructor(history: History) {\n    this.history = history;\n  }\n\n  public createNotebook(options: NodeyNotebook.Options) {\n    let notebook = new NodeyNotebook(options);\n    this.history.store.store(notebook);\n    return notebook;\n  }\n\n  public createMarkdown(options: NodeyMarkdown.Options) {\n    let nodey = new NodeyMarkdown(options);\n    this.history.store.store(nodey);\n    return nodey;\n  }\n\n  public createCode(options: jsn) {\n    let n = new NodeyCode(options);\n    this.history.store.store(n);\n    if (\"content\" in options) this.unpackContent(options, n);\n    return n;\n  }\n\n  public createCodeCell(options: jsn) {\n    let n = new NodeyCodeCell(options);\n    this.history.store.store(n);\n    if (\"content\" in options) this.unpackContent(options, n);\n    return n;\n  }\n\n  public createSyntaxToken(tok: string) {\n    return new SyntaxToken(tok);\n  }\n\n  public createOutput(options: NodeyOutput.Options, parent: NodeyCodeCell) {\n    let output = new NodeyOutput(options);\n    this.history.store.store(output);\n    let cell_history = this.history.store.getHistoryOf(parent) as CodeHistory;\n    cell_history.addOutput(parent.version, output);\n    return output;\n  }\n\n  public createRawCell(options: jsn) {\n    let nodey = new NodeyRawCell(options);\n    this.history.store.store(nodey);\n    return nodey;\n  }\n\n  public async fromCell(cell: Cell, checkpoint: Checkpoint) {\n    let nodey: NodeyCell = null;\n    if (cell instanceof CodeCell) {\n      // First, create code cell from text\n      let text: string = cell.editor.model.value.text;\n      if (text.length > 0)\n        nodey = await this.generateCodeNodey(text, checkpoint.id);\n      else {\n        nodey = this.createCodeCell({\n          start: { line: 1, ch: 0 },\n          end: { line: 1, ch: 0 },\n          type: \"Module\",\n          created: checkpoint.id,\n        });\n      }\n      // Next, create output if there is output\n      let output_raw = cell.outputArea.model.toJSON();\n      if (output_raw.length > 0) {\n        this.createOutput(\n          {\n            raw: output_raw,\n            created: checkpoint.id,\n            parent: nodey.name,\n          },\n          nodey as NodeyCodeCell\n        );\n      }\n    } else if (cell instanceof MarkdownCell) {\n      // create markdown cell from text\n      let text = cell.model.value.text;\n      nodey = this.createMarkdown({ markdown: text, created: checkpoint.id });\n    } else if (cell instanceof RawCell) {\n      // create raw cell from text\n      let text: string = cell.editor.model.value.text;\n      nodey = this.createRawCell({ literal: text, created: checkpoint.id });\n    }\n    return nodey;\n  }\n\n  public async generateCodeNodey(\n    code: string,\n    checkpoint: number\n  ): Promise<NodeyCode> {\n    let dict = await ASTUtils.parseRequest(code);\n    dict[\"created\"] = checkpoint;\n    let nodey = this.createCodeCell(dict);\n    return nodey;\n  }\n\n  private unpackContent(dict: { [id: string]: any }, parent: NodeyCode) {\n    let prior = null;\n    parent.content = [];\n    for (let item in dict.content) {\n      let raw = dict.content[item];\n      raw[\"created\"] = dict[\"created\"];\n      raw[\"prior\"] = prior;\n      raw[\"parent\"] = parent.name;\n      let child: NodeyCode = null;\n      if (SyntaxToken.KEY in raw)\n        parent.content.push(this.createSyntaxToken(raw[SyntaxToken.KEY]));\n      else {\n        child = this.createCode(raw);\n        if (prior) prior.right = child.name;\n        prior = child;\n        parent.content.push(child.name);\n      }\n    }\n    return parent;\n  }\n}\n","import { NodeyCode, NodeyCodeCell } from \"../nodey\";\nimport { jsn } from \"../notebook\";\nimport { History } from \"../history\";\nimport { log } from \"../notebook\";\n\ntype Range = { start: Pos; end: Pos };\ntype Pos = { line: number; ch: number };\n/*\n *\n */\nexport namespace ASTUtils {\n  export async function parseRequest(rawText: string = \"\"): Promise<jsn> {\n    /*let text = Private.cleanCodeString(rawText);\n    let fullRequest = {\n      method: \"POST\",\n      body: JSON.stringify({ code: text }),\n    };\n    let serverSettings = ServerConnection.makeSettings();\n\n    let fullUrl = URLExt.join(serverSettings.baseUrl, \"/lilgit/parse\");\n\n    log(\"To parse:\", fullUrl, fullRequest);\n    /*return new Promise<jsn>(accept => {\n      ServerConnection.makeRequest(fullUrl, fullRequest, serverSettings).then(\n        response => {\n          if (response.status !== 200) {\n            response.text().then(data => {\n              console.error(\n                \"A parser error occured on:\\n \" + text + \"\\n\" + data\n              );\n              accept(failSafeParse(rawText));\n            });\n          } else response.text().then(data => accept(JSON.parse(data)));\n        }\n      );\n    });*/\n    return failSafeParse(rawText);\n  }\n\n  function failSafeParse(code: string): jsn {\n    let failsafe = {\n      type: \"Module\",\n      start: { line: 0, ch: 0 },\n      end: { line: 0, ch: 0 },\n      literal: code,\n    };\n    let lines = code.split(\"\\n\");\n    let lastCh = lines[lines.length - 1].length;\n    failsafe[\"end\"] = { line: lines.length - 1, ch: lastCh - 1 };\n    return failsafe;\n  }\n\n  /*\n   *\n   */\n  export function findNodeAtRange(\n    nodey: NodeyCodeCell,\n    change: Range,\n    history: History\n  ): NodeyCode {\n    return Private._findNodeAtRange(\n      nodey,\n      0,\n      Math.max(0, nodey.getChildren().length - 1),\n      change,\n      history\n    );\n  }\n\n  /*\n   * goal: get rid of wrappers or any types called Module\n   */\n  export function reduceASTDict(ast: {\n    [key: string]: any;\n  }): { [key: string]: any } {\n    if (ast.content && ast.content.length === 1) {\n      // check if this node is a wrapper or not\n      var child = ast.content[0];\n      return reduceASTDict(child);\n    } else if (ast.type === \"Module\") ast.type = \"_\"; // wildcard\n    return ast;\n  }\n}\n\nnamespace Private {\n  export function cleanCodeString(code: string): string {\n    // annoying but important: make sure docstrings do not interrupt the string literal\n    var newCode = code.replace(/\"\"\".*\"\"\"/g, (str) => {\n      return \"'\" + str + \"'\";\n    });\n\n    // turn ipython magics commands into comments\n    let magics = /(%)(\\w)+(\\s)*(\\w)*(\\n|$)/g; // regex to avoid styled strings that use %\n    let matches = magics.exec(newCode);\n    if (matches) newCode = newCode.replace(matches[0][0], \"#\");\n\n    // remove any triple quotes, which will mess us up\n    newCode = newCode.replace(/\"\"\"/g, \"'''\");\n\n    // make sure newline inside strings doesn't cause an EOL error\n    // and make sure any special characters are escaped correctly\n    newCode = newCode.replace(/(\").*?(\\\\.).*?(?=\")/g, (str) => {\n      return str.replace(/\\\\/g, \"\\\\\\\\\");\n    });\n    newCode = newCode.replace(/(').*?(\\\\.).*?(?=')/g, (str) => {\n      return str.replace(/\\\\/g, \"\\\\\\\\\");\n    });\n    //log(\"cleaned code is \", newCode);\n    return newCode;\n  }\n\n  /*\n   *\n   */\n  //return 0 for match, 1 for to the right, -1 for to the left, 2 for both\n  function inRange(nodey: NodeyCode, change: Range): number {\n    var val = 0;\n\n    if (!nodey?.start?.line || !change.start || !change.end || !nodey?.end.ch)\n      return 2; //error case only\n\n    if (change.start.line < nodey.start.line) val = -1;\n    else if (\n      change.start.line === nodey.start.line &&\n      change.start.ch < nodey.start.ch\n    )\n      val = -1;\n\n    if (change.end.line > nodey.end.line) {\n      if (val === -1) val = 2;\n      else val = 1;\n    } else if (\n      change.end.line === nodey.end.line &&\n      change.end.ch > nodey.end.ch\n    ) {\n      if (val === -1) val = 2;\n      else val = 1;\n    }\n    return val;\n  }\n\n  /*\n   *\n   */\n  export function _findNodeAtRange(\n    node: NodeyCode,\n    min: number,\n    max: number,\n    change: Range,\n    history: History\n  ): NodeyCode {\n    log(\"Looking for node at\", change, node);\n    var children: string[] = node.getChildren();\n    if (min > max || max < min || children.length < 1) return node;\n    var match = null;\n    var mid = Math.floor((max - min) / 2) + min;\n    log(\"CHILDREN\", children, mid, children[mid]);\n    var midNodey = <NodeyCode>history.store.getLatestOf(children[mid]);\n    var direction = inRange(midNodey, change);\n    log(\"checking mid range\", midNodey, direction, change);\n\n    if (direction === 0) {\n      var midChildren = midNodey.getChildren();\n      // it's in this node, check for children to be more specific\n      if (midChildren.length < 1) match = midNodey;\n      // found!\n      else\n        match =\n          _findNodeAtRange(\n            midNodey,\n            0,\n            Math.max(0, midChildren.length - 1),\n            change,\n            history\n          ) || midNodey; // found!\n    } else if (direction === 2) return null;\n    // there is no match at this level\n    else if (direction === -1)\n      // check the left\n      match = _findNodeAtRange(node, min, mid - 1, change, history);\n    else if (direction === 1)\n      // check the right\n      match = _findNodeAtRange(node, mid + 1, max, change, history);\n\n    if (match) {\n      // if there's a match, now find it's closest parsable parent\n      return match; //TODO\n    }\n    return null;\n  }\n}\n","import { Notebook } from \"@jupyterlab/notebook\";\nimport { History } from \"../history\";\nimport { Cell, CodeCell, MarkdownCell, RawCell } from \"@jupyterlab/cells\";\nimport { Checkpoint, ChangeType, CellRunData } from \"../checkpoint\";\nimport {\n  NodeyCodeCell,\n  NodeyNotebook,\n  NodeyMarkdown,\n  NodeyRawCell,\n  Nodey,\n} from \"../nodey\";\nimport { ASTCreate } from \"./ast-create\";\nimport { log } from \"../notebook\";\n\nexport class AST {\n  readonly history: History;\n\n  //Properties\n  public readonly create: ASTCreate;\n\n  constructor(history: History) {\n    this.history = history;\n    this.create = new ASTCreate(history);\n  }\n\n  /*\n   * Should send a series of\n   */\n  public async coldStartNotebook(\n    notebook_view: Notebook,\n    checkpoint: Checkpoint\n  ): Promise<NodeyNotebook> {\n    let changedCells: CellRunData[] = [];\n    // create a new notebook\n    let notebook = this.create.createNotebook({\n      created: checkpoint.id,\n      cells: [],\n    });\n\n    // create new cells\n    await Promise.all(\n      notebook_view.widgets.map(async (item, index) => {\n        if (item instanceof Cell)\n          return this.create.fromCell(item, checkpoint).then((nodey) => {\n            if (!nodey) console.log(\"CREATED NO NODEY???\", nodey, item);\n            notebook.cells[index] = nodey.name;\n            nodey.parent = notebook.name;\n            changedCells.push({\n              cell: nodey.name,\n              changeType: ChangeType.ADDED,\n            });\n          });\n      })\n    );\n\n    // update checkpoint\n    checkpoint.notebook = notebook.version;\n    checkpoint.targetCells.push(...changedCells);\n    this.history.checkpoints.add(checkpoint);\n\n    return notebook;\n  }\n\n  public async hotStartNotebook(\n    notebook_history: NodeyNotebook,\n    notebook_view: Notebook,\n    checkpoint: Checkpoint\n  ): Promise<NodeyNotebook> {\n    // just match up exact matches\n    let toMatch = [];\n    let matchCount = 0;\n    notebook_history.cells.forEach((name: string) => {\n      let nodey = this.history.store.get(name);\n      let oldText = this.getText(nodey);\n\n      let match = notebook_view.widgets.findIndex((cell, index) => {\n        let newText = this.getText(cell as any);\n        return oldText === newText && !toMatch[index];\n      });\n      if (match > -1 && !toMatch[match]) {\n        toMatch[match] = nodey;\n        matchCount++;\n      } else {\n        log(\"Could not match old cell\", nodey);\n      }\n    });\n\n    // other cells exist\n    if (matchCount !== notebook_view.widgets.length) {\n      let changedCells: CellRunData[] = [];\n      let newNotebook = this.createNotebookVersion(checkpoint);\n\n      // create all other cells\n      for (let i = 0; i < notebook_view.widgets.length; i++) {\n        let nodey = toMatch[i];\n        if (!nodey) {\n          // create new cell for unknown cell\n          nodey = await this.create.fromCell(\n            notebook_view.widgets[i] as any,\n            checkpoint\n          );\n          changedCells.push({\n            cell: nodey.name,\n            changeType: ChangeType.ADDED,\n          });\n        }\n        newNotebook.cells[i] = nodey.name;\n        nodey.parent = newNotebook.name;\n      }\n\n      // return updated notebook\n      checkpoint.targetCells.push(...changedCells);\n      this.history.checkpoints.add(checkpoint);\n      return newNotebook;\n    } else {\n      // everything is exactly the same\n      return notebook_history;\n    }\n  }\n\n  private createNotebookVersion(checkpoint) {\n    let oldNotebook = this.history.store.currentNotebook;\n    let newNotebook = new NodeyNotebook({\n      id: oldNotebook?.id,\n      created: checkpoint.id,\n      cells: oldNotebook?.cells.slice(0) || [],\n    });\n    let notebookHist = this.history.store.getHistoryOf(oldNotebook);\n    notebookHist?.addVersion(newNotebook);\n    checkpoint.notebook = newNotebook?.version;\n    return newNotebook;\n  }\n\n  private getText(n: Nodey | Cell) {\n    if (n instanceof NodeyCodeCell) return n.literal || \"\";\n    if (n instanceof NodeyMarkdown) return n.markdown || \"\";\n    if (n instanceof NodeyRawCell) return n.literal || \"\";\n\n    if (n instanceof CodeCell || n instanceof RawCell)\n      return n.editor.model.value.text || \"\";\n    if (n instanceof MarkdownCell) return n.model.value.text || \"\";\n    return \"\";\n  }\n}\n","import { NodeyCell, NodeyOutput, NodeyCodeCell } from \"./nodey\";\nimport { VerNotebook } from \"./notebook\";\nimport { Cell, CodeCell } from \"@jupyterlab/cells\";\nimport { OutputArea } from \"@jupyterlab/outputarea\";\n\n/**\n * Verdant's cell component VerCell acts as an intermediary between\n * Jupyter's representation and our model's representation of a cell.\n */\nexport class VerCell {\n  /**\n   * Jupyter's representation of the cell\n   */\n  public view: Cell;\n\n  /**\n   * Reference for our model's Nodey representation of the cell\n   */\n  private modelName: string;\n\n  /**\n   * Parent VerNotebook of this cell\n   */\n  private readonly notebook: VerNotebook;\n\n  /**\n   * last seen text for when the cell is deleted\n   */\n  private lastSeenText: string = \"\";\n\n  /**\n   * Constructs a cell\n   */\n  constructor(notebook: VerNotebook, cell: Cell, modelName: string) {\n    this.notebook = notebook;\n    this.view = cell;\n    this.modelName = modelName;\n  }\n\n  /**\n   * Gets the Nodey representation of this cell\n   */\n  public get model(): NodeyCell | undefined {\n    if (this.modelName)\n      return this.notebook?.history?.store.getLatestOf(this.modelName);\n  }\n\n  /**\n   * Updates the reference name for this cell\n   * @hidden\n   */\n  public setModel(name: string) {\n    this.modelName = name;\n  }\n\n  /**\n   * Gets the cell's current order in the notebook's list of cells,\n   * based on the order the cells appear on screen\n   */\n  public get currentIndex(): number {\n    return this.notebook.cells.findIndex((item) => item === this);\n  }\n\n  /**\n   * Ges output if the cell has it\n   */\n  public get output(): NodeyOutput | undefined {\n    if (this.model instanceof NodeyCodeCell) {\n      let output = this.notebook.history.store.getOutput(this.model);\n      if (output) return output.latest as NodeyOutput;\n    }\n  }\n\n  /**\n   * Gets output area if the cell has it\n   */\n  public get outputArea(): OutputArea | undefined {\n    if (this.view instanceof CodeCell)\n      return (this.view as CodeCell).outputArea;\n  }\n\n  public getText(): string {\n    let text: string = this.lastSeenText;\n\n    // check cell wasn't just deleted\n    if (this.view.inputArea) {\n      text = this.view.editor?.model?.value?.text || this.lastSeenText;\n    }\n    return text;\n  }\n}\n","import { History } from \"../history\";\nimport { log } from \"../notebook\";\nimport { Checkpoint } from \"./checkpoint\";\nimport { NodeyNotebook } from \"../nodey\";\n\nconst DEBUG = false;\n\nexport class HistoryCheckpoints {\n  readonly history: History;\n  private checkpointList: (Checkpoint | null)[];\n  private timeTable: { [key: number]: number };\n\n  constructor(history: History) {\n    this.history = history;\n    this.checkpointList = [];\n    this.timeTable = {};\n  }\n\n  public all(): (Checkpoint | null)[] {\n    return this.checkpointList;\n  }\n\n  public get(timestamp?: number): Checkpoint | null {\n    if (timestamp !== undefined) {\n      let index = this.timeTable[timestamp];\n      return this.checkpointList[index];\n    }\n    return null;\n  }\n\n  public getForNotebook(notebook: NodeyNotebook): Checkpoint[] {\n    let checkpoints = [];\n    let created = notebook.created;\n    let index = this.timeTable[created];\n\n    while (this.checkpointList[index]?.notebook === notebook?.version) {\n      checkpoints.push(this.checkpointList[index]);\n      index++;\n    }\n\n    return checkpoints;\n  }\n\n  public add(checkpoint: Checkpoint) {\n    // don't permit multiple checkpoints with the same timestamp\n    if (!this.timeTable[checkpoint.timestamp]) {\n      let index = this.checkpointList.push(checkpoint) - 1;\n      this.timeTable[checkpoint.timestamp] = index;\n    }\n  }\n\n  public generateCheckpoint(): Checkpoint {\n    let timestamp = Date.now();\n\n    // check if checkpoint already exists\n    if (this.timeTable[timestamp])\n      return this.checkpointList[this.timeTable[timestamp]];\n\n    let checkpoint = new Checkpoint({\n      timestamp: timestamp,\n      targetCells: [],\n      notebookId: undefined,\n    });\n\n    return checkpoint;\n  }\n\n  public fromJSON(data: Checkpoint.SERIALIZE[]) {\n    if (DEBUG) log(\"CHECKPOINTS FROM JSON\", data);\n    this.checkpointList = data.map(\n      (item: Checkpoint.SERIALIZE, index: number) => {\n        let checkpoint = Checkpoint.fromJSON(item);\n        this.timeTable[checkpoint.timestamp] = index;\n        return checkpoint;\n      }\n    );\n    if (DEBUG) log(\"CHECKPOINTS LOADED\", this.checkpointList);\n  }\n\n  public toJSON(): Checkpoint.SERIALIZE[] {\n    return this.checkpointList.map((item) => {\n      return item.toJSON();\n    });\n  }\n\n  public slice(fromTime: number, toTime: number): Checkpoint[] {\n    let slice: Checkpoint[] = [];\n    let i = this.timeTable[fromTime];\n    let j = this.timeTable[toTime];\n    if (i !== undefined && j !== undefined) {\n      slice = this.checkpointList.slice(i, j) || [];\n    }\n    return slice;\n  }\n}\n","import { CellRunData } from \"./constants\";\n\nexport class Checkpoint {\n  readonly timestamp: number;\n  notebook: number;\n  readonly targetCells: CellRunData[];\n\n  //runID, timestamp, notebook, runCells, output\n  constructor(options: { [key: string]: any }) {\n    this.timestamp = options.timestamp;\n    this.notebook = options.notebook;\n    this.targetCells = options.targetCells;\n  }\n\n  get id() {\n    return this.timestamp;\n  }\n\n  public toJSON(): Checkpoint.SERIALIZE {\n    return {\n      timestamp: this.timestamp,\n      notebook: this.notebook,\n      targetCells: this.targetCells,\n    };\n  }\n}\n\nexport namespace Checkpoint {\n  export function fromJSON(dat: Checkpoint.SERIALIZE): Checkpoint {\n    return new Checkpoint({\n      timestamp: dat.timestamp,\n      notebook: dat.notebook,\n      targetCells: dat.targetCells,\n    });\n  }\n\n  export interface SERIALIZE {\n    timestamp: number;\n    notebook: number;\n    targetCells: CellRunData[];\n  }\n\n  export function formatTime(date: Date | number): string {\n    if (date === null || date === undefined) return \"\";\n\n    if (typeof date == \"number\") date = new Date(date);\n    var hours = date.getHours();\n    var minutes = date.getMinutes();\n    var ampm = hours >= 12 ? \"pm\" : \"am\";\n    hours = hours % 12;\n    hours = hours ? hours : 12; // the hour '0' should be '12'\n    return hours + \":\" + (minutes < 10 ? \"0\" + minutes : minutes) + ampm;\n  }\n\n  export function formatDate(date: Date | number): string {\n    if (date === null || date === undefined) return \"\";\n\n    if (typeof date == \"number\") date = new Date(date);\n    var monthNames = [\n      \"January\",\n      \"February\",\n      \"March\",\n      \"April\",\n      \"May\",\n      \"June\",\n      \"July\",\n      \"August\",\n      \"September\",\n      \"October\",\n      \"November\",\n      \"December\",\n    ];\n\n    var dayNames = [\n      \"Sunday\",\n      \"Monday\",\n      \"Tuesday\",\n      \"Wednesday\",\n      \"Thursday\",\n      \"Friday\",\n      \"Saturday\",\n    ];\n\n    var today = new Date();\n    var yesterday = new Date();\n    yesterday.setDate(today.getDate() - 1);\n\n    var dateDesc = \"\";\n\n    if (sameDay(today, date)) dateDesc = \"today \";\n    else if (sameDay(yesterday, date)) dateDesc = \"yesterday \";\n    else dateDesc = dayNames[date.getDay()] + \" \";\n\n    dateDesc +=\n      monthNames[date.getMonth()] +\n      \" \" +\n      date.getDate() +\n      \" \" +\n      date.getFullYear();\n    return dateDesc;\n  }\n\n  export function formatShortDate(date: Date | number): string {\n    if (date === null || date === undefined) return \"\";\n\n    if (typeof date == \"number\") date = new Date(date);\n    var monthNames = [\n      \"Jan\",\n      \"Feb\",\n      \"Mar\",\n      \"Apr\",\n      \"May\",\n      \"June\",\n      \"July\",\n      \"Aug\",\n      \"Sept\",\n      \"Oct\",\n      \"Nov\",\n      \"Dec\",\n    ];\n\n    return (\n      monthNames[date.getMonth()] +\n      \" \" +\n      date.getDate() +\n      \", \" +\n      date.getFullYear()\n    );\n  }\n\n  export function sameDay(d1: Date | number, d2: Date | number) {\n    if (typeof d1 == \"number\") d1 = new Date(d1);\n    if (typeof d2 == \"number\") d2 = new Date(d2);\n    return (\n      d1.getFullYear() === d2.getFullYear() &&\n      d1.getMonth() === d2.getMonth() &&\n      d1.getDate() === d2.getDate()\n    );\n  }\n\n  export function beforeDay(d1: Date, d2: Date) {\n    return (\n      !this.sameDay(d1, d2) &&\n      d1.getFullYear() <= d2.getFullYear() &&\n      d1.getMonth() <= d2.getMonth() &&\n      d1.getDate() <= d2.getDate()\n    );\n  }\n\n  export function sameMinute(d1: Date, d2: Date) {\n    return (\n      d1.getFullYear() === d2.getFullYear() &&\n      d1.getMonth() === d2.getMonth() &&\n      d1.getDate() === d2.getDate() &&\n      d1.getHours() === d2.getHours() &&\n      d1.getMinutes() === d2.getMinutes()\n    );\n  }\n\n  export function dateNow(): Date {\n    var d = new Date();\n    d.setHours(12, 0, 0); // set to default time since we only want the day\n    return d;\n  }\n}\n","// made verbose for log readability\nexport enum ChangeType {\n  CHANGED = \"edited\",\n  REMOVED = \"removed\",\n  ADDED = \"added\",\n  MOVED = \"moved\",\n  NONE = \"none\",\n  OUTPUT_CHANGED = \"output changed\",\n  TYPE_CHANGED = \"type changed\",\n}\n\nconst changeVal = {\n  none: 0,\n  \"type changed\": 1,\n  moved: 1,\n  edited: 2,\n  \"output changed\": 2,\n  added: 3,\n  removed: 4,\n};\nexport const GREATER_CHANGETYPE = (a: ChangeType, b: ChangeType) =>\n  changeVal[a] > changeVal[b] ? a : b;\n\nexport type CellRunData = {\n  cell: string;\n  changeType: ChangeType;\n  output?: string[];\n  index?: number;\n};\n","export * from \"./checkpoint\";\nexport * from \"./constants\";\nexport * from \"./checkpoint-history\";\n","import { VerNotebook, log } from \"../notebook\";\n\nimport { RenderBaby } from \"../jupyter-hooks/render-baby\";\nimport { PromiseDelegate } from \"@lumino/coreutils\";\nimport { Sampler } from \"../sampler\";\n\nimport { FileManager } from \"../jupyter-hooks/file-manager\";\n\nimport { HistoryStore, HistoryStage } from \".\";\n\nimport { HistoryCheckpoints } from \"../checkpoint/checkpoint-history\";\nimport { Checkpoint } from \"../checkpoint\";\n\nexport class History {\n  public notebook: VerNotebook;\n\n  constructor(renderBaby: RenderBaby, fileManager: FileManager) {\n    this._inspector = new Sampler(this, renderBaby);\n    this.store = new HistoryStore(this, fileManager);\n    this.stage = new HistoryStage(this, fileManager);\n    this.checkpoints = new HistoryCheckpoints(this);\n  }\n\n  private readonly _inspector: Sampler;\n  readonly store: HistoryStore;\n  readonly stage: HistoryStage;\n  readonly checkpoints: HistoryCheckpoints;\n\n  public async init(notebook: VerNotebook): Promise<boolean> {\n    // check if there is an existing history file for this notebook\n    this.notebook = notebook;\n    var data = await this.store.fileManager.loadFromFile(notebook);\n    if (data) {\n      var history = JSON.parse(data) as History.SERIALIZE;\n      log(\"FOUND HISTORY\", history);\n      this.fromJSON(history);\n      this._ready.resolve(undefined);\n      return true;\n    }\n    this._ready.resolve(undefined);\n    return false;\n  }\n\n  public get ready(): Promise<void> {\n    return this._ready.promise;\n  }\n\n  get inspector(): Sampler {\n    return this._inspector;\n  }\n\n  // de-serializes history loaded from a file\n  private fromJSON(data: History.SERIALIZE) {\n    this.checkpoints.fromJSON(data.checkpoints);\n    this.store.fromJSON(data);\n  }\n\n  // serializes history for storage in a file\n  public toJSON(): History.SERIALIZE {\n    let store = this.store.toJSON();\n    return { checkpoints: this.checkpoints.toJSON(), ...store };\n  }\n\n  /*\n   * Returns the equivalent of toJSON() for a slice of history\n   * starting at fromVer and ending (non-inclusive) at toVer\n   * versions of the whole notebook.\n   *\n   * returns null if given an invalid fromVer/toVer pair\n   */\n  public slice(fromVer: number, toVer: number): History.SERIALIZE | null {\n    // check for valid toVer fromVer\n    if (fromVer < toVer) {\n      const fromTime = this.store.getNotebook(fromVer)?.created;\n      const toTime = this.store.getNotebook(toVer)?.created;\n\n      // verify valid notebook versions\n      if (fromTime && toTime) {\n        const checkpointSlice = this.checkpoints.slice(fromTime, toTime);\n        const storeSlice = this.store.slice(fromVer, toVer);\n        return { checkpoints: checkpointSlice, ...storeSlice };\n      }\n    }\n    return null; // error case\n  }\n\n  // used for debug only\n  public dump(): void {\n    log(this.store.toJSON());\n  }\n\n  private _ready = new PromiseDelegate<void>();\n}\n\nexport namespace History {\n  export type SERIALIZE = {\n    checkpoints: Checkpoint.SERIALIZE[];\n  } & HistoryStore.SERIALIZE;\n}\n","export * from \"./history\";\nexport * from \"./stage\";\nexport * from \"./store\";\n","import { FileManager } from \"../../jupyter-hooks/file-manager\";\nimport { Checkpoint, ChangeType, CellRunData } from \"../../checkpoint\";\nimport {\n  NodeyCell,\n  Nodey,\n  NodeyCodeCell,\n  NodeyOutput,\n  NodeyNotebook,\n  NodeyMarkdown,\n  NodeyRawCell,\n} from \"../../nodey\";\nimport { History } from \"../history\";\nimport { CodeHistory } from \"../store\";\nimport { Stage } from \"./stage\";\nimport { jsn } from \"../../notebook\";\n\nexport class Commit {\n  readonly history: History;\n\n  /*\n   * The checkpoint and notebook are the identifying pieces of this commit\n   */\n  public checkpoint: Checkpoint;\n  private notebook: NodeyNotebook;\n\n  /*\n   * The stage is for recording *potentially* edited nodey and figuring out\n   * what was really edited and how for this commit\n   */\n  private stage: Stage;\n\n  constructor(\n    checkpoint: Checkpoint,\n    history: History,\n    fileManager: FileManager\n  ) {\n    this.checkpoint = checkpoint;\n    this.history = history;\n    this.stage = new Stage(history, fileManager);\n  }\n\n  public markAsPossiblyEdited(nodey: Nodey) {\n    this.stage.dirty_nodey.push(nodey.name);\n  }\n\n  public addCell(added: NodeyCell, index: number) {\n    // first see if this commit can be combined with a prior one\n    const merged = this.attemptMergeWithPriorCheckpoint([added], [index]);\n\n    // add cell is an event that changes notebook version\n    if (!this.notebook) this.createNotebookVersion();\n\n    // make sure new cell's parent is this newNotebook\n    added.parent = this.notebook.name;\n    let name = added.name;\n\n    // make sure new cell's checkpoint is this one\n    added.created = this.checkpoint.timestamp;\n\n    // add added cell to notebook\n    this.notebook.cells.splice(index, 0, name);\n\n    // update checkpoint\n    let cellDat = {\n      cell: name,\n      changeType: ChangeType.ADDED,\n    } as CellRunData;\n    this.checkpoint.targetCells.push(cellDat);\n\n    // record checkpoint\n    if (!merged) this.history.checkpoints.add(this.checkpoint);\n  }\n\n  public deleteCell(deleted: NodeyCell) {\n    let oldNotebook = this.history.store.currentNotebook;\n    let index = oldNotebook?.cells?.indexOf(deleted?.name) || -1;\n\n    // first see if this commit can be combined with a prior one\n    const merged = this.attemptMergeWithPriorCheckpoint([deleted], [index]);\n\n    // delete cell is an event that changes notebook version\n    if (!this.notebook) this.createNotebookVersion();\n\n    // remove deleted cell from notebook\n    index = this.notebook.cells.indexOf(deleted.name);\n    if (index > -1) this.notebook.cells.splice(index, 1);\n\n    // update checkpoint\n    let cellDat = {\n      cell: deleted.name,\n      changeType: ChangeType.REMOVED,\n      index,\n    } as CellRunData;\n    this.checkpoint.targetCells.push(cellDat);\n\n    // record checkpoint\n    if (!merged) this.history.checkpoints.add(this.checkpoint);\n  }\n\n  public moveCell(moved: NodeyCell, newPos: number) {\n    // get position\n    let name = moved.name;\n    let oldNotebook = this.history.store.currentNotebook;\n    let index = oldNotebook.cells.indexOf(name);\n\n    // first see if this commit can be combined with a prior one\n    const merged = this.attemptMergeWithPriorCheckpoint([moved], [index]);\n\n    // moving a cell is an event that changes notebook version\n    if (!this.notebook) this.createNotebookVersion();\n\n    // move cell in the notebook\n    if (index > -1) this.notebook.cells.splice(index, 1); // delete the pointer\n    this.notebook.cells.splice(newPos, 0, name); // re-add in correct place\n\n    // update checkpoint\n    let cellDat = {\n      cell: name,\n      changeType: ChangeType.MOVED,\n      index: newPos,\n    } as CellRunData;\n    this.checkpoint.targetCells.push(cellDat);\n\n    // record checkpoint\n    if (!merged) this.history.checkpoints.add(this.checkpoint);\n  }\n\n  public changeCellType(oldCell: NodeyCell, newCell: NodeyCell) {\n    // get position\n    let name = oldCell.name;\n    let oldNotebook = this.history.store.currentNotebook;\n    let index = oldNotebook.cells.indexOf(name);\n\n    // first see if this commit can be combined with a prior one\n    const merged = this.attemptMergeWithPriorCheckpoint(\n      [oldCell, newCell],\n      [index]\n    );\n\n    // changing a cell type is an event that changes notebook version\n    if (!this.notebook) this.createNotebookVersion();\n\n    // make sure new cell's parent is this newNotebook\n    newCell.parent = this.notebook.name;\n\n    // now update cells of notebook\n    let oldName = oldCell.name;\n    let newName = newCell.name;\n    let i = this.notebook.cells.indexOf(oldName);\n    if (i > -1) this.notebook.cells.splice(i, 1, newName);\n\n    // update checkpoint\n    let cellDat = {\n      cell: newCell.name,\n      changeType: ChangeType.TYPE_CHANGED,\n    } as CellRunData;\n    this.checkpoint.targetCells.push(cellDat);\n\n    // record checkpoint\n    if (!merged) this.history.checkpoints.add(this.checkpoint);\n  }\n\n  // returns true if there are changes such that a new commit is recorded\n  public async commit(options: jsn): Promise<void> {\n    await this.stage.stage(options);\n    if (this.stage.isEdited()) {\n      const allStaged = this.stage.getAllStaged();\n      // get indices\n      let oldNotebook = this.history.store.currentNotebook;\n      let indices = allStaged.map((s) => {\n        const name = s.name;\n        return oldNotebook.cells.indexOf(name);\n      });\n\n      // first see if this commit can be combined with a prior one\n      const merged = this.attemptMergeWithPriorCheckpoint(allStaged, indices);\n\n      // if there are real edits, make sure we have a new notebook\n      if (!this.notebook) this.createNotebookVersion();\n      this.commitStaged();\n\n      // record checkpoint\n      if (!merged) this.history.checkpoints.add(this.checkpoint);\n    }\n  }\n\n  private commitStaged() {\n    // now go through an update existing cells\n    this.notebook.cells = this.notebook.cells.map((c) => {\n      let cell = this.history.store.get(c);\n      let instructions = cell ? this.stage.getStaging(cell) : null;\n      if (instructions) {\n        let newCell;\n        if (cell instanceof NodeyCodeCell)\n          newCell = this.createCodeCellVersion(cell.artifactName, instructions);\n        else if (cell instanceof NodeyMarkdown)\n          newCell = this.createMarkdownVersion(cell.artifactName, instructions);\n        else if (cell instanceof NodeyRawCell)\n          newCell = this.createRawCellVersion(cell.artifactName, instructions);\n        return newCell?.name || c; // return unchanged cell if error occurred\n      } else {\n        // otherwise assume this cell is unchanged in this commit\n        return c;\n      }\n    });\n  }\n\n  private attemptMergeWithPriorCheckpoint(\n    targetedCells: Nodey[],\n    indicies: number[]\n  ): boolean {\n    /*\n     * We will try to add new changes to an existing notebook version if\n     * 1) no changes on this commit conflict with existing changes on this notebook\n     * version.\n     * 2) changes on this commit occur within 5 minutes of existing changes on this\n     * notebook version.\n     *\n     * The goal of this merge is to compress the number of overall notebook versions so\n     * that there is less sparse information to shift through, and more meaty versions.\n     */\n    let pass = false;\n    let oldNotebook = this.history.store.currentNotebook;\n    let oldCheckpoints = this.history.checkpoints.getForNotebook(oldNotebook);\n    if (oldCheckpoints.length > 0) {\n      let latestCheckpoint = oldCheckpoints[oldCheckpoints.length - 1];\n      // check that the latest checkpoint is within 5 min of this one\n      pass = checkTimeDiff(latestCheckpoint, this.checkpoint);\n      console.log(\"CHECK_TIME\", pass)\n\n      // check that the older checkpoint does not affect the same cells as this one\n      if (pass) {\n        pass = false;\n        let oldTargets = latestCheckpoint?.targetCells?.map((target) =>\n          this.history.store.get(target?.cell)\n        );\n        if (oldTargets) {\n          pass = checkArtfiactOverlap(targetedCells, oldTargets);\n        }\n\n        // check that the older checkpoint does not affect the same cell indices as this one\n        if (pass && indicies) {\n          pass = latestCheckpoint.targetCells.every((target) => {\n            if (target.index) return indicies.indexOf(target.index) < 0;\n            return true;\n          });\n        }\n      }\n\n      // OK to merge\n      if (pass) {\n        this.notebook = oldNotebook;\n        this.checkpoint = latestCheckpoint;\n      }\n    }\n\n    console.log(\"CHECK_RETURN\", pass)\n    return pass;\n  }\n\n  public createNotebookVersion() {\n    let oldNotebook = this.history.store.currentNotebook;\n    let newNotebook = new NodeyNotebook({\n      id: oldNotebook?.id,\n      created: this.checkpoint.id,\n      cells: oldNotebook?.cells.slice(0) || [],\n    });\n    let notebookHist = this.history.store.getHistoryOf(oldNotebook);\n    notebookHist?.addVersion(newNotebook);\n    this.notebook = newNotebook;\n    this.checkpoint.notebook = this.notebook?.version;\n  }\n\n  private createMarkdownVersion(\n    artifactName: string,\n    instructions: { markdown: string }\n  ): NodeyMarkdown | undefined {\n    // first create the new Markdown version\n    let nodeyHistory = this.history.store.getHistoryOf(artifactName);\n    let oldNodey = nodeyHistory?.latest;\n\n    if (nodeyHistory && oldNodey) {\n      let newNodey = new NodeyMarkdown({\n        id: oldNodey.id,\n        created: this.checkpoint.id,\n        markdown: instructions.markdown,\n        parent: this.notebook.name,\n      });\n      nodeyHistory.addVersion(newNodey);\n\n      // then add the update to checkpoint\n      let cellDat = {\n        cell: newNodey.name,\n        changeType: ChangeType.CHANGED,\n      } as CellRunData;\n      this.checkpoint.targetCells.push(cellDat);\n\n      // finally return updated new version\n      return newNodey;\n    }\n    console.error(\n      \"Failed to create new markdown version of \",\n      artifactName,\n      instructions\n    );\n  }\n\n  private createRawCellVersion(\n    artifactName: string,\n    instructions: { literal: string }\n  ): NodeyRawCell | undefined {\n    // first create the new Raw Cell version\n    let nodeyHistory = this.history.store.getHistoryOf(artifactName);\n    let oldNodey = nodeyHistory?.latest;\n    if (nodeyHistory && oldNodey) {\n      let newNodey = new NodeyRawCell({\n        id: oldNodey.id,\n        created: this.checkpoint.id,\n        literal: instructions.literal,\n        parent: this.notebook.name,\n      });\n      nodeyHistory?.addVersion(newNodey);\n\n      // then add the update to checkpoint\n      let cellDat = {\n        cell: newNodey.name,\n        changeType: ChangeType.CHANGED,\n      } as CellRunData;\n      this.checkpoint.targetCells.push(cellDat);\n\n      // finally return updated new version\n      return newNodey;\n    } else\n      console.error(\n        \"Failed to create new raw cell version of \",\n        artifactName,\n        instructions\n      );\n  }\n\n  private createCodeCellVersion(\n    artifactName: string,\n    instructions: { [key: string]: any }\n  ): NodeyCodeCell | undefined {\n    // build base code cell\n    let nodeyHistory = this.history.store.getHistoryOf(\n      artifactName\n    ) as CodeHistory;\n    let oldNodey = nodeyHistory?.latest;\n    let newNodey;\n\n    // error case only\n    if (!nodeyHistory || !oldNodey) {\n      console.error(\n        \"Failed to create new code cell version of \",\n        artifactName,\n        instructions\n      );\n      return;\n    }\n\n    // check do we need a new cell version other than output?\n    if (instructions[\"literal\"] || instructions[\"content\"]) {\n      newNodey = new NodeyCodeCell({\n        id: oldNodey.id,\n        created: this.checkpoint.id,\n        literal: instructions[\"literal\"],\n        parent: this.notebook.name,\n      });\n      nodeyHistory.addVersion(newNodey);\n    } else newNodey = oldNodey;\n\n    // now check if there is output to build\n    let newOut: NodeyOutput;\n    if (instructions[\"output\"]) {\n      // see if we already have an output history to add to\n      let oldOutputHist = this.history.store.getOutput(newNodey);\n      if (oldOutputHist) {\n        let oldOut = oldOutputHist.latest;\n        newOut = new NodeyOutput({\n          id: oldOut.id,\n          created: this.checkpoint?.id,\n          parent: newNodey.name,\n          raw: instructions[\"output\"],\n        });\n        oldOutputHist.addVersion(newOut);\n      } else {\n        // if there is no output history, create a new one\n        // but only if raw is not empty\n        if (instructions[\"output\"].length > 0) {\n          newOut = new NodeyOutput({\n            created: this.checkpoint?.id,\n            parent: newNodey.name,\n            raw: instructions[\"output\"],\n          });\n          this.history.store.store(newOut);\n          nodeyHistory.addOutput(newNodey.version, newOut);\n        }\n      }\n    }\n\n    let changed = oldNodey.version !== newNodey.version;\n    let changeKind: ChangeType;\n\n    if (changed) changeKind = ChangeType.CHANGED;\n    if (!changed && newOut) changeKind = ChangeType.OUTPUT_CHANGED;\n\n    // update the checkpoint\n    if (changeKind) {\n      let cellDat = {\n        cell: newNodey.name,\n        changeType: changeKind,\n        output: newOut ? [newOut.name] : [],\n      } as CellRunData;\n      this.checkpoint.targetCells.push(cellDat);\n    }\n\n    // finally return updated new version\n    return newNodey;\n  }\n}\n\n// helper functions\nfunction checkTimeDiff(A: Checkpoint, B: Checkpoint): boolean {\n  let minutes_elapsed = Math.abs(A.timestamp - B.timestamp) / 1000 / 60;\n  return minutes_elapsed < 6;\n}\n\nfunction checkArtfiactOverlap(targets_A, targets_B): boolean {\n  let B = targets_B?.map((target) => target.artifactName);\n  if (B) {\n    return targets_A.every((nodey) => {\n      let artifactName = nodey.artifactName;\n      return B.indexOf(artifactName) < 0;\n    });\n  }\n  return false;\n}\n","import { Nodey, NodeyCell } from \"../../nodey\";\nimport { History } from \"..\";\nimport { Checkpoint } from \"../../checkpoint\";\nimport { Commit } from \"./commit\";\nimport { log, jsn } from \"../../notebook\";\nimport { FileManager } from \"../../jupyter-hooks/file-manager\";\n\nexport class HistoryStage {\n  private readonly history: History;\n  private readonly fileManager: FileManager;\n  private open_commits: Commit[];\n\n  constructor(history: History, fileManager: FileManager) {\n    this.history = history;\n    this.fileManager = fileManager;\n    this.open_commits = [];\n  }\n\n  // ABDOU\n  // verdant-model/notebook-events/run-cell.ts:17:50 \n  // verdant-model/notebook-events/save-notebook.ts\n  public async commit(\n    checkpoint: Checkpoint,\n    options: jsn = {}\n  ): Promise<Checkpoint> {\n    let c = this.getCommit(checkpoint);\n    // if commit was *actually* verified to be needed, it will record new versions\n    try {\n      await c.commit(options);\n    } catch (error) {\n      console.error(\"Verdant: Error in making commit: \", error);\n    }\n    this.closeCommit(c);\n    return c.checkpoint;\n  }\n\n  public markAsPossiblyEdited(nodey: Nodey, checkpoint: Checkpoint): void {\n    let c = this.getCommit(checkpoint);\n    c.markAsPossiblyEdited(nodey);\n  }\n\n  public commitCellAdded(\n    added: NodeyCell,\n    index: number,\n    checkpoint: Checkpoint\n  ): Checkpoint {\n    let c = this.getCommit(checkpoint);\n    c.addCell(added, index);\n    this.closeCommit(c);\n    return c.checkpoint;\n  }\n\n  public commitCellDeleted(\n    deleted: NodeyCell,\n    checkpoint: Checkpoint\n  ): Checkpoint {\n    let c = this.getCommit(checkpoint);\n    c.deleteCell(deleted);\n    this.closeCommit(c);\n    return c.checkpoint;\n  }\n\n  public commitCellMoved(\n    moved: NodeyCell,\n    newPos: number,\n    checkpoint: Checkpoint\n  ): Checkpoint {\n    let c = this.getCommit(checkpoint);\n    c.moveCell(moved, newPos);\n    this.closeCommit(c);\n    return c.checkpoint;\n  }\n\n  public commitCellTypeChanged(\n    oldCell: NodeyCell,\n    newCell: NodeyCell,\n    checkpoint: Checkpoint\n  ): Checkpoint {\n    let c = this.getCommit(checkpoint);\n    c.changeCellType(oldCell, newCell);\n    this.closeCommit(c);\n    return c.checkpoint;\n  }\n\n  private getCommit(checkpoint: Checkpoint) {\n    let c = this.open_commits.find((c) => c.checkpoint.id === checkpoint.id);\n    if (!c) {\n      c = new Commit(checkpoint, this.history, this.fileManager);\n      this.open_commits.push(c);\n    }\n    return c;\n  }\n\n  private closeCommit(commit: Commit) {\n    let i = this.open_commits.indexOf(commit);\n    if (i > -1) this.open_commits.splice(i, 1);\n    let notebook = this.history.store.getNotebook(commit.checkpoint.notebook);\n    log(\"Commit complete:\", commit.checkpoint, notebook, this.history);\n  }\n}\n","export * from \"./history-stage\";\nexport * from \"./commit\";\n","import {\n  NodeyCodeCell,\n  NodeyMarkdown,\n  NodeyCode,\n  NodeyRawCell,\n  NodeyCell,\n  Nodey,\n} from \"../../nodey\";\nimport { History } from \"../history\";\nimport { OutputHistory } from \"../store\";\nimport { IOutput } from \"@jupyterlab/nbformat\";\nimport { FileManager } from \"../../jupyter-hooks/file-manager\";\nimport { jsn } from \"../../notebook\";\n\n/*\n * Stage is responsible for figuring out which *potentially* changed nodey\n * are really edited and how, by verifying changes and working with the AST\n * module to figure out the exact changes to code nodey\n */\nexport class Stage {\n  readonly history: History;\n  private readonly fileManager: FileManager;\n\n  /*\n   * Dirty nodey lists nodey that *might* be changed, but we'll need to verify\n   * when it's time to stage changes\n   */\n  public dirty_nodey: string[] = [];\n\n  /*\n   * Staged data structures contain the instructions and data we need to create a\n   * new updated version of the nodey in the history data store. Each instruction\n   * is recorded by the cell name, which is the base artifact name of the cell\n   * such as C5 or M4\n   */\n  private staged_total: Nodey[] = [];\n  private staged_codeCell: {} = {};\n  private staged_markdown: { [cellName: string]: { markdown: string } } = {};\n  private staged_rawCell: { [cellName: string]: { literal: string } } = {};\n\n  constructor(history: History, fileManager: FileManager) {\n    this.history = history;\n    this.fileManager = fileManager;\n  }\n\n  public getAllStaged(): Nodey[] {\n    return this.staged_total;\n  }\n\n  public getStaging(cell: NodeyCell) {\n    if (cell instanceof NodeyCodeCell)\n      return this.staged_codeCell[cell.artifactName];\n    if (cell instanceof NodeyMarkdown)\n      return this.staged_markdown[cell.artifactName];\n    if (cell instanceof NodeyRawCell)\n      return this.staged_rawCell[cell.artifactName];\n  }\n\n  public async stage(options: jsn = {}) {\n    // create staging lists\n    await Promise.all(\n      this.dirty_nodey.map(async (name: string) => {\n        // get potentially dirty nodey\n        let nodey = this.history.store.get(name);\n\n        if (nodey instanceof NodeyCode) {\n          let nodeyCell;\n          if (nodey instanceof NodeyCodeCell) nodeyCell = nodey;\n          else nodeyCell = this.history.store.getCellParent(nodey);\n          this.checkCodeCellNodey(nodeyCell);\n\n          // HACK see image on-save issue\n          if (!options[\"ignore_output\"]) await this.checkOutputNodey(nodeyCell);\n        } else if (nodey instanceof NodeyMarkdown) {\n          this.checkMarkdownNodey(nodey);\n        } else if (nodey instanceof NodeyRawCell) {\n          this.checkRawCellNodey(nodey);\n        }\n      })\n    );\n    // empty after all have been considered\n    this.dirty_nodey = [];\n  }\n\n  public isEdited() {\n    let codeCells = Object.keys(this.staged_codeCell);\n    let markdownCells = Object.keys(this.staged_markdown);\n    let rawCells = Object.keys(this.staged_rawCell);\n    return codeCells.length + markdownCells.length + rawCells.length > 0;\n  }\n\n  private checkCodeCellNodey(nodey: NodeyCodeCell) {\n    let cell = this.history.notebook.getCellByNode(nodey);\n    let newText = cell?.getText() || \"\";\n\n    let oldText = nodey.literal || \"\"; // assuming no AST level data\n\n    if (oldText !== newText) {\n      // store instructions for a new version of nodey in staging\n      if (!this.staged_codeCell[nodey.artifactName]) {\n        this.staged_codeCell[nodey.artifactName] = { literal: newText };\n        this.staged_total.push(nodey);\n      }\n      this.staged_codeCell[nodey.artifactName][\"literal\"] = newText;\n    }\n  }\n\n  private async checkOutputNodey(nodey: NodeyCodeCell) {\n    // get current (new) output if any\n    let cell = this.history.notebook.getCellByNode(nodey);\n    let outputArea = cell?.outputArea;\n    let raw: IOutput[] = []; // no output\n    if (outputArea) raw = cell?.outputArea?.model.toJSON() || []; // output if present\n\n    // get prior output if any\n    let oldOutput = cell?.output;\n\n    // first, don't record this output if it is completely errors\n    let onlyErrors = OutputHistory.checkForAllErrors(raw);\n\n    if (!onlyErrors) {\n      // compare to see if output has changed\n      let same = await OutputHistory.isSame(oldOutput, raw, this.fileManager);\n\n      if (!same) {\n        // make instructions for a new Output in staging\n        if (!this.staged_codeCell[nodey.artifactName]) {\n          this.staged_codeCell[nodey.artifactName] = {};\n          this.staged_total.push(nodey);\n        }\n        this.staged_codeCell[nodey.artifactName][\"output\"] = raw;\n      }\n    }\n  }\n\n  private checkMarkdownNodey(nodey: NodeyMarkdown) {\n    let cell = this.history.notebook.getCellByNode(nodey);\n    let newText = cell?.getText() || \"\";\n    let oldText = nodey.markdown;\n    if (oldText != newText) {\n      // store instructions for a new version of nodey in staging\n      if (!this.staged_markdown[nodey.artifactName]) {\n        this.staged_markdown[nodey.artifactName] = { markdown: newText };\n        this.staged_total.push(nodey);\n      } else this.staged_markdown[nodey.artifactName][\"markdown\"] = newText;\n    }\n  }\n\n  private checkRawCellNodey(nodey: NodeyRawCell) {\n    let cell = this.history.notebook.getCellByNode(nodey);\n    let newText = cell?.getText() || \"\";\n    let oldText = nodey.literal || \"\";\n    if (oldText !== newText) {\n      // store instructions for a new version of nodey in staging\n      if (!this.staged_rawCell[nodey.artifactName]) {\n        this.staged_rawCell[nodey.artifactName] = { literal: newText };\n        this.staged_total.push(nodey);\n      } else this.staged_rawCell[nodey.artifactName][\"literal\"] = newText;\n    }\n  }\n}\n","import { NodeHistory } from \"./node-history\";\nimport { NodeyCode, NodeyOutput } from \"../../nodey\";\nimport { Nodey } from \"../../nodey\";\n\n/*\n * Goal is to keep track of all of the output that go with this code,\n * since different code versions will have different output history.\n */\nexport class CodeHistory extends NodeHistory<NodeyCode> {\n  // these are entire output histories\n  private output_histories: { [ver: number]: string } = {};\n\n  addOutput(code_ver: number, out: NodeyOutput) {\n    if (this.output_histories[code_ver])\n      throw new Error(\n        \"code version already has an output history associated with it\"\n      );\n\n    this.output_histories[code_ver] = out.typeChar + \".\" + out.id;\n  }\n\n  getOutput(code_ver: number) {\n    return this.output_histories[code_ver];\n  }\n\n  get allOutput() {\n    return Array.from(Object.values(this.output_histories));\n  }\n\n  fromJSON(\n    jsn: CodeHistory.SERIALIZE,\n    factory: (dat: Nodey.SERIALIZE) => NodeyCode,\n    id?: number\n  ) {\n    super.fromJSON(jsn, factory, id);\n    this.output_histories = jsn.output_histories;\n  }\n\n  // helper method\n  protected serialize(vers: NodeyCode[]): CodeHistory.SERIALIZE {\n    let data = super.serialize(vers);\n    return { output_histories: this.output_histories, ...data };\n  }\n}\n\nexport namespace CodeHistory {\n  export type SERIALIZE = {\n    output_histories: { [ver: number]: string };\n  } & NodeHistory.SERIALIZE;\n}\n","import {\n  Nodey,\n  NodeyCode,\n  NodeyOutput,\n  NodeyCodeCell,\n  NodeyMarkdown,\n  NodeyCell,\n  NodeyNotebook,\n  NodeyRawCell,\n} from \"../../nodey\";\n\nimport { log } from \"../../notebook\";\n\nimport { FileManager } from \"../../jupyter-hooks/file-manager\";\n\nimport { History, NodeHistory, OutputHistory, CodeHistory } from \"..\";\nimport { Search } from \"./search\";\n\nexport type searchResult = {\n  label: string;\n  count: number;\n  results: Nodey[][];\n};\n\nexport class HistoryStore {\n  readonly fileManager: FileManager;\n  readonly history: History;\n\n  private _notebookHistory: NodeHistory<NodeyNotebook>;\n  private _codeCellStore: CodeHistory[] = [];\n  private _markdownStore: NodeHistory<NodeyMarkdown>[] = [];\n  private _rawCellStore: NodeHistory<NodeyRawCell>[] = [];\n  private _outputStore: OutputHistory[] = [];\n  private _snippetStore: NodeHistory<NodeyCode>[] = [];\n\n  constructor(history: History, fileManager: FileManager) {\n    this.history = history;\n    this.fileManager = fileManager;\n  }\n\n  get currentNotebook(): NodeyNotebook | undefined {\n    return this._notebookHistory?.latest;\n  }\n\n  public getNotebook(ver?: number): NodeyNotebook | undefined {\n    return this._notebookHistory.getVersion(ver);\n  }\n\n  get cells(): NodeyCell[] {\n    let notebook = this.currentNotebook;\n    if (!notebook) return []; // error case only\n    return notebook.cells.map((name) => this.get(name) as NodeyCell);\n  }\n\n  public getHistoryOf(name?: string | Nodey): NodeHistory<Nodey> | undefined {\n    if (!name) return; // error case only\n\n    let typeChar = \"???\"; // error case only\n    let id: number;\n    if (typeof name === \"string\") {\n      var idVal;\n      [typeChar, idVal] = name.split(\".\");\n      id = parseInt(idVal);\n    } else if (name instanceof Nodey) {\n      typeChar = name.typeChar;\n      id = name.id === undefined ? -1 : name.id;\n    }\n\n    switch (typeChar) {\n      case \"n\":\n        return this._notebookHistory;\n      case \"c\":\n        return this._codeCellStore[id];\n      case \"o\":\n        return this._outputStore[id];\n      case \"s\":\n        return this._snippetStore[id];\n      case \"m\":\n        return this._markdownStore[id];\n      case \"r\":\n        return this._rawCellStore[id];\n      default:\n        console.error(\"nodey type not found\" + name + \" \" + typeof name);\n    }\n  }\n\n  getLatestOf(name: string | Nodey): Nodey | undefined {\n    let nodeHist = this.getHistoryOf(name);\n    if (nodeHist === undefined)\n      // error case only\n      console.error(\"No history found for \" + name + \" \" + typeof name);\n    else return nodeHist.latest;\n  }\n\n  getPriorVersion(name?: string | Nodey): Nodey | undefined {\n    if (!name) return; // error case only\n    let ver = -1; // error case only\n    if (name instanceof Nodey) {\n      if (name.version !== undefined) ver = name.version - 1;\n    } else {\n      let [, , verVal] = (name as string).split(\".\");\n      ver = parseInt(verVal) - 1;\n    }\n    let nodeHist = this.getHistoryOf(name);\n    if (ver > -1 && nodeHist) return nodeHist.getVersion(ver);\n    else return;\n  }\n\n  get(name?: string): Nodey | undefined {\n    if (!name) return; // error case only\n    //log(\"attempting to find\", name);\n    let [, , verVal] = name.split(\".\");\n    let ver = verVal ? parseInt(verVal) : undefined;\n    let nodeHist = this.getHistoryOf(name);\n    if (ver !== undefined) return nodeHist?.getVersion(ver);\n    return nodeHist?.latest;\n  }\n\n  getOutput(nodey?: NodeyCode): OutputHistory | undefined {\n    if (!nodey) return;\n    let cell: NodeyCodeCell;\n    if (nodey instanceof NodeyCodeCell) cell = nodey;\n    else cell = this.getCellParent(nodey);\n    let cellHistory = this.getHistoryOf(cell) as CodeHistory;\n    let outName = cellHistory?.getOutput(cell?.version);\n    if (outName) return this.getHistoryOf(outName) as OutputHistory;\n    return;\n  }\n\n  // returns output that was specifically created or present in a given notebook\n  getOutputForNotebook(\n    nodey?: NodeyCode,\n    relativeTo?: NodeyNotebook\n  ): NodeyOutput | undefined {\n    if (!nodey || !relativeTo) return;\n    let outputHist = this.getOutput(nodey);\n    if (!outputHist) return;\n    let out = outputHist.find(\n      (output) => output.created === relativeTo.created\n    );\n    if (!out) {\n      // no output was created in this notebook, so find any output that would\n      // have been present\n      let outBefore = outputHist.filter(\n        (output) => output.created < relativeTo.created\n      );\n      out = outBefore[outBefore.length - 1];\n    }\n    return out;\n  }\n\n  getAllOutput(nodey?: NodeyCode): OutputHistory[] | undefined {\n    if (!nodey) return;\n    let cell: NodeyCodeCell;\n    if (nodey instanceof NodeyCodeCell) cell = nodey;\n    else {\n      let parent = this.getCellParent(nodey);\n      if (parent) cell = parent;\n    }\n    let cellHistory = this.getHistoryOf(cell) as CodeHistory;\n    let outNames = cellHistory?.allOutput;\n    return outNames?.map((name) => this.getHistoryOf(name) as OutputHistory);\n  }\n\n  public store(nodey: Nodey): void {\n    if (nodey instanceof NodeyNotebook) {\n      let id = 0;\n      nodey.id = id;\n      // if this is the first version\n      if (!this._notebookHistory)\n        this._notebookHistory = new NodeHistory<NodeyNotebook>();\n      this._notebookHistory.addVersion(nodey);\n    } else {\n      let store = this._getStoreFor(nodey);\n      if (store) {\n        let history = this._makeHistoryFor(nodey);\n        if (history) {\n          let id = store.push(history) - 1;\n          nodey.id = id;\n          store[nodey.id].addVersion(nodey);\n        } else console.error(\"Failed to create new history for nodey: \", nodey);\n      } else\n        console.error(\n          \"Failed to find existing history store for nodey \",\n          nodey\n        );\n    }\n  }\n\n  /*\n   * Search\n   */\n  public search(query: string): searchResult[] {\n    return Search.search(\n      query,\n      this.history.inspector,\n      this._markdownStore,\n      this._codeCellStore,\n      this._outputStore\n    );\n  }\n\n  /**\n   * newNodey and oldNodey are nodeys with two seperate histories.\n   * This function creates a back pointer between the first version\n   * of newNodey back to the history, version v of oldNodey.\n   **/\n  public linkBackHistories(newNodey: Nodey, oldNodey: Nodey): void {\n    let history = this.getHistoryOf(newNodey);\n    if (history) history.addOriginPointer(oldNodey);\n    else\n      console.error(\n        \"Failed to link back histories between \",\n        newNodey,\n        \" and \",\n        oldNodey\n      );\n  }\n\n  private _getStoreFor(nodey: Nodey): NodeHistory<Nodey>[] | undefined {\n    if (nodey instanceof NodeyCodeCell) return this._codeCellStore;\n    else if (nodey instanceof NodeyMarkdown) return this._markdownStore;\n    else if (nodey instanceof NodeyOutput) return this._outputStore;\n    else if (nodey instanceof NodeyCode) return this._snippetStore;\n    else if (nodey instanceof NodeyRawCell) return this._rawCellStore;\n  }\n\n  private _makeHistoryFor(nodey: Nodey) {\n    if (nodey instanceof NodeyMarkdown || nodey instanceof NodeyRawCell)\n      return new NodeHistory<NodeyCell>();\n    else if (nodey instanceof NodeyCodeCell) return new CodeHistory();\n    else if (nodey instanceof NodeyOutput)\n      return new OutputHistory(this.fileManager);\n    else if (nodey instanceof NodeyCode) return new NodeHistory<NodeyCode>();\n  }\n\n  public registerTiedNodey(nodey: NodeyCell, forceTie: string): void {\n    let oldNodey = this.get(forceTie) as NodeyCell;\n    let history = this.getHistoryOf(oldNodey);\n    if (history) {\n      history.addVersion(nodey);\n      nodey.id = oldNodey.id;\n    } else {\n      console.error(\n        \"Failed to register tied history between \",\n        nodey.artifactName,\n        \" and \",\n        forceTie\n      );\n    }\n  }\n\n  public getCellParent(relativeTo: Nodey): NodeyCodeCell | undefined {\n    //log(\"get cell parent of \", relativeTo);\n    if (relativeTo instanceof NodeyCodeCell) return relativeTo;\n    else if (relativeTo.parent) {\n      const latest = this.getLatestOf(relativeTo.parent);\n      if (latest) return this.getCellParent(latest);\n    }\n  }\n\n  public getNotebookOf(relativeTo: Nodey): NodeyNotebook | undefined {\n    let created = relativeTo?.created;\n    if (created !== undefined) {\n      // error case if undefined\n      let event = this.history.checkpoints.get(created);\n      if (event) {\n        // error case if undefined\n        let notebook_id = event.notebook;\n        if (notebook_id !== undefined) return this.getNotebook(notebook_id);\n      }\n    }\n    return;\n  }\n\n  public getForNotebook(\n    nodeyHist: NodeHistory<Nodey>,\n    relativeTo: number\n  ): Nodey | undefined {\n    const notebook = this.getNotebook(relativeTo);\n    const nextNotebook = this.getNotebook(relativeTo + 1);\n    const endCheck = nextNotebook?.created || notebook?.created + 1 || -1;\n\n    if (nodeyHist && endCheck !== -1) {\n      let max = -1;\n      nodeyHist.foreach((ver) => {\n        if (ver.created < endCheck) max = ver.version;\n      });\n      return nodeyHist.getVersion(max);\n    }\n  }\n\n  public writeToFile(): void {\n    this.fileManager.writeToFile();\n  }\n\n  public dump() {\n    //TODO only for debug\n    log(this._codeCellStore);\n  }\n\n  public toJSON(): HistoryStore.SERIALIZE {\n    return {\n      notebook: this._notebookHistory.toJSON(),\n      codeCells: this._codeCellStore.map((hist) => hist.toJSON()),\n      markdownCells: this._markdownStore.map((hist) => hist.toJSON()),\n      rawCells: this._rawCellStore.map((hist) => hist.toJSON()),\n      snippets: this._snippetStore.map((hist) => hist.toJSON()),\n      output: this._outputStore.map((hist) => hist.toJSON()),\n    };\n  }\n\n  public fromJSON(data: HistoryStore.SERIALIZE) {\n    this._codeCellStore = data.codeCells.map(\n      (item: CodeHistory.SERIALIZE, id: number) => {\n        let hist = new CodeHistory();\n        hist.fromJSON(item, NodeyCodeCell.fromJSON, id);\n        return hist;\n      }\n    );\n    this._markdownStore = data.markdownCells.map(\n      (item: NodeHistory.SERIALIZE, id: number) => {\n        let hist = new NodeHistory<NodeyMarkdown>();\n        hist.fromJSON(item, NodeyMarkdown.fromJSON, id);\n        return hist;\n      }\n    );\n    if (data.rawCells)\n      this._rawCellStore = data.rawCells.map(\n        (item: NodeHistory.SERIALIZE, id: number) => {\n          let hist = new NodeHistory<NodeyRawCell>();\n          hist.fromJSON(item, NodeyRawCell.fromJSON, id);\n          return hist;\n        }\n      );\n    this._snippetStore = data.snippets.map(\n      (item: NodeHistory.SERIALIZE, id: number) => {\n        let hist = new NodeHistory<NodeyCode>();\n        hist.fromJSON(item, NodeyCode.fromJSON, id);\n        return hist;\n      }\n    );\n    this._outputStore = data.output.map(\n      (item: NodeHistory.SERIALIZE, id: number) => {\n        let hist = new OutputHistory(this.fileManager);\n        hist.fromJSON(item, NodeyOutput.fromJSON, id);\n        return hist;\n      }\n    );\n    this._notebookHistory = new NodeHistory<NodeyNotebook>();\n    this._notebookHistory.fromJSON(\n      data.notebook,\n      NodeyNotebook.fromJSON,\n      0 // all notebooks have an id of 0, it's a singleton\n    );\n  }\n\n  /*\n   * Returns the equivalent of toJSON() for a slice of history\n   * starting at fromVer and ending (non-inclusive) at toVer\n   * versions of the whole notebook.\n   *\n   * returns null if given an invalid fromVer/toVer pair\n   */\n  public slice(fromVer: number, toVer: number): HistoryStore.SERIALIZE | null {\n    if (fromVer > toVer) return null; // error case\n    const fromTime = this.getNotebook(fromVer)?.created;\n    const toTime = this.getNotebook(toVer)?.created;\n    if (!fromTime || !toTime) return null; // error case\n\n    // slice all available histories\n    let notebookList: NodeHistory.SERIALIZE = this._notebookHistory.sliceByVer(\n      fromVer,\n      toVer\n    );\n    let codeCells = this.sliceStore(this._codeCellStore, fromTime, toTime);\n    let markdownCells = this.sliceStore(this._markdownStore, fromTime, toTime);\n    let rawCells = this.sliceStore(this._rawCellStore, fromTime, toTime);\n    let output = this.sliceStore(this._outputStore, fromTime, toTime);\n\n    return {\n      notebook: notebookList,\n      codeCells,\n      markdownCells,\n      rawCells,\n      snippets: [],\n      output,\n    };\n  }\n\n  // helper method\n  private sliceStore(\n    store: NodeHistory<Nodey>[],\n    fromTime: number,\n    toTime: number\n  ): NodeHistory.SERIALIZE[] {\n    let slice = [];\n    store.forEach((history: NodeHistory<Nodey>) => {\n      let data = history.sliceByTime(fromTime, toTime);\n      if (data && data.versions.length > 0) slice.push(data);\n    });\n    return slice;\n  }\n}\n\nexport namespace HistoryStore {\n  export interface SERIALIZE {\n    notebook: NodeHistory.SERIALIZE;\n    codeCells: NodeHistory.SERIALIZE[];\n    markdownCells: NodeHistory.SERIALIZE[];\n    rawCells: NodeHistory.SERIALIZE[];\n    snippets: NodeHistory.SERIALIZE[];\n    output: NodeHistory.SERIALIZE[];\n  }\n}\n","export * from \"./history-store\";\nexport * from \"./node-history\";\nexport * from \"./origin-pointer\";\nexport * from \"./output-history\";\nexport * from \"./code-history\";\n","import { Nodey } from \"../../nodey\";\nimport { OriginPointer } from \"./origin-pointer\";\nimport { log } from \"../../notebook\";\n\nconst DEBUG = false;\n\n/*\n * Just a container for a list of nodey versions\n */\nexport class NodeHistory<T extends Nodey> {\n  originPointer: OriginPointer | null = null;\n  protected versions: T[] = [];\n\n  getAllVersions(): T[] {\n    return this.versions.slice(0);\n  }\n\n  addVersion(nodey: T): void {\n    let ver = this.versions.push(nodey);\n    nodey.version = ver - 1;\n  }\n\n  getVersion(ver: number): T | undefined {\n    return ver > -1 ? this.versions[ver] : undefined;\n  }\n\n  find(\n    callbackfn: (value: T, index: number, array: T[]) => boolean\n  ): T | undefined {\n    return this.versions.find(callbackfn);\n  }\n\n  foreach(callbackfn: (value: T, index: number, array: T[]) => void): void {\n    return this.versions.forEach(callbackfn);\n  }\n\n  // wrap to allow override implementation of filter\n  filter(callbackfn: (value: T, index: number, array: T[]) => unknown): T[] {\n    return this.versions.filter(callbackfn);\n  }\n\n  // wrap to allow override implementation of map\n  map(callbackfn: (value: T, index?: number, array?: T[]) => any): any[] {\n    return this.versions.map(callbackfn);\n  }\n\n  get name() {\n    let latest = this.versions[this.versions.length - 1];\n    if (latest)\n      return (\n        latest.typeChar + \".\" + (latest.id !== undefined ? latest.id : \"???\")\n      );\n  }\n\n  get latest(): T {\n    return this.versions[this.versions.length - 1];\n  }\n\n  get length() {\n    return this.versions.length;\n  }\n\n  addOriginPointer(origin: Nodey) {\n    this.originPointer = new OriginPointer(origin);\n  }\n\n  toJSON(): NodeHistory.SERIALIZE {\n    return this.serialize(this.versions);\n  }\n\n  fromJSON(\n    jsn: NodeHistory.SERIALIZE,\n    factory: (dat: Nodey.SERIALIZE) => T,\n    id?: number\n  ) {\n    if (DEBUG) log(\"FACTORY DATA\", jsn);\n    this.versions = jsn.versions.map(\n      (nodeDat: Nodey.SERIALIZE, version: number) => {\n        if (nodeDat.origin)\n          this.originPointer = new OriginPointer(nodeDat.origin);\n        let nodey = factory(nodeDat);\n        nodey.id = id;\n        nodey.version = version;\n        //log(\"MADE NODEY FROM DATA\", nodey, nodeDat);\n        return nodey;\n      }\n    );\n  }\n\n  sliceByTime(fromTime: number, toTime: number): NodeHistory.SERIALIZE {\n    let slice: T[] = [];\n    // get the first index of versions that happen on or after fromTime\n    let i = this.versions.findIndex((nodey) => {\n      return nodey.created >= fromTime && nodey.created < toTime;\n    });\n    let nodey: T = this.versions[i]; // check each nodey to see if it is within time\n    while (nodey && nodey.created >= fromTime && nodey.created < toTime) {\n      slice.push(nodey);\n      i++;\n      nodey = this.versions[i];\n    }\n    return this.serialize(slice);\n  }\n\n  sliceByVer(fromVer: number, toVer: number): NodeHistory.SERIALIZE {\n    let slice = this.versions.slice(fromVer, toVer);\n    return this.serialize(slice);\n  }\n\n  // helper method\n  protected serialize(vers: T[]): NodeHistory.SERIALIZE {\n    let data: Nodey.SERIALIZE[] = vers.map((node) => node.toJSON());\n    if (this.originPointer && data.length > 0)\n      data[data.length - 1].origin = this.originPointer.origin;\n    return { artifact_name: this.name || \"\", versions: data };\n  }\n}\n\nexport namespace NodeHistory {\n  export type SERIALIZE = {\n    artifact_name: string;\n    versions: Nodey.SERIALIZE[];\n  };\n}\n","import { Nodey } from \"../../nodey\";\n\n/*\n * an Origin Pointer\n */\nexport class OriginPointer {\n  public readonly origin: string;\n  constructor(originNode: Nodey | string) {\n    if (originNode instanceof Nodey) this.origin = originNode.name;\n    else this.origin = originNode;\n  }\n}\n","import { NodeHistory } from \"./node-history\";\nimport { NodeyOutput } from \"../../nodey\";\nimport { FileManager } from \"../../jupyter-hooks/file-manager\";\nimport * as nbformat from \"@jupyterlab/nbformat\";\n\n/*\n * Goal is to store image or larger output externally in a folder without\n * the rest of the system needing to know that it's stored offsite\n */\n/*\n * Note on nodey.raw:\n * Each output can have a list of different raw outputs. We'll need to handle them individually\n * in order to store images and charts externally.\n */\n\nexport class OutputHistory extends NodeHistory<NodeyOutput> {\n  readonly fileManager: FileManager; // needed to read/write output files\n\n  constructor(fileManager: FileManager) {\n    super();\n    this.fileManager = fileManager;\n  }\n\n  // send large/image output to external folder\n  addVersion(nodey: NodeyOutput) {\n    super.addVersion(nodey);\n    let ver = nodey.version;\n    let fixedRaw = nodey.raw.map((out, index) => {\n      let imageTag = OutputHistory.isImage(out);\n      if (imageTag) return this.sendImageToFile(ver, index, out, imageTag);\n      return out;\n    });\n    this.versions[ver].raw = fixedRaw;\n    return ver;\n  }\n\n  public static async isSame(\n    A: NodeyOutput | nbformat.IOutput[] = [],\n    B: NodeyOutput | nbformat.IOutput[] = [],\n    fileManager: FileManager\n  ) {\n    let outList_a = A instanceof NodeyOutput ? A.raw : A;\n    let outList_b = B instanceof NodeyOutput ? B.raw : B;\n\n    // now check that they have the same number of outputs\n    if (outList_a.length !== outList_b.length) return false;\n    else {\n      // helper function\n      const asyncEvery = async (arr, predicate) => {\n        for (let i = 0; i < arr.length; i++) {\n          const e = arr[i];\n          if (!(await predicate(e, i))) return false;\n        }\n        return true;\n      };\n\n      // now check that every output matches in a and b\n      return await asyncEvery(outList_a, async (a, index) => {\n        let b = outList_b[index];\n\n        // Important! ignore the execution count, only compare\n        // the data (or text) field of the output\n        let raw_a = a.data ? a.data : a.text ? a.text : a;\n        let raw_b = b.data ? b.data : b.text ? b.text : b;\n\n        // if HTML format, get the raw text to compare\n        if (raw_a && raw_a[\"text/plain\"]) raw_a = raw_a[\"text/plain\"];\n        if (raw_b && raw_b[\"text/plain\"]) raw_b = raw_b[\"text/plain\"];\n\n        // retrieve from storage if needed\n        if (OutputHistory.isOffsite(a)) {\n          a = await fileManager.getOutput(a);\n          if (a) raw_a = a;\n        }\n        if (b instanceof NodeyOutput && OutputHistory.isOffsite(b)) {\n          b = await fileManager.getOutput(b);\n          if (b) raw_b = a;\n        }\n\n        // get image tags if images, assuming other metadata doesn't matter\n        let image_a = OutputHistory.isImage(a);\n        if (image_a && a?.data) raw_a = a.data[image_a] || raw_a;\n        let image_b = OutputHistory.isImage(b);\n        if (image_b && b?.data) raw_b = b.data[image_b] || raw_b;\n\n        /*\n         * TODO\n         * images pulled from an offsite file have extra header data (?) which makes\n         * their raw data larger and not match a fresh output. So we need special\n         * tactics to compare images\n         */\n\n        // finally stringify data to compare it\n        const str_a = JSON.stringify(raw_a);\n        const str_b = JSON.stringify(raw_b);\n\n        return str_a === str_b;\n      });\n    }\n  }\n\n  public static isImage(out): string | undefined {\n    if (out.data) {\n      let keys = Object.keys(out.data);\n      return Array.from(keys).find((k) => k.includes(\"image\"));\n    }\n  }\n\n  public static isOffsite(output): output is OutputHistory.Offsite {\n    return (\n      (output as OutputHistory.Offsite).fileType !== undefined &&\n      (output as OutputHistory.Offsite).offsite !== undefined\n    );\n  }\n\n  // returns true if this output is only errors\n  public static checkForAllErrors(output: nbformat.IOutput[]): boolean {\n    if (output.length < 1) return false; // not anything here\n\n    // must have at least 1 non-error\n    let nonError = output?.find((out: nbformat.IOutput) => {\n      // check for error type\n      if (nbformat.isError(out)) return false;\n\n      // check for warnings\n      if (nbformat.isStream(out))\n        return (out as nbformat.IStream)?.name !== \"stderr\";\n\n      // not an error\n      return true;\n    });\n    return nonError === undefined;\n  }\n\n  private sendImageToFile(\n    ver: number,\n    index: number,\n    out,\n    imageTag: string\n  ): nbformat.IUnrecognizedOutput {\n    let fileType = imageTag.split(\"/\")[1]; // e.g. png\n    let data = out.data[imageTag];\n    let filename = `output_${this.versions[0].id}_${ver}_${index}.${fileType}`;\n    this.fileManager.writeOutput(filename, data);\n    return { output_type: \"offsite image\", offsite: filename, fileType };\n  }\n}\n\nexport namespace OutputHistory {\n  export interface Offsite {\n    offsite: string;\n    fileType: string;\n  }\n}\n","import { Nodey, NodeyCode, NodeyOutput, NodeyMarkdown } from \"../../nodey\";\nimport { NodeHistory, OutputHistory, CodeHistory, searchResult } from \".\";\nimport { Sampler } from \"../../sampler\";\n\nconst VISUAL_KEYWORDS = [\n  \"plot\",\n  \"hist\",\n  \"chart\",\n  \"histogram\",\n  \"image\",\n  \"matplotlib\",\n  \"graphs\",\n  \"diagram\",\n  \"map\",\n];\n\nconst EMPTY_CODE = {\n  label: \"code cell\",\n  count: 0,\n  results: [] as NodeyCode[][],\n};\nconst EMPTY_MARKDOWN = {\n  label: \"markdown cell\",\n  count: 0,\n  results: [] as NodeyMarkdown[][],\n};\nconst EMPTY_OUTPUT = {\n  label: \"output\",\n  count: 0,\n  results: [] as NodeyOutput[][],\n};\n\nexport namespace Search {\n  export function search(\n    query: string,\n    sampler: Sampler,\n    _markdownStore: NodeHistory<NodeyMarkdown>[],\n    _codeCellStore: CodeHistory[],\n    _outputStore: OutputHistory[]\n  ): searchResult[] {\n    let markdown_results, code_results, output_results;\n\n    if (query?.startsWith(\"=\")) {\n      // exact artifact search\n      const name = formatName(query);\n      console.log(\"ARTIFACT SEARCH FOR \", query, name);\n      markdown_results = findArtifactMarkdown(name, _markdownStore);\n      code_results = findArtifactCode(name, _codeCellStore);\n      output_results = findArtifactOutput(name, _outputStore);\n    } else {\n      // keyword search\n      markdown_results = findMarkdown(query, _markdownStore);\n      code_results = findCode(query, _codeCellStore, sampler);\n      output_results = findOutput(query, _outputStore, sampler);\n\n      return [code_results, markdown_results, output_results];\n    }\n\n    return [code_results, markdown_results, output_results];\n  }\n\n  function formatName(query: string): [string, number, number] {\n    let name = query.substring(1)?.toLowerCase();\n    let typeChar: string;\n    let id: number;\n    let ver: number;\n\n    if (name.startsWith(\"out\")) {\n      /*\n       * output image file formatted as output_10_27_0\n       * `output_${this.versions[0].id}_${ver}_${index}.${fileType}`\n       */\n      typeChar = NodeyOutput.typeChar;\n      const dot_split = name.split(\".\");\n      const _split = dot_split[0]?.split(\"_\");\n      id = parseInt(_split[1]);\n      ver = parseInt(_split[2]);\n    } else {\n      /*\n       * assume normal formatted name\n       * typeChar + \".\" + id + \".\" + version\n       */\n      const dot_split = name.split(\".\");\n      typeChar = fixTypeChar(dot_split[0]);\n      id = parseInt(dot_split[1]);\n      ver = parseInt(dot_split[2]);\n    }\n\n    return [typeChar, id, ver];\n  }\n\n  function fixTypeChar(typeChar: string): string {\n    if (typeChar === NodeyCode.typeChar || typeChar === \"code\") {\n      return NodeyCode.typeChar;\n    } else if (typeChar === NodeyMarkdown.typeChar || typeChar === \"markdown\") {\n      return NodeyMarkdown.typeChar;\n    } else if (\n      typeChar === NodeyOutput.typeChar ||\n      [\"o\", \"out\", \"output\"].includes(typeChar)\n    ) {\n      return NodeyOutput.typeChar;\n    }\n  }\n\n  function findAllOfType(store: NodeHistory<Nodey>[], result: searchResult) {\n    store.forEach((history) => {\n      let all = history.getAllVersions();\n      if (all.length > 0) {\n        result.count += all?.length;\n        result.results.push(all);\n      }\n    });\n  }\n\n  function findArtifact(\n    id: number,\n    ver: number,\n    store: NodeHistory<Nodey>[],\n    result_acc: searchResult\n  ) {\n    result_acc.count = 0;\n    result_acc.results = [];\n    let history = store[id];\n    if (history) {\n      // get specific markdown\n      let nodey = history.getVersion(ver);\n      if (nodey) {\n        // get the single markdown with this ID & version\n        result_acc.count = 1;\n        result_acc.results.push([nodey]);\n      } else {\n        // get all markdown with this ID\n        let all = history.getAllVersions();\n        if (all.length > 0) {\n          result_acc.count = all.length;\n          result_acc.results.push(all);\n        }\n      }\n    } else {\n      // get all markdown\n      findAllOfType(store, result_acc);\n    }\n  }\n\n  function findArtifactMarkdown(\n    name: [string, number, number],\n    _markdownStore: NodeHistory<NodeyMarkdown>[]\n  ): searchResult {\n    let [typeChar, id, ver] = name;\n    let result_acc = { ...EMPTY_MARKDOWN };\n    if (typeChar === NodeyMarkdown.typeChar) {\n      findArtifact(id, ver, _markdownStore, result_acc);\n    }\n    return result_acc;\n  }\n\n  /*\n   * Returns a list of Markdown artifacts, each with a list\n   * of all the versions of that artifact that match the query\n   */\n  function findMarkdown(\n    query: string,\n    _markdownStore: NodeHistory<NodeyMarkdown>[]\n  ): searchResult {\n    let result_acc = { ...EMPTY_MARKDOWN };\n\n    let results: NodeyMarkdown[][] = [];\n    let resultCount = 0;\n    let text = query.toLowerCase().split(\" \");\n    _markdownStore.forEach((history) => {\n      let match = history.filter((item) => {\n        if (!item.markdown) return false;\n        let matchesText = text.some(\n          (keyword) => item.markdown.toLowerCase().indexOf(keyword) > -1\n        );\n        return matchesText;\n      });\n      if (match.length > 0) {\n        results.push(match);\n        resultCount += match.length;\n      }\n    });\n\n    result_acc.results = results;\n    result_acc.count += resultCount;\n    return result_acc;\n  }\n\n  function findArtifactCode(\n    name: [string, number, number],\n    _codeCellStore: CodeHistory[]\n  ): searchResult {\n    let [typeChar, id, ver] = name;\n    let result_acc = { ...EMPTY_CODE };\n    if (typeChar === NodeyCode.typeChar) {\n      findArtifact(id, ver, _codeCellStore, result_acc);\n    }\n    return result_acc;\n  }\n\n  /*\n   * Returns a list of code artifacts, each with a list\n   * of all the versions of that artifact that match the query\n   */\n  function findCode(\n    query: string,\n    _codeCellStore: CodeHistory[],\n    sampler: Sampler\n  ): searchResult {\n    let result_acc = { ...EMPTY_CODE };\n\n    let results: NodeyCode[][] = [];\n    let resultCount = 0;\n    let text = query.toLowerCase().split(\" \");\n    _codeCellStore.forEach((history) => {\n      let matches = history.filter((cell) => {\n        let sourceText = sampler.nodeToText(cell) || \"\";\n        if (\n          text.some((keyword) => sourceText.toLowerCase().indexOf(keyword) > -1)\n        ) {\n          return true;\n        }\n        return false;\n      });\n      if (matches.length > 0) {\n        results.push(matches);\n        resultCount += matches.length;\n      }\n    });\n\n    result_acc.results = results;\n    result_acc.count += resultCount;\n    return result_acc;\n  }\n\n  function findArtifactOutput(\n    name: [string, number, number],\n    _outputStore: OutputHistory[]\n  ): searchResult {\n    let [typeChar, id, ver] = name;\n    let result_acc = { ...EMPTY_OUTPUT };\n    if (typeChar === NodeyOutput.typeChar) {\n      findArtifact(id, ver, _outputStore, result_acc);\n    }\n    return result_acc;\n  }\n\n  /*\n   * Returns a list of output artifacts, each with a list\n   * of all the versions of that artifact that match the query\n   */\n  function findOutput(\n    query: string,\n    _outputStore: OutputHistory[],\n    sampler: Sampler\n  ): searchResult {\n    let result_acc = { ...EMPTY_OUTPUT };\n\n    let results: NodeyOutput[][] = [];\n    let resultCount = 0;\n    let text = query.toLowerCase().split(\" \");\n    const FIND_IMAGES = text.some((word) => VISUAL_KEYWORDS.includes(word))\n      ? true\n      : false;\n    _outputStore.forEach((history) => {\n      let matches = history.filter((output) => {\n        // search for (any) image\n        if (FIND_IMAGES) {\n          const isImage = output?.raw?.some((out) =>\n            OutputHistory.isOffsite(out)\n          );\n          if (isImage) return true;\n        }\n\n        // search text\n        let sourceText = sampler.nodeToText(output) || \"\";\n        return text.some(\n          (keyword) => sourceText.toLowerCase().indexOf(keyword) > -1\n        );\n      });\n      if (matches.length > 0) {\n        results.push(matches);\n        resultCount += matches.length;\n      }\n    });\n\n    result_acc.results = results;\n    result_acc.count += resultCount;\n    return result_acc;\n  }\n}\n","import { PathExt } from \"@jupyterlab/coreutils\";\n\nimport { VerNotebook, log } from \"../notebook\";\n\nimport { Contents, ContentsManager } from \"@jupyterlab/services\";\n\nimport { IDocumentManager } from \"@jupyterlab/docmanager\";\n\nimport { OutputHistory, History } from \"../history\";\n\nimport * as nbformat from \"@jupyterlab/nbformat\";\n\nimport { GhostToNotebookConverter } from \"./ghost-to-ipynb\";\nimport { NodeyNotebook } from \"../nodey\";\n\nexport class FileManager {\n  readonly docManager: IDocumentManager;\n  private _activeNotebook: VerNotebook;\n  private test_mode: boolean;\n  private contentsManager: ContentsManager;\n\n  constructor(\n    docManager: IDocumentManager,\n    contentsMananger: ContentsManager,\n    test = false\n  ) {\n    this.docManager = docManager;\n    this.test_mode = test;\n    this.contentsManager = contentsMananger;\n  }\n\n  public set activeNotebook(notebook: VerNotebook) {\n    this._activeNotebook = notebook;\n  }\n\n  public writeToFile(): Promise<void> {\n    if (this.test_mode) return;\n    return new Promise((accept, reject) => {\n      var notebookPath = this._activeNotebook.path;\n      if (notebookPath) {\n        //log(\"notebook path is\", notebookPath)\n        var name = PathExt.basename(notebookPath);\n        name = name.substring(0, name.indexOf(\".\")) + \".ipyhistory\";\n        //log(\"name is\", name)\n        var path =\n          \"/\" +\n          notebookPath.substring(0, notebookPath.lastIndexOf(\"/\") + 1) +\n          name;\n        //log(\"goal path is \", path)\n\n        this.contentsManager\n          .save(path, {\n            type: \"file\",\n            format: \"text\",\n            content: JSON.stringify(\n              this._activeNotebook.history.toJSON(),\n              null,\n              1\n            ),\n          })\n          .then(() => {\n            log(\"Model written to file\", path);\n            accept();\n          })\n          .catch((rej) => {\n            //here when you reject the promise if the filesave fails\n            console.error(rej);\n            accept();\n          });\n      } else {\n        console.error(\"Failed to find valid notebook path to save history to!\");\n        accept();\n      }\n    });\n  }\n\n  public loadFromFile(notebook: VerNotebook): Promise<any> {\n    return new Promise((accept) => {\n      var notebookPath = notebook.path;\n      if (notebookPath) {\n        //log(\"notebook path is\", notebookPath)\n        var name = PathExt.basename(notebookPath);\n        name = name.substring(0, name.indexOf(\".\")) + \".ipyhistory\";\n        //log(\"name is\", name)\n        var path =\n          \"/\" +\n          notebookPath.substring(0, notebookPath.lastIndexOf(\"/\") + 1) +\n          name;\n        this.contentsManager\n          .get(path)\n          .then((res) => {\n            log(\"Found a model \", res);\n            accept(res.content);\n          })\n          .catch(() => {\n            //here when you reject the promise if the filesave fails\n            //console.error(rej);\n            accept(null);\n          });\n      } else {\n        console.error(\n          \"Unable to find valid notebook path to load history from.\"\n        );\n        accept(null);\n      }\n    });\n  }\n\n  public async saveGhostBook(history: History, notebook: NodeyNotebook) {\n    if (this.test_mode) return;\n    let model = await GhostToNotebookConverter.convert(history, notebook);\n    let historyData = history.slice(0, notebook.version);\n\n    // prepare the path and file name\n    var notebookPath = this._activeNotebook.path;\n    if (notebookPath) {\n      let basename = PathExt.basename(notebookPath);\n      basename =\n        basename.substring(0, basename.indexOf(\".\")) +\n        \"-v\" +\n        (notebook.version + 1);\n      let historyName = basename + \".ipyhistory\";\n      let notebookName = basename + \".ipynb\";\n      let path =\n        \"/\" + notebookPath.substring(0, notebookPath.lastIndexOf(\"/\") + 1);\n\n      // save notebook\n      this.contentsManager\n        .save(path + notebookName, {\n          type: \"file\",\n          format: \"text\",\n          content: model.toString(),\n        })\n        .then(() => {\n          log(\"GhostBook written to file\", notebookName);\n        })\n        .catch((rej) => {\n          //here when you reject the promise if the filesave fails\n          console.error(rej);\n        });\n\n      // save history too\n      this.contentsManager\n        .save(path + historyName, {\n          type: \"file\",\n          format: \"text\",\n          content: JSON.stringify(historyData, null, 1),\n        })\n        .then(() => {\n          log(\"GhostBook history written to file\", historyName);\n        })\n        .catch((rej) => {\n          //here when you reject the promise if the filesave fails\n          console.error(rej);\n        });\n    } else {\n      console.error(\"No valid notebook path found for \", this._activeNotebook);\n    }\n  }\n\n  public async getOutput(\n    output: OutputHistory.Offsite\n  ): Promise<nbformat.IOutput> {\n    let fileDat;\n    var path = this.getOutputPath();\n\n    if (path) {\n      path += \"/\" + output.offsite;\n      try {\n        fileDat = await this.contentsManager.get(path);\n      } catch (error) {\n        // file is missing, that's ok.\n      }\n    } else {\n      // file is missing, that's ok\n    }\n    let retrieved: nbformat.IDisplayData = {\n      output_type: \"display_data\",\n      data: {},\n      metadata: {\n        verdant_trust_plz: true,\n        isolated: true,\n      },\n    };\n\n    if (fileDat) {\n      retrieved.data[`image/${output.fileType}`] = fileDat.content + \"\";\n    } else {\n      retrieved.data[\"image/svg+xml\"] = MISSING_IMAGE_SVG;\n    }\n\n    return retrieved;\n  }\n\n  public async writeOutput(filename: string, data: string) {\n    if (this.test_mode) return;\n    var path = this.getOutputPath();\n    if (path !== undefined) {\n      path += \"/\" + filename;\n\n      await this.makeOutputFolder();\n      this.contentsManager.save(path, {\n        type: \"file\",\n        format: \"base64\",\n        content: data,\n      });\n    } else\n      console.error(\n        \"Failed to find a valid path to save output history to!\",\n        filename\n      );\n  }\n\n  private getOutputPath(): string | undefined {\n    let name = this._activeNotebook.name;\n    let notebookPath = this._activeNotebook.path;\n    let path = notebookPath.substring(0, notebookPath.lastIndexOf(\"/\") + 1);\n    if (name) return path + name.substring(0, name.indexOf(\".\")) + \"_output\";\n  }\n\n  private makeOutputFolder() {\n    if (this.test_mode) return;\n    let path = this.getOutputPath();\n    if (path) {\n      let name = path.substring(2);\n      return this.contentsManager.save(path, {\n        path,\n        name,\n        type: \"directory\",\n      });\n    } else {\n      console.error(\"Failed to make output folder to store output history in.\");\n    }\n  }\n}\n\nexport class OutputSaveModel implements Contents.IModel {\n  readonly type: Contents.ContentType = \"file\";\n  readonly writable: boolean = true;\n  readonly mimetype: string = (null as unknown) as string;\n  readonly format: Contents.FileFormat = \"text\";\n\n  readonly name: string;\n  readonly path: string;\n  readonly created: string;\n  readonly last_modified: string;\n  readonly content: any;\n\n  constructor(\n    name: string,\n    path: string,\n    createDate: string,\n    modDate: string,\n    content: any\n  ) {\n    this.name = name;\n    this.path = path;\n    this.created = createDate;\n    this.last_modified = modDate;\n    this.content = content;\n  }\n}\n\nconst MISSING_IMAGE_SVG = `<svg\nxmlns=\"http://www.w3.org/2000/svg\"\nviewBox=\"0 0 24 29\"\naria-labelledby=\"title\"\nclassName=\"verdant-icon-missingImage\"\n>\n<title id=\"title\">Missing Image Icon</title>\n<g>\n  <circle cx=\"6\" cy=\"11\" r=\"2\" />\n  <path d=\"M17.908 5l-.593 2H22v15h-9.129l-.593 2H24V5z\" />\n  <path d=\"M13.167 21H21v-2.857c-1.997-2.776-2.954-6.657-4.883-7.098L13.167 21zM15.041.716L13.771 5H0v19h8.143l-1.102 3.716 1.918.568 8-27-1.918-.568zM10.31 16.682c-.668-.861-1.34-1.396-2.06-1.396-1.955 0-2.674 4.157-5.25 4.999V21H9.031l-.296 1H2V7h11.18l-2.87 9.682z\" />\n</g>\n</svg>`;\n","import { NotebookModel } from \"@jupyterlab/notebook\";\nimport { History, OutputHistory } from \"../history\";\nimport {\n  NodeyCodeCell,\n  NodeyMarkdown,\n  NodeyNotebook,\n  NodeyRawCell,\n} from \"../nodey\";\nimport * as nbformat from \"@jupyterlab/nbformat\";\nimport { CodeCellModel, ICellModel } from \"@jupyterlab/cells\";\n\nexport namespace GhostToNotebookConverter {\n  export async function convert(history: History, notebook: NodeyNotebook) {\n    const ver_notebook = history.notebook;\n\n    // first match language of notebook\n    let metadata = ver_notebook.metadata;\n    let options: NotebookModel.IOptions = {};\n    let lang = metadata?.get(\"language_info\") as nbformat.ILanguageInfoMetadata;\n    if (lang) options[\"languagePreference\"] = lang.name;\n\n    let model = new NotebookModel(options);\n\n    // now create cells\n    await Promise.all(\n      notebook?.cells?.map(async (name, index) => {\n        let cell = history.store.get(name);\n        let val: ICellModel;\n\n        // create a CellModel with the Nodey's text\n        if (cell instanceof NodeyCodeCell) {\n          val = model.contentFactory.createCodeCell({});\n          val.value.text = cell.literal || \"\";\n\n          // create outputs if needed\n          let output = history.store.getOutput(cell);\n          if (output) {\n            let nodeyOut = output.latest;\n            let rawList = await Promise.all(\n              nodeyOut.raw.map(async (raw) => {\n                if (raw) {\n                  if (OutputHistory.isOffsite(raw)) {\n                    raw = await history.store.fileManager.getOutput(raw);\n                  }\n                  return raw as nbformat.IOutput;\n                }\n                return null;\n              })\n            );\n            rawList.forEach((raw, index) => {\n              if (raw) {\n                let out = (val as CodeCellModel).outputs.contentFactory.createOutputModel(\n                  { value: raw }\n                );\n                (val as CodeCellModel).outputs.set(index, out.toJSON());\n              }\n            });\n          }\n          //(val as ICodeCellModel).outputs.contentFactory.createOutputModel({})\n        } else if (cell instanceof NodeyMarkdown) {\n          val = model.contentFactory.createMarkdownCell({});\n          val.value.text = cell.markdown || \"\";\n        } else if (cell instanceof NodeyRawCell) {\n          val = model.contentFactory.createRawCell({});\n          val.value.text = cell.literal || \"\";\n        }\n\n        if (val) model.cells.insert(index, val);\n      })\n    );\n\n    return model;\n  }\n}\n","import { NotebookPanel, Notebook, NotebookActions } from \"@jupyterlab/notebook\";\n\nimport { IObservableJSON } from \"@jupyterlab/observables\";\n\nimport { Cell, CodeCell, MarkdownCell, ICellModel } from \"@jupyterlab/cells\";\n\nimport { PromiseDelegate } from \"@lumino/coreutils\";\nimport { Signal } from \"@lumino/signaling\";\n\nimport { log } from \"../notebook\";\n\nimport { IObservableList } from \"@jupyterlab/observables\";\n\nimport { VerNotebook } from \"../notebook\";\nimport { VerCell } from \"../cell\";\nimport {\n  SaveNotebook,\n  CreateCell,\n  DeleteCell,\n  MoveCell,\n  SwitchCellType,\n  RunCell,\n} from \"../notebook-events\";\n\nexport class NotebookListen {\n  public activeCell: Cell | null = null;\n\n  constructor(notebookPanel: NotebookPanel, verNotebook: VerNotebook) {\n    this._notebookPanel = notebookPanel;\n    this.verNotebook = verNotebook;\n    this.init();\n  }\n\n  dispose() {\n    Signal.clearData(this);\n  }\n\n  private _notebook: Notebook; //the currently active notebook Verdant is working on\n  private _notebookPanel: NotebookPanel;\n  readonly verNotebook: VerNotebook;\n\n  private async init() {\n    await this._notebookPanel.revealed;\n    this._notebook = this._notebookPanel.content;\n    log(\"Notebook panel\", this._notebookPanel);\n    log(\"Notebook\", this._notebook);\n    this.listen();\n    this._ready.resolve(undefined);\n  }\n\n  get elem(): HTMLElement {\n    return this._notebook.node;\n  }\n\n  get panel(): NotebookPanel {\n    return this._notebookPanel;\n  }\n\n  setPanel(panel: NotebookPanel): void {\n    // update to a new panel\n    this._notebookPanel = panel;\n    this.init();\n  }\n\n  get notebook(): Notebook {\n    return this._notebook;\n  }\n\n  get ready(): Promise<void> {\n    return this._ready.promise;\n  }\n\n  get metadata(): IObservableJSON | undefined {\n    return this._notebook.model?.metadata;\n  }\n\n  get nbformatMinor(): number | undefined {\n    return this._notebook?.model?.nbformatMinor;\n  }\n\n  get nbformat(): number | undefined {\n    return this._notebook?.model?.nbformat;\n  }\n\n  focusCell(cell: any | null = this._notebook.activeCell) {\n    log(\"GOT_FOCUS\", cell);\n    if (!cell) return; //cell was just deleted\n    if (!cell.model) return; //cell was just deleted\n    if (cell instanceof CodeCell || cell instanceof MarkdownCell) {\n      this.verNotebook.focusCell(cell);\n    }\n  }\n\n  private listen() {\n    /**\n     * fileChanged is \"A signal emitted when the model is saved or reverted.\"\"\n     */\n    this._notebookPanel?.context?.fileChanged.connect(() => {\n      log(\"FILE_CHANGED\", this.verNotebook);\n      let saveEvent = new SaveNotebook(this.verNotebook);\n      this.verNotebook.handleNotebookEvent(saveEvent);\n    });\n    this._notebook.model?.cells?.changed.connect(\n      (sender: any, data: IObservableList.IChangedArgs<ICellModel>) => {\n        // to avoid duplicates during load wait til load is complete\n        // log(\"DEBUG_LIST_CHANGED_EVENT\", sender, data);\n\n        if (!this.verNotebook.ready) {\n          log(\"LOST_LIST_CHANGED_EVENT\", \"NOT_READY\", sender, data);\n          return;\n        }\n\n        var newIndex = data.newIndex;\n        var newValues = data.newValues;\n        var oldIndex = data.oldIndex;\n        var oldValues = data.oldValues;\n        switch (data.type) {\n          case \"add\":\n            this._addNewCells(newIndex, newValues);\n            break;\n          case \"remove\":\n            this._removeCells(oldIndex, oldValues);\n            break;\n          case \"move\":\n            this._cellsMoved(oldIndex, newIndex, newValues);\n            break;\n          case \"set\":\n            this._cellTypeChanged(oldIndex, newIndex, oldValues);\n            break;\n          default:\n            log(\"LOST_LIST_CHANGED_EVENT\", \"TYPE_NOT)SUPPORTED\", sender, data);\n            // log(\"cell list changed!!!!\", sender, data);\n            break;\n        }\n      }\n    );\n\n    this._notebook.activeCellChanged.connect((_: any, cell: any) => {\n      this.focusCell(cell);\n    });\n\n    NotebookActions.executed.connect(async (_, args) => {\n      //waaat can get execution signals from other notebooks\n      if (args.notebook.id === this._notebook.id) {\n        const cell: any = args.cell;\n        let verCell = this.verNotebook.getCell(cell.model);\n        if (verCell && verCell.model) {\n          let runEvent = new RunCell(this.verNotebook, verCell.model);\n          this.verNotebook.handleNotebookEvent(runEvent);\n        } else {\n          // error case, this cell is missing a history model!\n          try {\n            // to fix create a new cell nodey and checkpoint to record this event\n            let index = this.notebook.widgets.findIndex(\n              (w) => w.model.id === cell.model.id\n            );\n            let checkpoint = this.verNotebook.history.checkpoints.generateCheckpoint();\n            let nodey = await this.verNotebook.ast.create.fromCell(\n              cell,\n              checkpoint\n            );\n            if (!verCell) {\n              // create ver cell if that's missing too\n              this.verNotebook.cells.splice(\n                index,\n                0,\n                new VerCell(this.verNotebook, cell, nodey.name)\n              );\n            } else verCell.setModel(nodey.name);\n            this.verNotebook.history.stage.commitCellAdded(\n              nodey,\n              index,\n              checkpoint\n            );\n          } catch (error) {\n            console.error(\n              \"Verdant: Error with mysterious cell run: \",\n              cell,\n              error\n            );\n          }\n        }\n      }\n    });\n  }\n\n  private _addNewCells(newIndex: number, newValues: ICellModel[]) {\n/*\n    newValues.forEach((value, index) => {\n       log(\"adding cell\",newIndex + index, value.toJSON());\n    });\n*/\n\n    newValues.forEach(async (_, index) => {\n      var cell: any = this._notebook.widgets[newIndex + index];\n      let createCellEvent = new CreateCell(\n        this.verNotebook,\n        cell,\n        newIndex,\n        false\n      );\n      this.verNotebook.handleNotebookEvent(createCellEvent);\n    });\n  }\n\n  private _removeCells(oldIndex: number, oldValues: ICellModel[]) {\n    log(\"removing cells\", oldIndex, oldValues);\n\n    oldValues.forEach((value) => {\n       log(\"removing cell\", oldIndex, value, this.verNotebook);\n    });\n\n    oldValues.forEach(() => {\n      let deleteCellEvent = new DeleteCell(this.verNotebook, oldIndex);\n      this.verNotebook.handleNotebookEvent(deleteCellEvent);\n    });\n  }\n\n  private _cellsMoved(\n    oldIndex: number,\n    newIndex: number,\n    newValues: ICellModel[]\n  ) {\n    newValues.forEach(async (item) => {\n      let verCell = this.verNotebook.getCell(item);\n      if (verCell) {\n        log(\"moving cell\", oldIndex, newIndex, newValues);\n        let moveCellEvent = new MoveCell(\n          this.verNotebook,\n          verCell,\n          oldIndex,\n          newIndex\n        );\n        this.verNotebook.handleNotebookEvent(moveCellEvent);\n      } else console.error(\"Cell not found in notebook history: \", item);\n    });\n  }\n\n  private _cellTypeChanged(\n    _: number,\n    newIndex: number,\n    oldValues: ICellModel[]\n  ) {\n    oldValues.forEach((_, index) => {\n      var cell: any = this._notebook.widgets[newIndex + index];\n      let switchCellEvent = new SwitchCellType(\n        this.verNotebook,\n        cell,\n        newIndex + index\n      );\n      this.verNotebook.handleNotebookEvent(switchCellEvent);\n    });\n  }\n\n  private _ready = new PromiseDelegate<void>();\n}\n","import * as renderers from \"@jupyterlab/rendermime\";\nimport { OutputAreaModel } from \"@jupyterlab/outputarea\";\nimport * as nbformat from \"@jupyterlab/nbformat\";\n\nimport { Widget } from \"@lumino/widgets\";\nimport { JSONObject } from \"@lumino/coreutils\";\n\nimport {\n  MimeModel,\n  IRenderMime,\n  IRenderMimeRegistry,\n  IOutputModel,\n} from \"@jupyterlab/rendermime\";\n\nimport { NodeyOutput } from \"../nodey\";\nimport { OutputHistory } from \"../history\";\nimport { FileManager } from \"./file-manager\";\n\n/*\n *  Render baby exposes some basic markdown and code rendermine capability from JupyterLab.\n *  It's a baby because it is only a small bit of Jupyter's rendermime system\n */\nexport class RenderBaby {\n  latexTypesetter: renderers.ILatexTypesetter;\n  linkHandler: any;\n  rendermime: IRenderMimeRegistry;\n  fileManager: FileManager;\n\n  constructor(\n    rendermime: IRenderMimeRegistry,\n    latexTypesetter: renderers.ILatexTypesetter,\n    linkHandler: any,\n    fileManager: FileManager\n  ) {\n    this.latexTypesetter = latexTypesetter;\n    this.linkHandler = linkHandler;\n    this.rendermime = rendermime;\n    this.fileManager = fileManager;\n  }\n\n  async renderMarkdown(div: HTMLElement, text: string) {\n    return renderers.renderMarkdown({\n      host: div as HTMLElement,\n      source: text,\n      shouldTypeset: true,\n      trusted: true,\n      sanitizer: undefined,\n      resolver: null,\n      linkHandler: this.linkHandler,\n      latexTypesetter: this.latexTypesetter,\n    });\n  }\n\n  createModel(data: JSONObject): IRenderMime.IMimeModel {\n    return new MimeModel({ data });\n  }\n\n  // returns a string if this is a plaintext output, undefined otherwise\n  public plaintextOutput(raw: nbformat.IOutput): string | undefined {\n    if (raw) {\n      const data = raw?.data;\n      if (data) {\n        const plaintext = data[\"text/plain\"]\n          ? (data[\"text/plain\"] as string)\n          : undefined;\n        return plaintext;\n      } else if (raw?.text) {\n        return raw.text.toString();\n      }\n    }\n  }\n\n  async renderOutput(nodey: NodeyOutput) {\n    return await Promise.all(\n      nodey.raw.map(async (output: nbformat.IOutput) => {\n        return this.renderOutputRaw(output);\n      })\n    );\n  }\n\n  async renderOutputRaw(output: nbformat.IOutput) {\n    let widget: any | undefined;\n\n    // check if output is actually stored offsite\n    if (OutputHistory.isOffsite(output)) {\n      let retrieved = await this.fileManager.getOutput(output);\n      widget = await this.renderMimeOutput(retrieved);\n    } else {\n      widget = await this.renderMimeOutput(output);\n    }\n\n    if (!widget) {\n      // could not be rendered\n      widget = new Widget();\n      widget.node.innerHTML =\n        `No renderer could be ` +\n        \"found for output. It has the following keys: \" +\n        Object.keys(output).join(\", \");\n    }\n\n    return widget;\n  }\n\n  private async renderMimeOutput(output: nbformat.IOutput) {\n    let trusted = output?.metadata\n      ? output?.metadata[\"verdant_trust_plz\"]\n      : null;\n    let opts = trusted ? { trusted: true } : {};\n    let area: OutputAreaModel = new OutputAreaModel(opts);\n    area.fromJSON([output]);\n    let model: IOutputModel = area.get(0);\n\n    let mimeType = this.rendermime.preferredMimeType(model.data, \"any\");\n    if (mimeType) {\n      let outputNode = this.rendermime.createRenderer(mimeType);\n      await outputNode.renderModel(model).catch((error) => {\n        // Manually append error message to output\n        outputNode.node.innerHTML = `<pre>Javascript Error: ${error.message}</pre>`;\n        // Remove mime-type-specific CSS classes\n        outputNode.node.className = \"p-Widget jp-RenderedText\";\n        outputNode.node.setAttribute(\n          \"data-mime-type\",\n          \"application/vnd.jupyter.stderr\"\n        );\n      });\n      return outputNode;\n    }\n    return undefined;\n  }\n}\n","export * from \"./nodey\";\nexport * from \"./nodey-code\";\nexport * from \"./nodey-code-cell\";\nexport * from \"./nodey-markdown\";\nexport * from \"./nodey-notebook\";\nexport * from \"./nodey-output\";\nexport * from \"./nodey-raw\";\n","import { NodeyCell } from \"./nodey\";\nimport { NodeyCode } from \"./nodey-code\";\n\n/*\n * Code Cell-level nodey\n */\nexport class NodeyCodeCell extends NodeyCode implements NodeyCell {\n  get typeChar() {\n    return \"c\";\n  }\n\n  // Note this is simplified from Nodey Code\n  public toJSON(): NodeyCode.SERIALIZE {\n    let jsn = super.toJSON() as NodeyCode.SERIALIZE;\n    if (this.literal) jsn.literal = this.literal;\n    jsn.start = this.start;\n    jsn.end = this.end;\n    return jsn;\n  }\n}\n\nexport namespace NodeyCodeCell {\n  export function fromJSON(dat: NodeyCode.SERIALIZE): NodeyCodeCell {\n    return new NodeyCodeCell({\n      parent: dat.parent,\n      created: dat.start_checkpoint,\n      type: dat.type || \"Module\",\n      content: dat.content || [],\n      literal: dat.literal,\n      start: dat.start,\n      end: dat.end,\n    });\n  }\n}\n","import { Nodey } from \"./nodey\";\n\n/*\n * Code holds AST details\n */\nexport class NodeyCode extends Nodey {\n  type: string = \"module\"; // default top-level AST type is module\n  content: (SyntaxToken | string)[] = [];\n  start: NodeyCode.Pos;\n  end: NodeyCode.Pos;\n  literal: string | undefined;\n  right: string | undefined; // lookup id for the next Nodey to the right of this one\n\n  constructor(options: NodeyCode.Options) {\n    super(options);\n    this.updateState(options);\n  }\n\n  public updateState(options: NodeyCode.Options) {\n    super.updateState(options);\n    this.type = options.type || \"module\";\n    if (options.content && options.content.length > 0) {\n      this.content = options.content.slice(0);\n      this.content = this.content.map((item) => {\n        if (item instanceof SyntaxToken) return item;\n        if (typeof item == \"string\") return item;\n        else return new SyntaxToken(item); // fresh from a JSON file\n      });\n    }\n    this.literal = options.literal;\n    this.start = options.start;\n    this.end = options.end;\n    this.right = options.right;\n  }\n\n  public toJSON(): NodeyCode.SERIALIZE {\n    let jsn = super.toJSON() as NodeyCode.SERIALIZE;\n    // jsn.type = this.type;\n    // if (this.content) jsn.content = this.content;\n    if (this.literal) jsn.literal = this.literal;\n    if (this.start) jsn.start = this.start;\n    if (this.end) jsn.end = this.end;\n    return jsn;\n  }\n\n  get typeChar() {\n    return \"s\";\n  }\n\n  positionRelativeTo(target: NodeyCode) {\n    if (!target) return;\n    //may run into historical targets that do not have position info\n    this.start = this.start || { line: 0, ch: 0 };\n    this.end = this.end || { line: 0, ch: 0 };\n\n    if (target.start && target.end) {\n      var deltaLine = Math.max(target.start.line - this.start.line, 0);\n      var deltaCh = Math.max(target.start.ch - this.start.ch, 0);\n      this.start = {\n        line: deltaLine + this.start.line,\n        ch: deltaCh + this.start.ch,\n      };\n      this.end = { line: deltaLine + this.end.line, ch: deltaCh + this.end.ch };\n    }\n  }\n\n  public hasChild(name: string) {\n    return this.content.find(\n      (item) => item instanceof SyntaxToken === false && item === name\n    );\n  }\n\n  public getChildren(): string[] {\n    if (!this.content || this.content.length === 0) return [];\n    return this.content.filter(\n      (item) => !(item instanceof SyntaxToken)\n    ) as string[];\n  }\n}\n\nexport namespace NodeyCode {\n  export type Pos = { line: number; ch: number } | undefined;\n\n  export const EMPTY = () => {\n    return new NodeyCode({ type: \"EMPTY\", content: [] });\n  };\n\n  export const typeChar = \"c\";\n\n  export type Options = {\n    type?: string;\n    content?: (SyntaxToken | string)[];\n    start?: Pos;\n    end?: Pos;\n    right?: string;\n    literal?: any;\n  } & Nodey.Options;\n\n  export interface SERIALIZE extends Nodey.SERIALIZE {\n    type?: string;\n    content?: any[];\n    literal: string;\n    start?: Pos;\n    end?: Pos;\n  }\n\n  export function fromJSON(dat: NodeyCode.SERIALIZE): NodeyCode {\n    return new NodeyCode({\n      parent: dat.parent,\n      created: dat.start_checkpoint,\n      type: dat.type,\n      content: dat.content,\n      literal: dat.literal,\n      start: dat.start,\n      end: dat.end,\n    });\n  }\n}\n\n/*\n *  does not do anything. For syntax punctuation and new lines only\n */\nexport class SyntaxToken {\n  tokens: string;\n\n  constructor(tokens: string | { tokens: string }) {\n    if (typeof tokens == \"string\") this.tokens = tokens;\n    else this.tokens = tokens.tokens;\n  }\n}\n\nexport namespace SyntaxToken {\n  export const KEY = \"syntok\";\n}\n","import { Nodey, NodeyCell } from \"./nodey\";\n/*\n * Markdown nodey\n */\nexport class NodeyMarkdown extends Nodey implements NodeyCell {\n  markdown: string | undefined;\n\n  constructor(options: NodeyMarkdown.Options) {\n    super(options);\n    this.updateState(options);\n  }\n\n  public updateState(options: NodeyMarkdown.Options) {\n    super.updateState(options);\n    if (options.markdown) this.markdown = options.markdown;\n  }\n\n  public toJSON(): NodeyMarkdown.SERIALIZE {\n    let jsn = super.toJSON() as NodeyMarkdown.SERIALIZE;\n    if (this.markdown) jsn.markdown = this.markdown;\n    return jsn;\n  }\n\n  get typeChar() {\n    return \"m\";\n  }\n}\n\nexport namespace NodeyMarkdown {\n  export type Options = {\n    markdown?: string;\n  } & Nodey.Options;\n\n  export interface SERIALIZE extends Nodey.SERIALIZE {\n    markdown?: string;\n  }\n\n  export const typeChar = \"m\";\n\n  export function fromJSON(dat: NodeyMarkdown.SERIALIZE): NodeyMarkdown {\n    return new NodeyMarkdown({\n      parent: dat.parent,\n      created: dat.start_checkpoint,\n      markdown: dat.markdown,\n    });\n  }\n}\n","import { Nodey } from \"./nodey\";\n/*\n * Notebook holds a list of cells\n */\nexport class NodeyNotebook extends Nodey {\n  cells: string[] = [];\n\n  constructor(options: NodeyNotebook.Options) {\n    super(options);\n    this.updateState(options);\n  }\n\n  public updateState(options: NodeyNotebook.Options) {\n    super.updateState(options);\n    if (options.cells && options.cells.length > 0)\n      this.cells = options.cells.slice(0);\n  }\n\n  public toJSON(): NodeyNotebook.SERIALIZE {\n    return { ...super.toJSON(), cells: this.cells };\n  }\n\n  get typeChar() {\n    return \"n\";\n  }\n}\n\nexport namespace NodeyNotebook {\n  export type Options = {\n    cells: string[];\n  } & Nodey.Options;\n\n  export interface SERIALIZE extends Nodey.SERIALIZE {\n    start_checkpoint?: number;\n    cells: string[];\n  }\n\n  export function fromJSON(dat: NodeyNotebook.SERIALIZE): NodeyNotebook {\n    return new NodeyNotebook({\n      created: dat.start_checkpoint,\n      cells: dat.cells,\n    });\n  }\n}\n","import { Nodey } from \"./nodey\";\nimport { log } from \"../notebook\";\nimport * as nbformat from \"@jupyterlab/nbformat\";\n\n/*\n * Output holds raw output\n */\nexport class NodeyOutput extends Nodey {\n  raw: nbformat.IOutput[] = [];\n\n  constructor(options: NodeyOutput.Options) {\n    super(options);\n    this.updateState(options);\n  }\n\n  public updateState(options: NodeyOutput.Options) {\n    super.updateState(options);\n    if (options.raw) this.raw = options.raw;\n  }\n\n  public toJSON(): NodeyOutput.SERIALIZE {\n    let jsn = super.toJSON() as NodeyOutput.SERIALIZE;\n    jsn.raw = this.raw;\n    return jsn;\n  }\n\n  get typeChar() {\n    return NodeyOutput.typeChar;\n  }\n}\n\nexport namespace NodeyOutput {\n  export const EMPTY = () => new NodeyOutput({ raw: [] });\n\n  export const typeChar = \"o\";\n\n  export type Options = {\n    raw: nbformat.IOutput[];\n  } & Nodey.Options;\n\n  export interface SERIALIZE extends Nodey.SERIALIZE {\n    raw: { [key: string]: any }[];\n  }\n\n  export function fromJSON(dat: NodeyOutput.SERIALIZE): NodeyOutput {\n    return new NodeyOutput({\n      raw: dat.raw as nbformat.IOutput[],\n      parent: dat.parent,\n      created: dat.start_checkpoint,\n    });\n  }\n\n  // ref: https://stackoverflow.com/questions/26049303/how-to-compare-two-json-have-the-same-properties-without-order\n  export function equals(a: any, b: any): boolean {\n    log(\"COMPARING\", a, b);\n    if (a === null || a === undefined || b === null || b === undefined) {\n      return a === b;\n    }\n    if (a === b) {\n      return true;\n    }\n\n    /*log(\"TYPE OF A\", typeof a, typeof b);\n    if (\n      typeof a === \"object\" &&\n      typeof b === \"object\" &&\n      a.valueOf() === b.valueOf()\n    ) {\n      return true;\n    }*/\n\n    // if one of them is date, they must had equal valueOf\n    if (a instanceof Date) {\n      return false;\n    }\n    if (b instanceof Date) {\n      return false;\n    }\n\n    // if they are not function or strictly equal, they both need to be Objects\n    if (!(a instanceof Object)) {\n      return false;\n    }\n    if (!(b instanceof Object)) {\n      return false;\n    }\n\n    var p = Object.keys(a);\n    return Object.keys(b).every(function (i) {\n      return p.indexOf(i) !== -1;\n    })\n      ? p.every(function (i) {\n          return NodeyOutput.equals(a[i], b[i]);\n        })\n      : false;\n  }\n}\n","import { Nodey, NodeyCell } from \"./nodey\";\n\n/*\n * Simple raw cell type (rare, since most cells are code or markdown)\n */\nexport class NodeyRawCell extends Nodey implements NodeyCell {\n  literal: string | undefined;\n\n  constructor(options: NodeyRawCell.Options) {\n    super(options);\n    this.updateState(options);\n  }\n\n  public updateState(options: NodeyRawCell.Options) {\n    super.updateState(options);\n    if (options.literal) this.literal = options.literal;\n  }\n\n  public toJSON(): NodeyRawCell.SERIALIZE {\n    let jsn = super.toJSON() as NodeyRawCell.SERIALIZE;\n    if (this.literal) jsn.literal = this.literal;\n    return jsn;\n  }\n\n  get typeChar() {\n    return \"r\";\n  }\n}\n\nexport namespace NodeyRawCell {\n  export type Options = {\n    literal?: any;\n  } & Nodey.Options;\n\n  export interface SERIALIZE extends Nodey.SERIALIZE {\n    literal?: string;\n  }\n\n  export function fromJSON(dat: NodeyRawCell.SERIALIZE): NodeyRawCell {\n    return new NodeyRawCell({\n      parent: dat.parent,\n      created: dat.start_checkpoint,\n      literal: dat.literal,\n    });\n  }\n}\n","export abstract class Nodey {\n  id: number | undefined; //id for this node\n  version: number | undefined; //chronological number\n  created: number | undefined; //id marking which checkpoint\n  parent: string | undefined; //lookup id for the parent Nodey of this Nodey\n\n  constructor(options: Nodey.Options) {\n    this.id = options.id;\n    if (options.created !== undefined) this.created = options.created;\n    if (options.parent !== undefined) this.parent = options.parent + \"\";\n  }\n\n  get name(): string {\n    return this.typeChar + \".\" + this.id + \".\" + this.version;\n  }\n\n  get artifactName(): string {\n    return this.typeChar + \".\" + this.id;\n  }\n\n  public updateState(_: Nodey.Options) {}\n\n  public toJSON(): Nodey.SERIALIZE {\n    let jsn = {};\n    if (this.created) jsn[\"start_checkpoint\"] = this.created;\n    if (this.parent) jsn[\"parent\"] = this.parent;\n    return jsn;\n  }\n\n  abstract get typeChar(): string;\n}\n\nexport namespace Nodey {\n  export type Options = {\n    id?: number; //id for this node\n    version?: any; //chronological number\n    created?: number; //id marking which checkpoint\n    parent?: string | number; //lookup id for the parent Nodey of this Nodey\n  };\n\n  export interface SERIALIZE {\n    parent?: string;\n    start_checkpoint?: number;\n    origin?: string; // only used if this nodey was derived from a prior seperate nodey\n  }\n}\n\n/*\n * Cell-level nodey interface\n */\nexport interface NodeyCell extends Nodey {}\n","import { NotebookEvent } from \".\";\nimport { Cell } from \"@jupyterlab/cells\";\nimport { VerCell } from \"../cell\";\nimport { VerNotebook, log } from \"../notebook\";\n\nexport class CreateCell extends NotebookEvent {\n  cell: Cell;\n  cell_index: number;\n  match: boolean;\n\n  constructor(\n    notebook: VerNotebook,\n    cell: Cell,\n    cell_index: number,\n    match: boolean\n  ) {\n    super(notebook);\n    this.cell = cell;\n    this.cell_index = cell_index;\n    this.match = match;\n  }\n\n  async modelUpdate() {\n    // create the representation of the new cell\n    let nodey = await this.notebook.ast.create.fromCell(\n      this.cell,\n      this.checkpoint\n    );\n    let newCell = new VerCell(this.notebook, this.cell, nodey.name);\n    this.notebook.cells.splice(this.cell_index, 0, newCell);\n\n    // update the notebook nodey\n    this.checkpoint = this.history.stage.commitCellAdded(\n      nodey,\n      this.cell_index,\n      this.checkpoint\n    );\n    log(\"CELL CREATED\", newCell, this.notebook.cells, this.cell_index);\n  }\n\n  endEvent(): void {\n    log(\"CELL CREATED_END\", this.cell, this.notebook.cells, this.cell_index);\n  }\n}\n","import { NotebookEvent } from \".\";\nimport { VerNotebook } from \"../notebook\";\n\nexport class DeleteCell extends NotebookEvent {\n  cell_index: number;\n\n  constructor(notebook: VerNotebook, cell_index: number) {\n    super(notebook);\n    this.cell_index = cell_index;\n  }\n\n  async modelUpdate() {\n    let oldCell = this.notebook.cells.splice(this.cell_index, 1)[0];\n    if (oldCell.model)\n      this.checkpoint = this.history.stage.commitCellDeleted(\n        oldCell.model,\n        this.checkpoint\n      );\n  }\n}\n","// expose classes for this module\nexport * from \"./notebook-event\";\nexport * from \"./create-cell\";\nexport * from \"./delete-cell\";\nexport * from \"./load-notebook\";\nexport * from \"./move-cell\";\nexport * from \"./run-cell\";\nexport * from \"./save-notebook\";\nexport * from \"./switch-cell-type\";\n","import { NotebookEvent } from \".\";\nimport { Cell } from \"@jupyterlab/cells\";\nimport { VerCell } from \"../cell\";\nimport { VerNotebook, log } from \"../notebook\";\nimport { NodeyNotebook } from \"../nodey\";\n\nexport class LoadNotebook extends NotebookEvent {\n  matchPrior: boolean;\n\n  constructor(notebook: VerNotebook, matchPrior: boolean) {\n    super(notebook);\n    this.matchPrior = matchPrior;\n  }\n\n  async modelUpdate() {\n    let newNotebook: NodeyNotebook;\n    if (this.matchPrior && this.notebook.model) {\n      newNotebook = await this.notebook.ast.hotStartNotebook(\n        this.notebook.model,\n        this.notebook.view.notebook,\n        this.checkpoint\n      );\n    } else\n      newNotebook = await this.notebook.ast.coldStartNotebook(\n        this.notebook.view.notebook,\n        this.checkpoint\n      );\n\n    // initialize the cells of the notebook\n    this.notebook.cells = [];\n    this.notebook.view.notebook.widgets.forEach((item, index) => {\n      if (item instanceof Cell) {\n        let name = newNotebook.cells[index];\n        let cell: VerCell = new VerCell(this.notebook, item, name);\n        this.notebook.cells.push(cell);\n      }\n    });\n\n    log(\"cell names\", this.notebook.cells, this.checkpoint);\n  }\n}\n","import { NotebookEvent } from \".\";\nimport { VerCell } from \"../cell\";\nimport { VerNotebook } from \"../notebook\";\n\nexport class MoveCell extends NotebookEvent {\n  cell: VerCell;\n  oldPos: number;\n  newPos: number;\n\n  constructor(\n    notebook: VerNotebook,\n    cell: VerCell,\n    oldPos: number,\n    newPos: number\n  ) {\n    super(notebook);\n    this.cell = cell;\n    this.oldPos = oldPos;\n    this.newPos = newPos;\n  }\n\n  async modelUpdate() {\n    this.notebook.cells.splice(this.oldPos, 1);\n    this.notebook.cells.splice(this.newPos, 0, this.cell);\n\n    // make sure cell is moved in the model\n    if (this.cell.model)\n      this.checkpoint = this.history.stage.commitCellMoved(\n        this.cell.model,\n        this.newPos,\n        this.checkpoint\n      );\n  }\n}\n","import { Checkpoint } from \"../checkpoint\";\nimport { History } from \"../history\";\nimport { VerNotebook } from \"../notebook\";\n\n// 1. event begins\n// 2. trigger update to history model\n// 4. event ends\n\nexport abstract class NotebookEvent {\n  readonly history: History;\n  readonly notebook: VerNotebook;\n  checkpoint: Checkpoint;\n\n  constructor(notebook: VerNotebook) {\n    this.notebook = notebook;\n    this.history = notebook.history;\n  }\n\n  public runEvent(): Promise<Checkpoint> {\n    let ev = new Promise<Checkpoint>(async (accept) => {\n      // create a checkpoint to record this event\n      this.checkpoint = this.history.checkpoints.generateCheckpoint();\n\n      // evaluate what updates are needed to the model caused by this event\n      await this.modelUpdate();\n\n      // any wrap-up steps specific to this event\n      this.endEvent();\n\n      // finish event and return\n      accept(this.checkpoint);\n    });\n    return ev;\n  }\n\n  async modelUpdate() {}\n\n  endEvent(): void {}\n}\n","import { NotebookEvent } from \".\";\nimport { NodeyCell } from \"../nodey\";\nimport { VerNotebook } from \"../notebook\";\n\nexport class RunCell extends NotebookEvent {\n  nodey: NodeyCell;\n\n  constructor(notebook: VerNotebook, nodey: NodeyCell) {\n    super(notebook);\n    this.nodey = nodey;\n  }\n\n  async modelUpdate() {\n    if (this.nodey) {\n      // commit the notebook if the cell has changed\n      this.history.stage.markAsPossiblyEdited(this.nodey, this.checkpoint);\n      this.checkpoint = await this.history.stage.commit(this.checkpoint);\n    }\n  }\n}\n","import { NotebookEvent } from \".\";\n\nexport class SaveNotebook extends NotebookEvent {\n  async modelUpdate() {\n    // look through cells for potential unsaved changes\n    this.notebook.cells.forEach((cell) => {\n      if (cell.model) {\n        this.history.stage.markAsPossiblyEdited(cell.model, this.checkpoint);\n      }\n    });\n\n    // !!! HACK: avoiding saving duplicate images assuming if it hasn't been\n    // run it can't be a new output\n    this.checkpoint = await this.history.stage.commit(this.checkpoint, {\n      ignore_output: true,\n    });\n  }\n\n  endEvent() {\n    this.notebook.saveToFile();\n  }\n}\n","import { NotebookEvent } from \".\";\nimport { Cell } from \"@jupyterlab/cells\";\nimport { VerNotebook } from \"../notebook\";\n\nexport class SwitchCellType extends NotebookEvent {\n  cell: Cell;\n  cell_index: number;\n\n  constructor(notebook: VerNotebook, cell: Cell, cell_index: number) {\n    super(notebook);\n    this.cell = cell;\n    this.cell_index = cell_index;\n  }\n\n  async modelUpdate() {\n    // this is going to create and store the new nodey\n    let newNodey = await this.notebook.ast.create.fromCell(\n      this.cell,\n      this.checkpoint\n    );\n    let verCell = this.notebook.cells[this.cell_index];\n\n    // make pointer in history from old type to new type\n    let oldNodey = verCell?.model;\n    this.history.store.linkBackHistories(newNodey, oldNodey);\n    if (newNodey.name) verCell?.setModel(newNodey.name);\n    verCell.view = this.cell;\n\n    // make sure cell is added to notebook model\n    this.checkpoint = this.history.stage.commitCellTypeChanged(\n      oldNodey,\n      newNodey,\n      this.checkpoint\n    );\n  }\n}\n","import { PathExt } from \"@jupyterlab/coreutils\";\nimport { PromiseDelegate } from \"@lumino/coreutils\";\nimport { NotebookPanel } from \"@jupyterlab/notebook\";\nimport { NotebookListen } from \"./jupyter-hooks/notebook-listen\";\nimport { Cell, ICellModel } from \"@jupyterlab/cells\";\nimport { History } from \"./history\";\nimport { AST } from \"./analysis/ast\";\nimport { VerCell } from \"./cell\";\nimport { NodeyNotebook, NodeyCell } from \"./nodey\";\nimport { NotebookEvent, LoadNotebook } from \"./notebook-events\";\nimport { logit } from \"./sc/sc-client\";\n\n/*\n * Notebook holds a list of cells\n */\nexport class VerNotebook {\n  readonly view: NotebookListen;\n  readonly history: History;\n  readonly ast: AST;\n  private eventQueue: Promise<any>[] = [];\n  cells: VerCell[];\n  modelMapping = new Map();\n\n  constructor(history: History, ast: AST, notebookPanel: NotebookPanel) {\n    this.history = history;\n    this.ast = ast;\n    this.view = new NotebookListen(notebookPanel, this);\n    this.cells = [];\n    this.init();\n  }\n\n  public get ready(): Promise<void> {\n    return this._ready.promise;\n  }\n\n  public setPanel(panel: NotebookPanel) {\n    // update if the active panel changes\n    this.view.setPanel(panel);\n    // update cells\n    this.init();\n  }\n\n  private async init() {\n    await this.view.ready;\n\n    //load in prior data if exists\n    var prior = await this.history.init(this);\n\n    // load in the notebook model from data\n    let loadEvent = new LoadNotebook(this, prior);\n    await this.handleNotebookEvent(loadEvent);\n\n    // finish initialization\n    log(\"Loaded Notebook\", this.view.notebook, this.model);\n    const tempMapping = new Map();\n\n    for (var i = 0; i < this.cells.length; ++i) {\n          var cell = this.cells[i]\n          var name = cell.model.name;\n\n          if (cell.view && cell.view.model) {\n             var info = JSON.stringify(cell.view.model.toJSON())\n             console.log(\"LOADED_MODELS:\", name, info)\n             var key = name.substring(0, name.lastIndexOf(\".\"));\n             var id = cell.view.model.id;\n             var state = { id:id, index:i, msg:info}\n\n             tempMapping.set(key, state)\n          }\n    }\n\n    this.modelMapping = tempMapping;\n    this.dump();\n    this._ready.resolve(undefined);\n\n    // update views to show notebook is loaded\n    this.view.focusCell();\n  }\n\n  public async handleNotebookEvent(event: NotebookEvent) {\n    try {\n      await Promise.all(this.eventQueue).then(() => (this.eventQueue = []));\n      let ev = event.runEvent();\n      this.eventQueue.push(ev);\n      return ev;\n    } catch (error) {\n      console.error(\"Verdant: Error on event \", event, error);\n    }\n  }\n\n  get model(): NodeyNotebook | undefined {\n    return this.history.store.currentNotebook;\n  }\n\n  get path(): string | undefined {\n    return this.view.panel?.sessionContext?.path;\n  }\n\n  get name(): string | undefined {\n    if (this.path) return PathExt.basename(this.path);\n  }\n\n  get metadata() {\n    return this.view.metadata;\n  }\n\n  public saveToFile() {\n    // save the data to file\n    this.history.store.writeToFile();\n  }\n\n  public getCell(cell: ICellModel): VerCell | undefined {\n    return this.cells.find((item) => {\n      if (item.view && item.view.model) return item.view.model.id === cell.id;\n    });\n  }\n\n  public getCellByNode(cell: NodeyCell): VerCell | undefined {\n    return this.cells.find(\n      (item) =>\n        cell?.name === item?.model?.name && item?.model?.name !== undefined\n    );\n  }\n\n  public async focusCell(cell: Cell): Promise<VerCell> {\n    await Promise.all(this.eventQueue).then(() => (this.eventQueue = []));\n    let ev = new Promise<VerCell>((accept) => {\n      let verCell = this.getCell(cell.model);\n      if (verCell) {\n        this.view.activeCell = cell;\n      } else this.view.activeCell = null;\n      accept(verCell);\n    });\n    this.eventQueue.push(ev);\n    return ev;\n  }\n\n  public dump(): void {\n    return this.history.dump();\n  }\n\n  private _ready = new PromiseDelegate<void>();\n}\n\nexport type jsn = { [i: string]: any };\n\nexport function log(...msg: any[]) {\n   logit(...msg);\n}\n\nexport function error(...msg: any[]) {\n  console.error(\"VERDANT ERROR: \", ...msg);\n}\n","import { NodeyNotebook } from \"../nodey\";\nimport { History } from \"../history\";\nimport { CellRunData, ChangeType } from \"../checkpoint\";\nimport { Checkpoint } from \"../checkpoint\";\n\nexport namespace CellMap {\n  export type map = mapCell[];\n  type mapCell = { name: string; changes: ChangeType[] };\n\n  function addChange(cell: mapCell, change: ChangeType) {\n    if (cell.changes.indexOf(change) < 0) cell.changes.push(change);\n    return cell;\n  }\n\n  export function build(\n    checkpointList: Checkpoint | Checkpoint[],\n    history: History\n  ): map {\n    let cellMap: map = [];\n    if (!Array.isArray(checkpointList)) checkpointList = [checkpointList];\n\n    checkpointList.forEach((checkpoint) => {\n      let notebook = history.store.getNotebook(\n        checkpoint.notebook\n      ) as NodeyNotebook;\n      let targets = checkpoint.targetCells;\n      if (notebook) {\n        notebook.cells.forEach((name, index) => {\n          // initialize a cell with no changes\n          if (!cellMap[index]) cellMap[index] = { name, changes: [] };\n\n          // see if anything happened to this cell at this checkpoint\n          let match: CellRunData | undefined = targets.find(\n            (item) => item.cell === name\n          );\n          if (match) {\n            let change = match.changeType;\n\n            // add change to cell's list of changes\n            cellMap[index] = addChange(cellMap[index], change);\n          }\n        });\n\n        // for deleted cells\n        targets.forEach((t) => {\n          if (t.changeType === ChangeType.REMOVED && t.index) {\n            // if already in the map, just replace, if not splice in\n            if (cellMap[t.index] && cellMap[t.index].name === t.cell)\n              cellMap[t.index].changes.push(ChangeType.REMOVED);\n            else\n              cellMap.splice(t.index, 0, {\n                name: t.cell,\n                changes: [ChangeType.REMOVED],\n              });\n          }\n        });\n      }\n    });\n\n    return cellMap;\n  }\n}\n","import * as JSDiff from \"diff\";\nimport { RenderBaby } from \"../jupyter-hooks/render-baby\";\nimport {\n  Nodey,\n  NodeyCode,\n  NodeyMarkdown,\n  NodeyNotebook,\n  NodeyOutput,\n  NodeyRawCell,\n} from \"../nodey\";\nimport { Sampler, CellMap } from \".\";\nimport { History } from \"../history\";\nimport { ChangeType } from \"../checkpoint\";\n\nexport enum DIFF_TYPE {\n  NO_DIFF,\n  CHANGE_DIFF,\n  PRESENT_DIFF,\n}\n\nexport type DiffCell = {\n  name: string;\n  sample: HTMLElement;\n  status: ChangeType[];\n};\n\nconst CHANGE_SAME_CLASS = \"v-Verdant-sampler-code-same\";\nconst CHANGE_ADDED_CLASS = \"v-Verdant-sampler-code-added\";\nconst CHANGE_REMOVED_CLASS = \"v-Verdant-sampler-code-removed\";\nconst MARKDOWN_LINEBREAK = \"v-Verdant-sampler-markdown-linebreak\";\n\nconst MAX_WORD_DIFFS = 4;\n\nexport class Diff {\n  private readonly sampler: Sampler;\n  private readonly history: History;\n  private readonly renderBaby: RenderBaby;\n\n  constructor(sampler: Sampler) {\n    this.sampler = sampler;\n    this.history = sampler.history;\n    this.renderBaby = sampler.renderBaby;\n  }\n\n  async renderNotebook(\n    notebook_ver: number,\n    diffKind: DIFF_TYPE\n  ): Promise<DiffCell[]> {\n    /*\n     * First set up the basics that we'll need regardless of what kind of\n     * diff we're doing\n     */\n    let focusedNotebook = this.history.store.getNotebook(notebook_ver);\n    let relativeToNotebook = notebook_ver;\n    if (relativeToNotebook < 0) relativeToNotebook = undefined;\n    let cellMap: { name: string; changes: ChangeType[] }[] = [];\n\n    /*\n     * Based on the diff kind, build a list of cells with changes\n     */\n    if (diffKind === DIFF_TYPE.CHANGE_DIFF) {\n      let checkpoints = this.history.checkpoints.getForNotebook(\n        focusedNotebook\n      );\n      cellMap = CellMap.build(checkpoints, this.history);\n    } else if (diffKind === DIFF_TYPE.PRESENT_DIFF) {\n      let currentNotebook = this.history.store.currentNotebook;\n      relativeToNotebook = currentNotebook?.version;\n      cellMap = this.zipNotebooks(focusedNotebook, currentNotebook);\n    } else if (diffKind === DIFF_TYPE.NO_DIFF) {\n      cellMap = focusedNotebook.cells.map((name) => {\n        return { name, changes: [] };\n      });\n    }\n\n    /*\n     * For each cell, render line-level diff notation\n     */\n    return Promise.all(\n      cellMap.map(async (value: { name: string; changes: ChangeType[] }) => {\n        const name = value.name;\n        const status = value.changes;\n        let cell = this.history.store.get(name);\n        let diff = diffKind;\n        if (status.includes(ChangeType.REMOVED)) diff = DIFF_TYPE.NO_DIFF;\n        const sample = await this.renderCell(cell, diff, relativeToNotebook);\n        return { sample, status, name };\n      })\n    );\n  }\n\n  public async renderCell(\n    nodey: Nodey,\n    diffKind: DIFF_TYPE = DIFF_TYPE.NO_DIFF,\n    relativeToNotebook?: number\n  ): Promise<HTMLElement> {\n    const [sample, elem] = this.sampler.makeSampleDivs(nodey);\n\n    if (nodey instanceof NodeyCode) {\n      this.diffCode(nodey, elem, diffKind, relativeToNotebook);\n    } else if (nodey instanceof NodeyMarkdown) {\n      await this.diffMarkdown(nodey, elem, diffKind, relativeToNotebook);\n    } else if (nodey instanceof NodeyRawCell) {\n      // raw can be treated the same as code\n      this.diffCode(nodey, elem, diffKind, relativeToNotebook);\n    } else if (nodey instanceof NodeyOutput) {\n      await this.diffOutput(nodey, elem, diffKind, relativeToNotebook);\n    }\n\n    return sample;\n  }\n\n  private getOldNewText(\n    nodey: Nodey,\n    diffKind: DIFF_TYPE,\n    relativeToNotebook?: number\n  ): [string, string, DIFF_TYPE] {\n    // first get text of the current nodey\n    let newText = this.sampler.nodeToText(nodey);\n\n    // now get text of prior nodey\n    let [priorNodey, fixedDiffKind] = this.getPrior(\n      nodey,\n      diffKind,\n      relativeToNotebook\n    );\n    let oldText = \"\"; // default to no string if no prior nodey\n\n    // otherwise make oldText the value of priorNodey\n    if (priorNodey) oldText = this.sampler.nodeToText(priorNodey);\n\n    return [newText, oldText, fixedDiffKind];\n  }\n\n  private getPrior(\n    nodey: Nodey,\n    diffKind: DIFF_TYPE,\n    relativeToNotebook?: number\n  ): [Nodey | undefined, DIFF_TYPE] {\n    // now get text of prior nodey\n    let nodeyHistory = this.history.store?.getHistoryOf(nodey);\n    let priorNodey = undefined;\n    let cellParent = undefined;\n    if (nodey instanceof NodeyOutput) {\n      cellParent = this.history.store?.get(nodey.parent);\n    }\n\n    if (diffKind === DIFF_TYPE.CHANGE_DIFF) {\n      priorNodey = nodeyHistory?.getVersion(nodey.version - 1);\n\n      /*\n       * If relative to a checkpoint, check that changes to this nodey occurs\n       * no earlier than the checkpoint immediately previous so that we\n       * don't get irrelevant old changes showing up in diffs (ghost book only)\n       */\n      if (relativeToNotebook !== undefined) {\n        let notebook = this.history?.store.getNotebookOf(nodey);\n        if (!notebook || notebook?.version < relativeToNotebook) {\n          priorNodey = undefined;\n          diffKind = DIFF_TYPE.NO_DIFF;\n        } else {\n          if (!priorNodey && cellParent) {\n            let rel = this.history?.store.getNotebook(relativeToNotebook);\n            priorNodey = this.history?.store?.getOutputForNotebook(\n              cellParent,\n              rel\n            );\n          }\n        }\n      }\n    } else if (diffKind === DIFF_TYPE.PRESENT_DIFF) {\n      if (cellParent) {\n        // output\n        let curr = this.history?.store.currentNotebook;\n        let latestParent = this.history.store.getHistoryOf(cellParent)\n          ?.latest as NodeyCode;\n        priorNodey = this.history?.store?.getOutputForNotebook(\n          latestParent,\n          curr\n        );\n      } else priorNodey = nodeyHistory?.latest;\n    }\n\n    return [priorNodey, diffKind];\n  }\n\n  private diffCode(\n    nodey: Nodey,\n    elem: HTMLElement,\n    diffKind: number = DIFF_TYPE.NO_DIFF,\n    relativeToNotebook?: number\n  ) {\n    let [newText, oldText, fixedDiffKind] = this.getOldNewText(\n      nodey,\n      diffKind,\n      relativeToNotebook\n    );\n    diffKind = fixedDiffKind;\n\n    // If no diff necessary, use plain code\n    if (diffKind === DIFF_TYPE.NO_DIFF) {\n      return this.sampler.plainCode(elem, newText);\n    }\n\n    if (diffKind === DIFF_TYPE.PRESENT_DIFF) {\n      // swap old and new, since \"old\" is actually the present notebook\n      return this.diffText(newText, oldText, elem);\n    }\n\n    return this.diffText(oldText, newText, elem);\n  }\n\n  diffText(oldText: string, newText: string, elem: HTMLElement) {\n    // Split new text into lines\n    let newLines = (newText || \"\").split(\"\\n\");\n\n    // Split old text into lines\n    let oldLines = (oldText || \"\").split(\"\\n\");\n\n    // Loop over lines and append diffs to elem\n    const maxLength = Math.max(newLines.length, oldLines.length);\n    for (let i = 0; i < maxLength; i++) {\n      let newLine = newLines[i] || \"\";\n      let oldLine = oldLines[i] || \"\";\n      elem.appendChild(this.diffLine(oldLine, newLine));\n    }\n\n    return elem;\n  }\n\n  diffLine(oldText: string, newText: string) {\n    /* Diffs a single line. */\n    let line = document.createElement(\"div\");\n    let innerHTML = \"\";\n    let diff = JSDiff.diffWords(oldText, newText);\n    if (diff.length > MAX_WORD_DIFFS) diff = JSDiff.diffLines(oldText, newText);\n    diff.forEach((part) => {\n      let partDiv = document.createElement(\"span\");\n      //log(\"DIFF\", part);\n      partDiv.textContent = part.value;\n      if (part.added) {\n        partDiv.classList.add(CHANGE_ADDED_CLASS);\n        innerHTML += partDiv.outerHTML;\n      } else if (part.removed) {\n        partDiv.classList.add(CHANGE_REMOVED_CLASS);\n        innerHTML += partDiv.outerHTML;\n      } else {\n        innerHTML += part.value;\n      }\n    });\n    line.innerHTML = innerHTML;\n    return line;\n  }\n\n  async diffMarkdown(\n    nodey: NodeyMarkdown,\n    elem: HTMLElement,\n    diffKind: number = DIFF_TYPE.NO_DIFF,\n    relativeToNotebook?: number\n  ) {\n    let [newText, oldText, fixedDiffKind] = this.getOldNewText(\n      nodey,\n      diffKind,\n      relativeToNotebook\n    );\n    diffKind = fixedDiffKind;\n\n    if (diffKind === DIFF_TYPE.PRESENT_DIFF) {\n      // swap old and new, since \"old\" is actually the present notebook\n      let temp = oldText;\n      oldText = newText;\n      newText = temp;\n    }\n\n    // If no diff necessary, use plain markdown\n    if (diffKind === DIFF_TYPE.NO_DIFF)\n      await this.renderBaby.renderMarkdown(elem, newText);\n    else {\n      let diff = JSDiff.diffWords(oldText, newText);\n      if (diff.length > MAX_WORD_DIFFS) {\n        diff = JSDiff.diffLines(oldText, newText, { newlineIsToken: true });\n      }\n      const divs = diff.map(async (part) => {\n        let partDiv: HTMLElement;\n        if (part.value === \"\\n\") {\n          partDiv = document.createElement(\"br\");\n          partDiv.classList.add(MARKDOWN_LINEBREAK);\n        } else {\n          partDiv = document.createElement(\"span\");\n          await this.renderBaby.renderMarkdown(partDiv, part.value);\n\n          partDiv.classList.add(CHANGE_SAME_CLASS);\n\n          if (part.added) {\n            partDiv.classList.add(CHANGE_ADDED_CLASS);\n          } else if (part.removed) {\n            partDiv.classList.add(CHANGE_REMOVED_CLASS);\n          }\n        }\n        return partDiv;\n      });\n\n      await Promise.all(divs).then((elems) =>\n        elems.forEach((e) => elem.appendChild(e))\n      );\n    }\n\n    return elem;\n  }\n\n  async diffOutput(\n    nodey: NodeyOutput,\n    elem: HTMLElement,\n    diffKind: number,\n    relativeToNotebook?: number\n  ) {\n    let [priorNodey, fixedDiffType] = this.getPrior(\n      nodey,\n      diffKind,\n      relativeToNotebook\n    );\n\n    if (diffKind === DIFF_TYPE.PRESENT_DIFF) {\n      // swap old and new, since \"old\" is actually the present notebook\n      let temp = priorNodey as NodeyOutput;\n      priorNodey = nodey;\n      nodey = temp;\n    }\n\n    if (fixedDiffType === DIFF_TYPE.NO_DIFF || priorNodey?.name === nodey?.name)\n      await this.sampler.renderOutput(nodey, elem);\n    else {\n      // just show side by side\n      let old = document.createElement(\"div\");\n      old.classList.add(\"v-Verdant-output-sideBySide\");\n      old.classList.add(CHANGE_REMOVED_CLASS);\n      if (priorNodey)\n        await this.sampler.renderOutput(priorNodey as NodeyOutput, old);\n      elem.appendChild(old);\n\n      let newOut = document.createElement(\"div\");\n      newOut.classList.add(\"v-Verdant-output-sideBySide\");\n      newOut.classList.add(CHANGE_ADDED_CLASS);\n      await this.sampler.renderOutput(nodey, newOut);\n      elem.appendChild(newOut);\n    }\n\n    return elem;\n  }\n\n  private zipNotebooks(\n    A: NodeyNotebook,\n    B: NodeyNotebook\n  ): { name: string; changes: ChangeType[] }[] {\n    let cellMap: { name: string; changes: ChangeType[] }[] = [];\n\n    let cellsInA = A.cells.map((name) => {\n      return this.history.store.get(name)?.artifactName;\n    });\n\n    let cellsInB = B.cells.map((name) => {\n      return this.history.store.get(name)?.artifactName;\n    });\n\n    let diff = JSDiff.diffArrays(cellsInA, cellsInB);\n\n    let indexA = 0;\n    let indexB = 0;\n    diff.map((part) => {\n      if (part.added) {\n        // these cells are only in B\n        part.value.forEach(() => {\n          let cellB = B.cells[indexB];\n          cellMap.push({ name: cellB, changes: [ChangeType.ADDED] });\n          indexB++;\n        });\n      } else if (part.removed) {\n        // these cells are only in A\n        part.value.forEach(() => {\n          let cellA = A.cells[indexA];\n          cellMap.push({ name: cellA, changes: [ChangeType.REMOVED] });\n          indexA++;\n        });\n      } else {\n        // these cells are in both notebooks\n        part.value.forEach(() => {\n          let cellA = A.cells[indexA];\n          let cellB = B.cells[indexB];\n          let status = cellA === cellB ? ChangeType.NONE : ChangeType.CHANGED;\n\n          // Check has output changed?\n          if (status === ChangeType.NONE) {\n            // assuming they're the same version, is this cell code\n            let nodey = this.history.store.get(cellA);\n            if (nodey instanceof NodeyCode) {\n              let outA = this.history.store.getOutputForNotebook(nodey, A);\n              let outB = this.history.store.getOutputForNotebook(nodey, B);\n              if (outA && outB && outA !== outB) {\n                status = ChangeType.OUTPUT_CHANGED;\n              }\n            }\n          }\n\n          cellMap.push({ name: cellA, changes: [status] });\n          indexA++;\n          indexB++;\n        });\n      }\n    });\n\n    //console.log(\"CURRENT DIFF CELL MAP\", cellMap);\n\n    return cellMap;\n  }\n}\n","export * from \"./sampler\";\nexport * from \"./namer\";\nexport * from \"./cell-map\";\nexport * from \"./diff\";\n","import {\n  Nodey,\n  NodeyCell,\n  NodeyMarkdown,\n  NodeyCodeCell,\n  NodeyCode,\n  NodeyNotebook,\n  NodeyOutput,\n  NodeyRawCell,\n} from \"../nodey\";\nimport { History } from \"../history\";\nimport { ChangeType } from \"../checkpoint\";\n\n/*\n * Remember that versions and ids are 1 indexed for display, but 0 indexed in storage\n */\n\nexport namespace Namer {\n  export function getVersionTitle(n?: Nodey) {\n    if (!n || n.id === undefined || n.version === undefined) return \"???\";\n    //TODO\n    let kind = n.typeChar.toUpperCase();\n    return `${kind}${n.id + 1}.r${n.version + 1}`;\n  }\n\n  export function getCellTitle(n?: NodeyCell) {\n    if (!n) return \"???\";\n    let kind;\n    if (n instanceof NodeyMarkdown) kind = \"Markdown\";\n    else if (n instanceof NodeyCodeCell) kind = \"Code Cell\";\n    else if (n instanceof NodeyRawCell) kind = \"Raw Cell\";\n    return `${kind} ${n.id === undefined ? \"???\" : n.id + 1}`;\n  }\n\n  export function getCellShortTitle(n?: NodeyCell) {\n    if (!n) return \"???\";\n    return `${n.typeChar.toUpperCase()}${\n      n.id === undefined ? \"???\" : n.id + 1\n    }`;\n  }\n\n  export function getCellVersionTitle(n?: NodeyCell) {\n    if (!n) return \"???\";\n    return `${n.typeChar.toUpperCase()}${\n      n.id === undefined ? \"???\" : n.id + 1\n    }.r${n.version === undefined ? \"???\" : n.version + 1}`;\n  }\n\n  export function getOutputTitle(n?: NodeyOutput, history?: History) {\n    if (!n || !history) return \"???\";\n    let cell = history.store.get(n.parent);\n    if (!cell) return \"???\";\n    return `${Namer.getCellTitle(cell)} Output`;\n  }\n\n  export function getOutputVersionTitle(n?: NodeyOutput, history?: History) {\n    if (!n || !history) return \"???\";\n    let cell = history.store.get(n.parent);\n    if (!cell) return \"???\";\n    return `${Namer.getCellVersionTitle(cell)}.o${\n      n.version === undefined ? \"???\" : n.version + 1\n    }`;\n  }\n\n  export function getCodeSnippetTitle(n?: NodeyCode) {\n    if (n)\n      return `${n.type.toUpperCase} ${\n        n.version === undefined ? \"???\" : n.version + 1\n      }`;\n    return \"???\";\n  }\n\n  export function getNotebookTitle(n?: NodeyNotebook) {\n    return `Notebook v${\n      n ? (n.version === undefined ? \"???\" : n.version + 1) : \"?\"\n    }`;\n  }\n\n  export function getNotebookVersionLabel(n?: NodeyNotebook) {\n    return `v${n ? (n.version === undefined ? \"???\" : n.version + 1) : \"?\"}`;\n  }\n\n  export function getVersionNumberLabel(n?: number) {\n    if (n !== undefined) return `${n + 1}`;\n    return \"???\";\n  }\n\n  export function describeChange(nodey: NodeyCell, changes: ChangeType[]) {\n    if (changes[0] === ChangeType.OUTPUT_CHANGED)\n      return `${Namer.getCellTitle(nodey)}'s ${changes.join(\", \")}`;\n    return `${Namer.getCellTitle(nodey)} was ${changes.join(\", \")}`;\n  }\n}\n","import { Widget } from \"@lumino/widgets\";\nimport {\n  Nodey,\n  NodeyCode,\n  NodeyMarkdown,\n  NodeyOutput,\n  NodeyRawCell,\n  SyntaxToken,\n} from \"../nodey\";\n\nimport { History } from \"../history\";\nimport { RenderBaby } from \"../jupyter-hooks/render-baby\";\n\nimport { Target } from \"./target\";\nimport { Search } from \"./search\";\nimport { Diff } from \"./diff\";\n\nconst INSPECT_VERSION = \"v-VerdantPanel-sampler-version\";\nconst INSPECT_VERSION_CONTENT = \"v-VerdantPanel-sampler-version-content\";\n\nexport class Sampler {\n  readonly history: History;\n  readonly search: Search;\n  readonly renderBaby: RenderBaby;\n  readonly target: Target;\n  readonly diff: Diff;\n\n  constructor(historyModel: History, renderBaby: RenderBaby) {\n    this.history = historyModel;\n    this.renderBaby = renderBaby;\n    this.target = new Target(historyModel);\n    this.search = new Search(this);\n    this.diff = new Diff(this);\n  }\n\n  public sampleNode(nodey: Nodey, textFocus?: string): [string, number] {\n    // goal get the first line of the node\n    if (nodey instanceof NodeyMarkdown) {\n      if (!nodey.markdown) return [\"\", 0];\n      let lines = nodey.markdown.split(\"\\n\");\n      if (textFocus) {\n        let index = -1;\n        let focusLine =\n          lines.find((ln) => {\n            let i = ln\n              .toLowerCase()\n              .indexOf(textFocus.toLowerCase().split(\" \")[0]);\n            if (i > -1) index = i;\n            return i > -1;\n          }) || \"\";\n        return [focusLine, index];\n      } else return [lines[0], 0];\n    } else {\n      let nodeyCode = nodey as NodeyCode;\n      if (textFocus) {\n        let index = -1;\n        let lines = this.nodeToText(nodeyCode).toLowerCase().split(\"\\n\");\n        let focusLine =\n          lines.find((ln) => {\n            let i = ln.toLowerCase().indexOf(textFocus.split(\" \")[0]);\n            if (i > -1) index = i;\n            return i > -1;\n          }) || \"\";\n        return [focusLine, index];\n      } else {\n        let lineNum = 0;\n        if (nodeyCode.start) lineNum = nodeyCode.start.line;\n        let line = \"\";\n        return [this.getLineContent(lineNum, line, nodeyCode), 0];\n      }\n    }\n  }\n\n  private getLineContent(\n    lineNum: number,\n    line: string,\n    nodeyCode: NodeyCode\n  ): string {\n    if (nodeyCode.literal) {\n      line += nodeyCode.literal.split(\"\\n\")[0];\n    } else if (nodeyCode.content) {\n      nodeyCode.content.forEach((name) => {\n        if (name instanceof SyntaxToken) {\n          line += name.tokens;\n        } else {\n          var child = this.history.store.get(name) as NodeyCode;\n          if (child.start && child.start.line === lineNum) {\n            line = this.getLineContent(lineNum, line, child);\n          } else {\n            line = this.getLineContent(lineNum, line, child);\n            let ls = line.split(\"\\n\");\n            if (ls.length > 1) return ls[0];\n          }\n        }\n      });\n    }\n    return line;\n  }\n\n  public nodeToText(nodey: Nodey): string {\n    if (nodey instanceof NodeyCode) return this.codeToText(nodey);\n    else if (nodey instanceof NodeyMarkdown) return nodey.markdown || \"\";\n    else if (nodey instanceof NodeyRawCell) return nodey.literal;\n    else if (nodey instanceof NodeyOutput) return this.outputToText(nodey);\n    return \"\";\n  }\n\n  public codeToText(nodey: NodeyCode): string {\n    let literal = nodey.literal || \"\";\n    if (nodey.content) {\n      nodey.content.forEach((name) => {\n        if (name instanceof SyntaxToken) {\n          literal += name.tokens;\n        } else {\n          let child = this.history.store.get(name);\n          literal += this.codeToText(child as NodeyCode);\n        }\n      });\n    }\n    return literal;\n  }\n\n  private outputToText(nodey: NodeyOutput): string {\n    return nodey.raw\n      .map((out) => this.renderBaby.plaintextOutput(out) || \"\")\n      .join();\n  }\n\n  public async renderArtifactCell(nodey: Nodey, elem: HTMLElement) {\n    if (nodey instanceof NodeyCode) {\n      this.plainCode(elem, nodey.literal);\n    } else if (nodey instanceof NodeyOutput) {\n      await this.renderOutput(nodey, elem);\n    } else if (nodey instanceof NodeyMarkdown) {\n      await this.renderBaby.renderMarkdown(elem, nodey.markdown);\n    } else if (nodey instanceof NodeyRawCell) {\n      this.plainCode(elem, nodey.literal);\n    }\n    return elem;\n  }\n\n  // Methods for rendering code cells\n\n  public plainCode(elem: HTMLElement, newText: string) {\n    /* Inserts code data to elem */\n\n    // Split new text into lines\n    newText?.split(\"\\n\").forEach((line) => {\n      // Append a div with line contents to elem\n      let div = document.createElement(\"div\");\n      div.innerHTML = line;\n      elem.appendChild(div);\n    });\n\n    return elem;\n  }\n\n  // Methods for rendering output cells\n\n  public async renderOutput(nodey: NodeyOutput, elem: HTMLElement) {\n    let widgetList = await this.renderBaby.renderOutput(nodey);\n    widgetList.forEach((widget: Widget) => {\n      elem.appendChild(widget.node);\n    });\n    return elem;\n  }\n\n  public makeSampleDivs(nodey: Nodey) {\n    let sample = document.createElement(\"div\");\n    sample.classList.add(INSPECT_VERSION);\n\n    let content = document.createElement(\"div\");\n    content.classList.add(INSPECT_VERSION_CONTENT);\n    sample.appendChild(content);\n\n    // check we have valid input\n    if (nodey && history) {\n      if (nodey.typeChar === \"c\") {\n        content.classList.add(\"code\");\n        sample.classList.add(\"code\");\n      } else if (nodey.typeChar === \"m\") {\n        content.classList.add(\"markdown\");\n        content.classList.add(\"jp-RenderedHTMLCommon\");\n      } else {\n        content.classList.add(\"output\");\n      }\n    }\n    return [sample, content];\n  }\n}\n","import { Nodey } from \"../nodey\";\nimport { Sampler } from \"./sampler\";\n\nconst SEARCH_FILTER_RESULTS = \"v-VerdantPanel-sample-searchResult\";\n\nexport class Search {\n  private readonly sampler;\n\n  constructor(sampler: Sampler) {\n    this.sampler = sampler;\n  }\n\n  public async renderSearchCell(nodey: Nodey, query?: string) {\n    let [sample, elem] = this.sampler.makeSampleDivs(nodey);\n\n    await this.sampler.renderArtifactCell(nodey, elem);\n\n    if (query) {\n      elem = this.highlightText(query, elem);\n    }\n    return sample;\n  }\n\n  // Helper method for search cells\n\n  private highlightText(textFocus: string, elem: HTMLElement) {\n    let words = textFocus.split(\" \");\n    let elemHTML = elem.outerHTML;\n\n    words.forEach((w) => {\n      elemHTML = this.highlightWord(w, elemHTML);\n    });\n    elem.outerHTML = elemHTML;\n    return elem;\n  }\n\n  private highlightWord(textFocus: string, text: string) {\n    /* Highlight text in an HTML element */\n\n    let textFocus_safe = this.escapeRegex(textFocus);\n    let word = new RegExp(textFocus_safe, \"i\");\n    let regex = new RegExp(\">[^<]*\" + textFocus_safe + \"[^>]*<\", \"gi\");\n    //console.log(\"TEST\", regex.exec(text));\n    let match;\n    let newText = text;\n    let step = 0;\n    while ((match = regex.exec(text)) != null) {\n      let index = match.index + step;\n      //console.log(\"MATCH\", match, index);\n      let substring = (match[0] as string).slice(1, match[0].length - 1);\n      substring = substring.replace(\n        word,\n        `<span class=\"${SEARCH_FILTER_RESULTS}\">${textFocus}</span>`\n      );\n      newText =\n        newText.slice(0, index + 1) +\n        substring +\n        newText.slice(index + match[0].length - 1);\n      step = newText.length - text.length;\n    }\n\n    return newText; // finally return element html\n  }\n\n  private escapeRegex(string) {\n    return string.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\n  }\n}\n","import { History } from \"../history\";\n\nimport { log } from \"../notebook\";\nimport {\n  Nodey,\n  NodeyCell,\n  NodeyCode,\n  NodeyCodeCell,\n  SyntaxToken,\n} from \"../nodey\";\n\nimport { CodeCell, Cell } from \"@jupyterlab/cells\";\n\nimport { ASTUtils } from \"../analysis/ast-utils\";\n\nimport { Signal } from \"@lumino/signaling\";\n\nexport class Target {\n  readonly history: History;\n  private _targetChanged = new Signal<this, Nodey>(this);\n  private _target: Nodey | null = null;\n\n  constructor(history: History) {\n    this.history = history;\n  }\n\n  dispose() {\n    Signal.clearData(this);\n  }\n\n  get notebook() {\n    return this.history.notebook;\n  }\n\n  public get() {\n    if (!this._target) {\n      if (this.notebook.view.activeCell) {\n        this._target =\n          this.notebook.getCell(this.notebook.view.activeCell.model)?.model ||\n          null;\n      }\n    }\n    return this._target;\n  }\n\n  public set(nodey: Nodey) {\n    log(\"new target!\", nodey);\n    this._target = nodey;\n    this._targetChanged.emit(this._target);\n  }\n\n  public changed(): Signal<this, Nodey> {\n    return this._targetChanged;\n  }\n\n  public clear() {\n    this._target = null;\n  }\n\n  public figureOutTarget(\n    parent: NodeyCell,\n    cell: Cell,\n    elem: HTMLElement | string\n  ) {\n    if (parent instanceof NodeyCodeCell) {\n      if (elem instanceof HTMLElement)\n        return this.figureOut_byElem(parent, cell as CodeCell, elem);\n      else {\n        let res = this.figureOut_byText(parent, elem);\n        if (res instanceof NodeyCode) return res;\n        else return undefined;\n      }\n    } else return parent;\n  }\n\n  private figureOut_byText(\n    parent: NodeyCode,\n    text: string\n  ): string | NodeyCode {\n    let rend = \"\";\n    if (parent.literal) {\n      rend = parent.literal;\n    } else if (parent.content.length > 0) {\n      for (var i = 0; i < parent.content.length; i++) {\n        let name = parent.content[i];\n        if (name instanceof SyntaxToken) rend += name.tokens;\n        else {\n          let nodey = this.history.store.get(name) as NodeyCode;\n          let res: string | NodeyCode = this.figureOut_byText(nodey, text);\n          if (res instanceof Nodey) return res;\n          else rend += res + \"\";\n        }\n      }\n    }\n    if (rend === text || rend.indexOf(text) > -1) return parent;\n    else return rend;\n  }\n\n  private figureOut_byElem(\n    parent: NodeyCodeCell,\n    cell: CodeCell,\n    elem: HTMLElement\n  ) {\n    log(\"figuring out target\");\n    let codeBlock = this.findAncestor(elem, \"CodeMirror-code\");\n    let lineCount = codeBlock.getElementsByClassName(\"CodeMirror-line\").length;\n    let lineDiv = this.findAncestor(elem, \"CodeMirror-line\");\n    let lineNum = Math.round(\n      (lineDiv.offsetTop / codeBlock.offsetHeight) * lineCount\n    );\n    let lineText = cell?.editor?.getLine(lineNum) || \"\";\n    let res;\n    let startCh = 0;\n    let endCh = lineText.length - 1;\n\n    if (!elem.hasAttribute(\"role\")) {\n      // not a full line in Code Mirror\n      let spanRol = this.findAncestorByAttr(elem, \"role\");\n      startCh = Math.round(\n        (elem.offsetLeft / spanRol.offsetWidth) * lineText.length\n      );\n      endCh = Math.round(\n        ((elem.offsetLeft + elem.offsetWidth) / spanRol.offsetWidth) *\n          lineText.length\n      );\n      endCh = Math.min(endCh, lineText.length - 1);\n    }\n\n    res = ASTUtils.findNodeAtRange(\n      parent,\n      {\n        start: { line: lineNum, ch: startCh },\n        end: { line: lineNum, ch: endCh },\n      },\n      this.history\n    );\n    return res || parent; //just in case no more specific result is found\n  }\n\n  private findAncestorByAttr(el: HTMLElement, attr: string) {\n    if (el.hasAttribute(attr)) return el;\n    while (\n      el.parentElement &&\n      (el = el.parentElement) &&\n      !el.hasAttribute(attr)\n    );\n    return el;\n  }\n\n  private findAncestor(el: HTMLElement, cls: string) {\n    if (el.classList.contains(cls)) return el;\n    while (\n      el.parentElement &&\n      (el = el.parentElement) &&\n      !el.classList.contains(cls)\n    );\n    return el;\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.scService = void 0;\n/**\n * Service to maintain the apiUrl state which is\n * requested asynchronously on start and subsequently\n * used by in the sc-client functions.\n */\nexports.scService = {\n    apiUrl: null\n};\n//# sourceMappingURL= sc-service.js.map","import { scService } from './ sc-service';\n\nfunction sendGetRequest(url) {\n       return fetch(url).then(resp => {\n          if (resp.status !== 200) {\n              throw new Error(\"GetLFailed\" + resp.status);\n          }\n\n          return resp.json();\n       });\n}\n\nfunction sendPostRequest(url, data) {\n       let opts =  { method: 'POST', body: JSON.stringify(data), headers: { 'Content-Type': 'application/json' } };\n\n       return fetch(url, opts).then(resp => {\n            if (resp.status !== 200) {\n               throw new Error(\"PostFailed\" + resp.status);\n            }\n\n            return resp.json();\n       });\n}\n\nfunction sendEvent(topic, message) {\n      console.log(scService.apiUrl);\n      console.log(\"SYNC:******************** BEGIN  **********************\");\n      var url = `${scService.apiUrl}/sc/pubsub/simple/connect?name=sc-verdant`;\n      var resp = sendGetRequest(url);\n\n      resp.then(data =>{\n            var client_id = data.properties.client_id\n            url=`${scService.apiUrl}/sc/pubsub/simple/send/${client_id}/${topic}`\n\n            resp = sendPostRequest(url, message);\n            resp.then(data => {\n                 url = `${scService.apiUrl}/sc/pubsub/simple/disconnect?client_id=${client_id}`;\n                 resp = sendGetRequest(url);\n                 resp.then(data =>{\n                 });\n            });\n\n      });\n      console.log(\"SYNC:******************** END **********************\");\n}\n\nexport function logit(...msg: any[]) {\n  console.log(\"+++++++++++++++++++++++++ BEGIN: \", msg[0], \"+++++++++++++++++++++\");\n  console.log(\"VERDANT: \", ...msg);\n\n  if (msg[0] == \"Commit complete:\") {\n    var history = null;\n    var checkpoint = null;\n\n    if (msg.length > 2) {\n       checkpoint = msg[1];\n    }\n\n    if (msg.length > 3) {\n       history = msg[3];\n    }\n\n    if (history && checkpoint) {\n       console.log(\"+++++++++++++++++++++++++ DCOMMIT_BEGIN +++++++++++++++++++++\");\n       // var version = checkpoint.notebook + 1\n       // console.log(\"COMMIT_CHECKPOINT:\", version);\n       var notebook = history.notebook; \n       var path = notebook.path;\n       var events = [];\n\n       // console.log(\"DCOMMIT_VERNOTEBOOK:\", Array.from(notebook.cells))\n       const tempMapping = new Map();\n\n       for (var i = 0; i < notebook.cells.length; ++i) {\n          var cell = notebook.cells[i]\n          var name = cell.model.name;\n \n          if (cell.view && cell.view.model) {\n             console.log(\"VIEW_MODEL_TYPE:\", typeof cell.view.model)\n             console.log(\"VIEW_MODEL:\", cell.view.model)\n             console.log(\"VIEW_MODEL_EXECUTION_COUNT:\", cell.view.model.executionCount)\n             var info = JSON.stringify(cell.view.model.toJSON())\n             console.log(\"VIEW_MODEL_AS_STRING:\", name, info)\n             // console.log(\"DCOMMIT_MODEL:\", name, info)\n             var key = name.substring(0, name.lastIndexOf(\".\"));\n             var id = cell.view.model.id;\n             var state = { id:id, index:i, msg:info}\n\n             tempMapping.set(key, state);\n          }\n       }\n\n       var modelMapping = notebook.modelMapping;\n       // console.log(\"DCOMMIT_MAPPING_M:\", modelMapping)\n       // console.log(\"DCOMMIT_MAPPING_T:\", tempMapping)\n\n       for (let entry of tempMapping.entries()) {\n          if (!modelMapping.has(entry[0])) {\n             // const event = {time:new Date(),nb:path,name:entry[0],action:\"added\", ...entry[1]}\n             const event = {time:new Date().toLocaleString(),nb:path,name:entry[0],action:\"added\", ...entry[1]}\n             events.push(event);\n             console.log(\"DCOMMIT_EVENT_ADDED\", event);\n          } else {\n            var state1 = modelMapping.get(entry[0]);\n            var state2 = entry[1];\n            \n\n            if (state1.msg != state2.msg) {\n                var json_msg1 = JSON.parse(state1.msg)\n                var json_msg2 = JSON.parse(state2.msg)\n\n                if (json_msg1.execution_count != json_msg2.execution_count) {\n                    const event = {time:new Date(),nb:path,name:entry[0],action:\"executed\", ...entry[1]}\n                    events.push(event);\n                    console.log(\"DCOMMIT_EVENT_EXEXCUTED\", event);\n                } else {\n                    const event = {time:new Date(),nb:path,name:entry[0],action:\"edited\", ...entry[1]}\n                    events.push(event);\n                    console.log(\"DCOMMIT_EVENT_EDIT\", event);\n                }\n\n            }\n          }\n       }\n\n       for (let entry of modelMapping.entries()) {\n          if (!tempMapping.has(entry[0])) {\n             const event = {time:new Date(),nb:path,name:entry[0],action:\"deleted\", ...entry[1]}\n             events.push(event);\n             console.log(\"DCOMMIT_EVENT_DELETED\", event);\n          }\n       }\n\n       notebook.modelMapping = tempMapping;\n       events.forEach(function (event) {\n          sendEvent('verdant', event)\n       });\n\n       console.log(\"+++++++++++++++++++++++++ DCOMMIT_END +++++++++++++++++++++\");\n    }\n  } \n\n  console.log(\"+++++++++++++++++++++++++ END: \", msg[0], \"+++++++++++++++++++++\");\n}\n","import React from \"react\";\nimport GhostCell from \"./ghost-cell\";\nimport GhostToolbar from \"./ghost-toolbar\";\nimport { connect } from \"react-redux\";\nimport { Store } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport { verdantState } from \"../redux/\";\nimport { DIFF_TYPE, DiffCell } from \"../../verdant-model/sampler/diff\";\nimport { History } from \"../../verdant-model/history\";\n\nexport interface GhostBook_Props {\n  store: Store;\n}\n\nexport class GhostBook extends React.Component<GhostBook_Props, {}> {\n  render() {\n    return (\n      <Provider store={this.props.store}>\n        <GhostCellContainer />\n      </Provider>\n    );\n  }\n}\n\nexport interface GhostCellContainer_Props {\n  notebook_ver: number;\n  diffKind: DIFF_TYPE;\n  scrollFocus: string;\n  history: History;\n}\n\n/*\n * Make a sub class to contain cells to make updates work across notebooks better\n */\nclass CellContainer extends React.Component<\n  GhostCellContainer_Props,\n  { cells: DiffCell[] }\n> {\n  private _isMounted;\n\n  constructor(props: GhostCellContainer_Props) {\n    super(props);\n    this.state = {\n      cells: [],\n    };\n    this._isMounted = false;\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    this.loadCells();\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  componentDidUpdate(priorProps: GhostCellContainer_Props) {\n    if (this._isMounted)\n      if (\n        priorProps.diffKind !== this.props.diffKind ||\n        (priorProps.notebook_ver !== this.props.notebook_ver &&\n          this.props.notebook_ver > 0)\n      )\n        this.loadCells();\n  }\n\n  render() {\n    return (\n      <div className=\"v-Verdant-GhostBook\">\n        <GhostToolbar />\n        <div className=\"v-Verdant-GhostBook-cellArea\">{this.showCells()}</div>\n      </div>\n    );\n  }\n\n  private async loadCells() {\n    this.props.history.inspector.diff\n      .renderNotebook(this.props.notebook_ver, this.props.diffKind)\n      .then((cells) => {\n        if (cells) this.setState({ cells });\n      });\n  }\n\n  private showCells() {\n    /* Map cells to GhostCells */\n\n    return this.state.cells.map((cell: DiffCell, index: number) => {\n      if (this.props.scrollFocus === cell.name) {\n        const ref = React.createRef<HTMLDivElement>();\n        return (\n          <div key={index} ref={ref}>\n            <GhostCell\n              cell={cell}\n              scrollTo={() =>\n                ref?.current?.scrollIntoView({\n                  behavior: \"smooth\",\n                  block: \"nearest\",\n                })\n              }\n            />\n          </div>\n        );\n      } else {\n        return (\n          <div key={index}>\n            <GhostCell cell={cell} />\n          </div>\n        );\n      }\n    });\n  }\n}\n\nconst mapStateToProps = (state: verdantState) => {\n  const history = state.getHistory();\n  const notebook_ver = state.ghostBook.notebook_ver;\n  const diffKind = state.ghostBook.diff;\n  return {\n    history,\n    notebook_ver,\n    diffKind,\n    scrollFocus: state.ghostBook.scroll_focus || \"\",\n  };\n};\n\nconst GhostCellContainer = connect(mapStateToProps)(CellContainer);\n","import * as React from \"react\";\nimport { Namer, DIFF_TYPE } from \"../../verdant-model/sampler\";\nimport { History } from \"../../verdant-model/history\";\nimport {\n  NodeyOutput,\n  Nodey,\n  NodeyCell,\n  NodeyCodeCell,\n} from \"../../verdant-model/nodey\";\nimport { connect } from \"react-redux\";\nimport { verdantState, showDetailOfNode } from \"../redux/\";\n\ntype GhostCellOutput_Props = {\n  // Entire state history. Used for VersionSampler\n  history: History;\n  // open up detail of nodey\n  showDetail: (n: Nodey) => void;\n  inspectOn: boolean;\n  changed: boolean;\n  cell: NodeyCell;\n  output: NodeyOutput;\n  notebookVer: number;\n  diff: DIFF_TYPE;\n};\n\ntype GhostCellOutput_State = {\n  sample: string;\n};\n\nclass GhostCellOutput extends React.Component<\n  GhostCellOutput_Props,\n  GhostCellOutput_State\n> {\n  private _isMounted;\n\n  /*\n   * Component to render output of a code ghost cell.\n   * */\n  constructor(props) {\n    /* Explicit constructor to initialize state */\n    // Required super call\n    super(props);\n    // Set state\n    this.state = {\n      sample: \"\",\n    };\n    this._isMounted = false;\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n\n    if (this.props.output && this.state.sample === \"\") this.updateSample();\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  componentDidUpdate(priorProps: GhostCellOutput_Props) {\n    if (this._isMounted)\n      if (\n        this.props.output?.name !== priorProps.output?.name ||\n        this.props.diff !== priorProps.diff\n      ) {\n        this.setState({ sample: \"\" });\n        this.updateSample();\n      }\n  }\n\n  render() {\n    /* Render cell output */\n    let output = this.props.output;\n    if (!output) return null;\n\n    return (\n      <div\n        className={`v-Verdant-GhostBook-cell-container output${\n          this.props.inspectOn ? \" hoverInspect\" : \"\"\n        }${this.props.changed ? \" changed\" : \"\"}`}\n        onClick={() => {\n          if (this.props.inspectOn) this.props.showDetail(output);\n        }}\n      >\n        <div\n          className=\"v-Verdant-GhostBook-cell-label\"\n          onClick={() => this.props.showDetail(output)}\n        >\n          {Namer.getOutputVersionTitle(output, this.props.history)}\n        </div>{\" \"}\n        <div className=\"v-Verdant-GhostBook-cell-header\" />\n        <div className=\"v-Verdant-GhostBook-cell-content\">\n          <div className=\"v-Verdant-GhostBook-cell\">\n            <div dangerouslySetInnerHTML={{ __html: this.state.sample }} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  private async updateSample() {\n    /* Update the sample HTML if it has changed */\n    let newSample = await this.getSample();\n\n    if (newSample && this._isMounted)\n      this.setState({ sample: newSample.outerHTML });\n  }\n\n  private async getSample() {\n    let output = this.props.output;\n    if (output && output?.raw?.length > 0) {\n      let notebook = this.props.notebookVer;\n      if (this.props.diff === DIFF_TYPE.PRESENT_DIFF)\n        notebook = this.props.history.store.currentNotebook.version;\n\n      let sample = await this.props.history.inspector.diff.renderCell(\n        output,\n        this.props.diff,\n        notebook\n      );\n\n      return sample;\n    }\n  }\n}\n\nconst mapStateToProps = (\n  state: verdantState,\n  ownProps: Partial<GhostCellOutput_Props>\n) => {\n  const diff = state.ghostBook.diff;\n  const history = state.getHistory();\n  const notebookVer = state.ghostBook.notebook_ver;\n  const outputHistory =\n    ownProps.cell instanceof NodeyCodeCell\n      ? history?.store?.getOutput(ownProps.cell)\n      : null;\n  let output = history?.store?.getForNotebook(outputHistory, notebookVer);\n\n  // special case for comparing to the present if there was no output in the past\n  if (!output && diff === DIFF_TYPE.PRESENT_DIFF)\n    output = outputHistory?.latest;\n\n  return {\n    diff,\n    history,\n    inspectOn: state.artifactView.inspectOn,\n    notebookVer,\n    output,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    showDetail: (n: Nodey) => dispatch(showDetailOfNode(n)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GhostCellOutput);\n","import * as React from \"react\";\nimport { NodeyCell, Nodey } from \"../../verdant-model/nodey\";\nimport { Namer } from \"../../verdant-model/sampler\";\nimport GhostCellOutput from \"./ghost-cell-output\";\nimport { connect } from \"react-redux\";\nimport { verdantState, focusGhostCell, showDetailOfNode } from \"../redux/\";\nimport { ChangeType } from \"../../verdant-model/checkpoint\";\nimport { DiffCell } from \"../../verdant-model/sampler/diff\";\n\n/* CSS Constants */\nconst CONTAINER = \"v-Verdant-GhostBook-container\";\nconst CONTAINER_STACK = `${CONTAINER}-stack`;\n\nconst CELL = \"v-Verdant-GhostBook-cell\";\nconst CELL_BAND = `${CELL}-band`;\nconst CELL_CONTAINER = `${CELL}-container`;\nconst CELL_CONTENT = `${CELL}-content`;\n\n// Enum for types of cells\nexport type req_GhostCell_Props = {\n  // String id of the cell\n  cell: DiffCell;\n  scrollTo?: () => void;\n};\nexport type GhostCell_Props = {\n  nodey: NodeyCell;\n  // On-click action\n  clickEv: () => void;\n  // On-focus action\n  hasFocus: () => boolean;\n  // open up detail of nodey\n  showDetail: (n: Nodey) => void;\n  //scroll\n  scrollFocus: string;\n  inspectOn: boolean;\n} & req_GhostCell_Props;\n\nclass GhostCell extends React.Component<GhostCell_Props> {\n  render() {\n    /* Render cell */\n\n    if (!this.props.cell) {\n      // ERROR case\n      console.log(\"ERROR: CAN'T FIND GHOST CELL\", this.props.cell.name);\n      return null;\n    }\n    const active = this.props.hasFocus() ? \"active\" : \"\";\n\n    return (\n      <div\n        className={`${CONTAINER} ${active} ${this.props.cell.status}`}\n        onClick={() => this.props.clickEv()}\n      >\n        <div className={CONTAINER_STACK}>\n          <div\n            className=\"v-Verdant-GhostBook-cell-label\"\n            onClick={() => this.props.showDetail(this.props.nodey)}\n          >\n            {Namer.getCellVersionTitle(this.props.nodey)}\n          </div>\n          <div\n            className={`${CELL_CONTAINER}${\n              this.props.inspectOn ? \" hoverInspect\" : \"\"\n            }`}\n            onClick={() => {\n              if (this.props.inspectOn) this.props.showDetail(this.props.nodey);\n            }}\n          >\n            <div className=\"v-Verdant-GhostBook-cell-header\" />\n            <div className={`${CELL_BAND} ${active}`} />\n            <div className={`${CELL_CONTENT} ${active}`}>\n              <div\n                className={`${CELL} ${\n                  this.props?.nodey?.typeChar === \"c\" ? \"code\" : \"markdown\"\n                }  ${active}`}\n                dangerouslySetInnerHTML={{\n                  __html: this.props.cell.sample.outerHTML,\n                }}\n              />\n            </div>\n          </div>\n          <GhostCellOutput\n            cell={this.props.nodey}\n            changed={this.props.cell.status.includes(ChangeType.OUTPUT_CHANGED)}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (\n  state: verdantState,\n  ownProps: req_GhostCell_Props\n) => {\n  const history = state.getHistory();\n  const nodey = history?.store?.get(ownProps.cell.name);\n\n  return {\n    nodey,\n    diff: state.ghostBook.diff,\n    hasFocus: () => state.ghostBook.active_cell === ownProps.cell.name,\n    scrollFocus: state.ghostBook.scroll_focus,\n    inspectOn: state.artifactView.inspectOn,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: any, ownProps: req_GhostCell_Props) => {\n  return {\n    clickEv: () =>\n      ownProps.cell.name ? dispatch(focusGhostCell(ownProps.cell.name)) : null,\n    showDetail: (n: Nodey) => dispatch(showDetailOfNode(n)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GhostCell);\n","import * as React from \"react\";\nimport { connect } from \"react-redux\";\nimport { History } from \"../../verdant-model/history\";\nimport { Checkpoint } from \"../../verdant-model/checkpoint\";\nimport { verdantState, showEvent, changeDiffType } from \"../redux/\";\nimport { DIFF_TYPE } from \"../../verdant-model/sampler\";\n\nimport {\n  ChevronLeftIcon,\n  ChevronRightIcon,\n  ChevronDownIcon,\n  ExportIcon,\n} from \"../icons\";\nimport { Namer } from \"../../verdant-model/sampler\";\n\ninterface GhostToolbar_Props {\n  history: History;\n  ver: number;\n  diff: DIFF_TYPE;\n  openGhostBook: (n: number) => void;\n  openEvent: (c: Checkpoint) => void;\n  setDiff: (diff: DIFF_TYPE) => void;\n}\n\nclass Toolbar extends React.Component<\n  GhostToolbar_Props,\n  { dropdown_open: boolean; export_msg_open: boolean }\n> {\n  private readonly diffLabels: string[];\n\n  constructor(props: GhostToolbar_Props) {\n    super(props);\n    this.state = { dropdown_open: false, export_msg_open: false };\n\n    let diffLabels: string[] = [];\n    diffLabels[DIFF_TYPE.CHANGE_DIFF] = \"from prior\";\n    diffLabels[DIFF_TYPE.PRESENT_DIFF] = \"from current\";\n    diffLabels[DIFF_TYPE.NO_DIFF] = \"none\";\n    this.diffLabels = diffLabels;\n  }\n\n  public render() {\n    // ignore rendering if no ghost book is showing\n    if (this.props.ver === -1) return null;\n    return (\n      <div className=\"v-Verdant-GhostBook-header\">\n        <div className=\"v-Verdant-GhostBook-header-row\">\n          {this.showVersionSwitch()}\n          {this.showTimestamp()}\n          {this.showDiffOptions()}\n          {this.showExportOptions()}\n        </div>\n        {this.showExportMessage()}\n      </div>\n    );\n  }\n\n  private showVersionSwitch() {\n    return (\n      <div className=\"v-Verdant-GhostBook-versionSwitch\">\n        <span onClick={() => this.props.openGhostBook(this.props.ver - 1)}>\n          <ChevronLeftIcon />\n        </span>\n        <span className=\"v-Verdant-GhostBook-versionSwitch-label\">{`v${Namer.getVersionNumberLabel(\n          this.props.ver\n        )}`}</span>\n        <span onClick={() => this.props.openGhostBook(this.props.ver + 1)}>\n          <ChevronRightIcon />\n        </span>\n      </div>\n    );\n  }\n\n  private showTimestamp() {\n    let notebook = this.props.history.store.getNotebook(this.props.ver);\n    let created = this.props.history.checkpoints.get(notebook.created);\n\n    let time;\n    if (created)\n      // error save from older log format\n      time =\n        Checkpoint.formatDate(created.timestamp) +\n        \" \" +\n        Checkpoint.formatTime(created.timestamp);\n\n    return (\n      <div\n        className=\"v-Verdant-GhostBook-header-timestamp\"\n        onClick={() => this.props.openEvent(created)}\n      >\n        {time ? time : \"\"}\n      </div>\n    );\n  }\n\n  private showDiffOptions() {\n    return (\n      <div\n        className=\"v-Verdant-GhostBook-diffOptions\"\n        onClick={() =>\n          this.setState({ dropdown_open: !this.state.dropdown_open })\n        }\n      >\n        <span>show differences</span>\n        <div className=\"v-Verdant-GhostBook-diffOptions-dropdown\">\n          <div className=\"v-Verdant-GhostBook-diffOptions-option\">\n            {this.diffLabels[this.props.diff]}\n          </div>\n          <ChevronDownIcon />\n          {this.showDropdownList()}\n        </div>\n      </div>\n    );\n  }\n\n  private showDropdownList() {\n    if (this.state.dropdown_open) {\n      return (\n        <div className=\"v-Verdant-GhostBook-diffOptions-dropdown-list\">\n          {this.diffLabels.map((option, index) => {\n            return (\n              <div\n                key={index}\n                className=\"v-Verdant-GhostBook-diffOptions-option\"\n                onClick={(ev) => {\n                  ev.stopPropagation();\n                  this.props.setDiff(index);\n                  this.setState({ dropdown_open: false });\n                  return false;\n                }}\n              >\n                {option}\n              </div>\n            );\n          })}\n        </div>\n      );\n    }\n    return null;\n  }\n\n  private showExportOptions() {\n    return (\n      <div\n        className=\"v-Verdant-GhostBook-exportOptions\"\n        onClick={() => {\n          this.setState({ export_msg_open: true });\n          const notebook = this.props.history.store.getNotebook(this.props.ver);\n          this.props.history.store.fileManager.saveGhostBook(\n            this.props.history,\n            notebook\n          );\n        }}\n      >\n        <ExportIcon />\n        <span>Export</span>\n      </div>\n    );\n  }\n\n  private showExportMessage() {\n    if (this.state.export_msg_open) {\n      const notebook = this.props.history.store.getNotebook(this.props.ver);\n      let name = this.props.history.notebook.name;\n      if (name) {\n        name =\n          name.substring(0, name.indexOf(\".\")) +\n          \"-\" +\n          Namer.getNotebookVersionLabel(notebook) +\n          \".ipynb\";\n\n        // hide after export is done or after a short delay\n        setTimeout(() => this.setState({ export_msg_open: false }), 2000);\n\n        return (\n          <div className=\"v-Verdant-GhostBook-export-msg\">{`Exporting notebook to ${name}`}</div>\n        );\n      }\n    }\n    return null;\n  }\n}\n\nconst mapStateToProps = (state: verdantState) => {\n  return {\n    history: state.getHistory(),\n    ver: state.ghostBook.notebook_ver,\n    diff: state.ghostBook.diff,\n    openGhostBook: state.openGhostBook,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    openEvent: (c: Checkpoint) => dispatch(showEvent(c)),\n    setDiff: (diff: DIFF_TYPE) => dispatch(changeDiffType(diff)),\n  };\n};\n\nconst GhostToolbar = connect(mapStateToProps, mapDispatchToProps)(Toolbar);\n\nexport default GhostToolbar;\n","import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { Store } from \"redux\";\nimport {\n  showDetailOfNode,\n  ghostState,\n  initGhostBook,\n  verdantState,\n  closeGhostBook,\n} from \"../redux/\";\nimport { Widget } from \"@lumino/widgets\";\nimport { GhostBook } from \"./ghost-book\";\nimport { Namer } from \"../../verdant-model/sampler\";\nimport { Message } from \"@lumino/messaging\";\n\nconst GHOST_BOOK_ICON = \"v-Verdant-GhostBook-icon\";\n\nexport class Ghost extends Widget {\n  readonly getFile: () => string;\n  private store: Store;\n\n  constructor(store: Store, ver: number) {\n    super();\n    this.getFile = () => store.getState().getHistory().notebook.name;\n    this.id = \"ghostbook-verdant\";\n    this.title.iconClass = GHOST_BOOK_ICON;\n    this.title.closable = true;\n    this.store = store;\n    this.initStore(store, ver);\n  }\n\n  onCloseRequest(msg: Message) {\n    super.onCloseRequest(msg);\n    this.store.dispatch(closeGhostBook());\n  }\n\n  public initStore(store: Store, ver: number) {\n    //update store to that of a different notebook if needed\n    this.store = store;\n\n    // first, make sure ver is in range of available notebook versions\n    ver = Math.max(0, ver);\n    let max =\n      (store.getState() as verdantState)?.notebookArtifact?.ver ||\n      Number.MAX_SAFE_INTEGER;\n    ver = Math.min(max, ver);\n\n    let changeTitle = (ver: number) => {\n      this.title.label =\n        \"v\" + Namer.getVersionNumberLabel(ver) + \" of \" + this.getFile();\n    };\n\n    const initialState: Partial<ghostState> = {\n      notebook_ver: ver,\n      active_cell: undefined,\n      changeGhostTitle: changeTitle.bind(this),\n      link_artifact: (name: string) => {\n        let history = store.getState().getHistory();\n        let nodey = history.store.get(name);\n        store.dispatch(showDetailOfNode(nodey));\n      },\n    };\n\n    store.dispatch(initGhostBook(initialState));\n    changeTitle(ver);\n\n    ReactDOM.render(\n      React.createElement(\n        GhostBook,\n        {\n          store: store,\n        },\n        null\n      ),\n      this.node\n    );\n  }\n}\n","import * as React from \"react\";\n\nexport class InspectIcon extends React.Component {\n  render() {\n    return (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 19 18\"\n        aria-labelledby=\"title\"\n        className=\"v-VerdantPanel-inspectorButton-icon\"\n      >\n        <title id=\"title\">Inspector Icon</title>\n        <path d=\"M7 0a7 7 0 016.84 8.494l4.53 1.976a.67.67 0 01.028 1.223l-.098.037-3.69 1.12a.67.67 0 00-.374.284l-.046.086-1.55 3.53a.67.67 0 01-1.223.018l-.037-.098-1.052-3.51A7 7 0 117 0zm6.5 12.91c.167-.38.492-.67.89-.79l3.49-1.06-4.24-1.84-4.27-1.85L12 16.25zM7.504 3.5H6.497v3.625l-3.135.896.277.958 3.865-1.096V3.5z\" />\n      </svg>\n    );\n  }\n}\n\nexport class ChevronDownIcon extends React.Component {\n  render() {\n    return (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 10 16\"\n        aria-labelledby=\"title\"\n        className=\"verdant-icon-chevron\"\n      >\n        <title id=\"title\">Chevron Down Icon</title>\n        <path d=\"M5 11L0 6l1.5-1.5L5 8.25 8.5 4.5 10 6l-5 5z\" />\n      </svg>\n    );\n  }\n}\n\nexport class ChevronRightIcon extends React.Component {\n  render() {\n    return (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 -3 7 16\"\n        aria-labelledby=\"title\"\n        className=\"verdant-icon-chevron\"\n      >\n        <title id=\"title\">Chevron Right Icon</title>\n        <path d=\"M6.5 5l-5 5L0 8.5 3.75 5 0 1.5 1.5 0z\" />\n      </svg>\n    );\n  }\n}\n\nexport class ChevronLeftIcon extends React.Component {\n  render() {\n    return (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 -3 7 16\"\n        aria-labelledby=\"title\"\n        className=\"verdant-icon-chevron\"\n      >\n        <title id=\"title\">Chevron Left Icon</title>\n        <path d=\"M.5 5l5 5L7 8.5 3.25 5 7 1.5 5.5 0z\" />\n      </svg>\n    );\n  }\n}\n\nexport class SearchIcon extends React.Component {\n  render() {\n    return (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 17 19\"\n        aria-labelledby=\"title\"\n        className=\"v-VerdantPanel-searchIcon\"\n      >\n        <title id=\"title\">Search Icon</title>\n        <path d=\"M9.45.14a7.05 7.05 0 013.253 12.246l3.747 4.864a.81.81 0 01-.15 1.12.79.79 0 01-.46.16.76.76 0 01-.63-.31l-3.82-4.934a7.04 7.04 0 01-3.29.824h-.03A7.49 7.49 0 016.66 14a7.05 7.05 0 01-5.52-8.34A7.05 7.05 0 019.45.14zM8.058 1.6h.012a5.43 5.43 0 00-3 .91 5.45 5.45 0 00-1.52 7.55 5.44 5.44 0 009.798-1.711l.052-.229A5.45 5.45 0 009.14 1.7a6.8 6.8 0 00-.725-.086L8.058 1.6z\" />\n      </svg>\n    );\n  }\n}\n\nexport class BigChevronRightIcon extends React.Component {\n  render() {\n    return (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        aria-labelledby=\"title\"\n        className=\"verdant-icon-big-chevron\"\n        viewBox=\"0 0 9 16\"\n      >\n        <title id=\"title\">Large Chevron Right Icon</title>\n        <path fill=\"none\" strokeWidth=\"2\" d=\"M1.375 1l6 7-6 7\" />\n      </svg>\n    );\n  }\n}\n\nexport class BigChevronLeftIcon extends React.Component {\n  render() {\n    return (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        aria-labelledby=\"title\"\n        className=\"verdant-icon-big-chevron\"\n        viewBox=\"0 0 9 16\"\n      >\n        <title id=\"title\">Large Chevron Left Icon</title>\n        <path fill=\"none\" strokeWidth=\"2\" d=\"M7.625 1l-6 7 6 7\" />\n      </svg>\n    );\n  }\n}\n\nexport class XIcon extends React.Component {\n  render() {\n    return (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 12 16\"\n        aria-labelledby=\"title\"\n        className=\"verdant-icon-x\"\n      >\n        <title id=\"title\">X Cancel Icon</title>\n        <path\n          fillRule=\"evenodd\"\n          d=\"M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z\"\n        />\n      </svg>\n    );\n  }\n}\n\nexport class ExportIcon extends React.Component {\n  render() {\n    return (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 11 13\"\n        aria-labelledby=\"title\"\n        className=\"verdant-icon-export\"\n      >\n        <title id=\"title\">Export Icon</title>\n        <path\n          fillRule=\"nonzero\"\n          d=\"M6 1.7071V8.5c0 .27614-.22386.5-.5.5S5 8.77614 5 8.5V1.7071L3.85355 2.85356c-.19526.19527-.51184.19527-.7071 0-.19527-.19526-.19527-.51184 0-.7071l2-2c.19526-.19527.51184-.19527.7071 0l2 2c.19527.19526.19527.51184 0 .7071-.19526.19527-.51184.19527-.7071 0L6 1.70711zm1.5 4.23734c-.27614 0-.5-.22385-.5-.5 0-.27614.22386-.5.5-.5h3c.27614 0 .5.22386.5.5v6.11112c0 .27614-.22386.5-.5.5H.5c-.27614 0-.5-.22386-.5-.5V5.5c0-.27253.21826-.49487.49074-.49991l3-.05556c.2761-.00511.50406.21456.50917.49066.00512.2761-.21456.50406-.49065.50917L1 5.99083v5.06473h9V5.94444H7.5z\"\n        />\n      </svg>\n    );\n  }\n}\n","import { ReactWidget } from \"@jupyterlab/apputils\";\nimport * as React from \"react\";\nimport { Store } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport Panel from \"./panel\";\nimport { LabIcon } from \"@jupyterlab/ui-components\";\nimport { VerdantInstance } from \"../instance-manager\";\n\n/*\n * Icon for Verdant\n */\nconst verdantIconSvgStr = require(\"../../style/img/log-icon-4.svg\");\nexport const verdantIcon = new LabIcon({\n  name: \"verdant\",\n  svgstr: verdantIconSvgStr.default,\n});\n\n/*\n * A class to show the current showing Verdant Instance\n */\nexport class VerdantUI extends ReactWidget {\n  activeInstance: VerdantInstance;\n\n  constructor() {\n    super();\n    this.activeInstance = undefined;\n\n    // set up JupyterLab Widget boilerplate\n    this.id = \"v-VerdantPanel\";\n    this.addClass(\"v-Verdant-sidePanel\");\n    this.title.icon = verdantIcon;\n    this.title.iconClass = \"verdant-log-icon\";\n    this.title.caption = \"Verdant Log\";\n  }\n\n  dispose() {\n    this.activeInstance?.notebook?.dispose();\n    super.dispose();\n  }\n\n  protected render() {\n    if (this.activeInstance)\n      return <VerdantPanel store={this.activeInstance.store} />;\n    return <VerdantLanding />;\n  }\n}\n\nfunction VerdantLanding() {\n  return (\n    <div id=\"verdant-landing\">\n      <div id=\"verdant-landing-message\">\n        <div>Open up a notebook to see its history.</div>\n        <div id=\"verdant-landing-img\" />\n      </div>\n    </div>\n  );\n}\n\nfunction VerdantPanel(props: { store: Store }) {\n  return (\n    <Provider store={props.store}>\n      <Panel />\n    </Provider>\n  );\n}\n","import { VerNotebook } from \"../verdant-model/notebook\";\nimport { Store } from \"redux\";\nimport { Contents, ContentsManager } from \"@jupyterlab/services\";\n\nconst DEBUG = false;\nconst RECORD = false;\n\nexport class VerdantLog {\n  private notebook: VerNotebook | null = null;\n  private logStore = \"\";\n  private logPending: string[] = [];\n  private fileIO: ContentsManager | null = null;\n\n  log(msg: string, ...msg_list: string[]) {\n    if (DEBUG) {\n      // print to browser console\n      console.log(msg);\n      if (msg_list.length > 0) console.log(msg_list.join(\", \"));\n    }\n    if (RECORD) {\n      let str = `${Date.now()} ${msg} ${msg_list.join(\", \")}`;\n      this.logPending.push(str);\n    }\n  }\n\n  async setNotebook(notebook: VerNotebook) {\n    this.notebook = notebook;\n    this.logStore = (await this.loadLog()) + this.logStore;\n  }\n\n  recordAction(action, store) {\n    let state = store.getState();\n    let record = {\n      currentEvent: state.currentEvent,\n      activeTab: state.activeTab,\n      inspectOn: state.inspectOn,\n      inspecting: state.inspectTarget,\n      searchQuery: state.searchQuery,\n    };\n    this.log(\"Redux state: \", JSON.stringify(record));\n    this.log(\"Dispatching redux action: \", JSON.stringify(action));\n    //console.log(\"Redux\", JSON.stringify(action), store);\n  }\n\n  getReduxLogger() {\n    return verLogger.bind(this, this);\n  }\n\n  getFile() {\n    let name = this.notebook?.name;\n    name = name ? name.substring(0, name.indexOf(\".\")) + \".ipylog\" : undefined;\n    return name;\n  }\n\n  getPath() {\n    let path = this.notebook?.path;\n    path = path\n      ? \"/\" + path.substring(0, path.lastIndexOf(\"/\") + 1)\n      : undefined;\n    return path;\n  }\n\n  loadLog() {\n    if (RECORD && this.notebook) {\n      return new Promise((accept) => {\n        const name = this.getFile();\n        let path = this.getPath();\n        if (path && name) {\n          path += name;\n          let contents = new ContentsManager();\n          contents\n            .get(path)\n            .then((res) => {\n              accept(res.content);\n            })\n            .catch(() => {\n              // we won't care if the file isn't found\n              accept(\"\");\n            });\n        }\n      });\n    }\n  }\n\n  async saveLog() {\n    if (this.notebook && this.logPending.length > 0) {\n      this.logStore += this.logPending.join(\"\\n\");\n      this.logPending = [];\n\n      // make saving thing\n      if (!this.fileIO) this.fileIO = new ContentsManager();\n\n      // make file data\n      let name = this.getFile();\n      let path = this.getPath();\n      if (path && name) {\n        path += name;\n        var saveModel = new LoggerSaveModel(\n          name,\n          path,\n          \"today\",\n          \"today\",\n          this.logStore\n        );\n\n        // save\n        return this.fileIO.save(path, saveModel);\n      }\n    }\n  }\n}\n\n/* Function for redux middleware */\nconst verLogger = (log: VerdantLog, store: Store) => (next) => (action) => {\n  log.recordAction(action, store);\n  let result = next(action);\n  return result;\n};\n\nclass LoggerSaveModel implements Contents.IModel {\n  readonly type: Contents.ContentType = \"file\";\n  readonly writable: boolean = true;\n  readonly mimetype: string = \"application/json\";\n  readonly format: Contents.FileFormat = \"text\";\n\n  readonly name: string;\n  readonly path: string;\n  readonly created: string;\n  readonly last_modified: string;\n  readonly content: any;\n\n  constructor(\n    name: string,\n    path: string,\n    createDate: string,\n    modDate: string,\n    content: any\n  ) {\n    this.name = name;\n    this.path = path;\n    this.created = createDate;\n    this.last_modified = modDate;\n    this.content = content;\n  }\n}\n","import * as React from \"react\";\nimport { Nodey } from \"../../../verdant-model/nodey\";\nimport { Namer } from \"../../../verdant-model/sampler\";\nimport Artifact from \"./artifact\";\n\nexport type Origin_Props = {\n  derived: Nodey;\n  nodey: Nodey;\n};\n\nexport default class ArtifactOrigin extends React.Component<Origin_Props> {\n  render() {\n    return (\n      <div className=\"v-VerdantPanel-details-artifact\">\n        <div key={1}>\n          <div className=\"v-VerdantPanel-details-origin-header\">\n            {`${Namer.getCellShortTitle(\n              this.props.derived\n            )} was created from ${Namer.getCellTitle(this.props.nodey)}`}\n          </div>\n        </div>\n        <Artifact nodey={this.props.nodey} />\n      </div>\n    );\n  }\n}\n","import * as React from \"react\";\nimport { Nodey, NodeyCode, NodeyOutput } from \"../../../verdant-model/nodey\";\nimport { History } from \"../../../verdant-model/history\";\nimport { verdantState } from \"../../redux/index\";\nimport { connect } from \"react-redux\";\nimport VersionDetail from \"./version-detail\";\nimport VersionPair from \"./version-pair\";\n\nexport type Artifact_Props = {\n  history: History;\n  nodey: Nodey;\n  nodey_versions: Nodey[] | Nodey[][];\n  nodey_dependents: Nodey[] | Nodey[][];\n};\n\nclass Artifact extends React.Component<Artifact_Props> {\n  render() {\n    let elems: JSX.Element[] = [];\n\n    // show a single column simple artifact without dependencies\n    if (\n      !this.props.nodey_dependents ||\n      this.props.nodey_dependents.length < 1\n    ) {\n      for (let i = this.props.nodey_versions.length - 1; i > -1; i--) {\n        elems.push(\n          <VersionDetail\n            key={i}\n            nodey={this.props.nodey_versions[i] as Nodey}\n          />\n        );\n      }\n    }\n\n    // show two column artifact with a dependency pair\n    else {\n      for (let i = this.props.nodey_versions.length - 1; i > -1; i--) {\n        // some artifact versions may not have dependency (e.g. code w/o output)\n        if (\n          Array.isArray(this.props.nodey_dependents[i]) &&\n          (this.props.nodey_dependents[i] as Nodey[]).length < 1\n        ) {\n          elems.push(\n            <VersionDetail\n              key={i}\n              nodey={this.props.nodey_versions[i] as Nodey}\n            />\n          );\n        } else {\n          elems.push(\n            <VersionPair\n              key={i}\n              nodey={this.props.nodey_versions[i]}\n              dependent={this.props.nodey_dependents[i]}\n            />\n          );\n        }\n      }\n    }\n\n    return <div className=\"v-VerdantPanel-details-artifact\">{elems}</div>;\n  }\n}\n\nfunction calculateVersionMapping(nodey: Nodey, history: History) {\n  let nodey_versions: Nodey[] | Nodey[][] = [];\n  let nodey_dependents: Nodey[] | Nodey[][] = [];\n\n  // one to many mapping between code and output\n  if (nodey instanceof NodeyCode) {\n    let hist = history.store.getHistoryOf(nodey);\n    nodey_versions = hist?.getAllVersions() || [];\n\n    if (nodey_versions)\n      nodey_dependents = (nodey_versions as NodeyCode[]).map((ver) => {\n        let outHist = history.store.getOutput(ver);\n        if (outHist) return outHist.getAllVersions();\n        else return [];\n      });\n  }\n  // many to one mapping between output and code\n  else if (nodey instanceof NodeyOutput) {\n    let cellParent = history.store.getCellParent(nodey);\n    if (cellParent) {\n      let allOutput = history.store.getAllOutput(cellParent);\n      if (allOutput) {\n        nodey_versions = allOutput.map((hist) => hist.getAllVersions() || []);\n        allOutput.map((hist) => {\n          let out = hist.latest;\n          // return the code cell parent, which should be the same for every output\n          // in this output history\n          if (out) {\n            let parent = history.store.get(out.parent);\n            if (parent) (nodey_dependents as Nodey[]).push(parent);\n          }\n        });\n      }\n    }\n  }\n  // otherwise (for now) assume no dependents with markdown or raw cells\n  else {\n    let hist = history.store.getHistoryOf(nodey);\n    if (hist) nodey_versions = hist.getAllVersions();\n  }\n\n  return [nodey_versions, nodey_dependents];\n}\n\nconst mapStateToProps = (\n  state: verdantState,\n  ownProps: Partial<Artifact_Props>\n) => {\n  let history = state.getHistory();\n  let [nodey_versions, nodey_dependents] = ownProps.nodey\n    ? calculateVersionMapping(ownProps.nodey, history)\n    : [[], []];\n\n  return {\n    history,\n    nodey_versions,\n    nodey_dependents,\n  };\n};\n\nexport default connect(mapStateToProps, null)(Artifact);\n","import * as React from \"react\";\nimport {\n  Nodey,\n  NodeyCode,\n  NodeyMarkdown,\n  NodeyOutput,\n  NodeyCodeCell,\n} from \"../../../verdant-model/nodey\";\nimport { History } from \"../../../verdant-model/history\";\nimport {\n  verdantState,\n  ActiveTab,\n  switchTab,\n  showDetailOfNode,\n} from \"../../redux/\";\nimport { connect } from \"react-redux\";\nimport { Namer } from \"../../../verdant-model/sampler\";\n\nexport type CrumbMenu_Props = {\n  showSummary: () => void;\n  showDetails: (n: Nodey) => void;\n  history: History;\n  target: Nodey | null;\n};\n\nclass CrumbMenu extends React.Component<CrumbMenu_Props> {\n  render() {\n    return (\n      <div className=\"v-VerdantPanel-crumbMenu\">\n        <Item label=\"Notebook\" onClick={() => this.props.showSummary()} />\n        <Seperator />\n        {this.buildLabels()}\n      </div>\n    );\n  }\n\n  buildLabels() {\n    if (this.props.target) {\n      if (this.props.target instanceof NodeyCode) return this.pathToCode();\n      else if (this.props.target instanceof NodeyMarkdown)\n        return <Item label={Namer.getCellTitle(this.props.target)} />;\n      else if (this.props.target instanceof NodeyOutput)\n        return this.pathToOutput();\n    }\n    return null;\n  }\n\n  pathToOutput() {\n    if (this.props.target) {\n      let cell = this.props.history.store.getCellParent(this.props.target);\n      return (\n        <span>\n          <Item\n            label={Namer.getCellTitle(cell)}\n            onClick={() => this.props.showDetails(cell)}\n          />\n          <Seperator />\n          <Item label=\"Output\" />\n        </span>\n      );\n    }\n    return null;\n  }\n\n  pathToCode() {\n    if (this.props.target) {\n      if (this.props.target instanceof NodeyCodeCell) {\n        return <Item label={Namer.getCellTitle(this.props.target)} />;\n      } else {\n        let cell = this.props.history.store.getCellParent(this.props.target);\n        return (\n          <span>\n            <Item\n              label={Namer.getCellTitle(cell)}\n              onClick={() => (cell ? this.props.showDetails(cell) : null)}\n            />\n            <Seperator />\n            <Item\n              label={Namer.getCodeSnippetTitle(this.props.target as NodeyCode)}\n            />\n          </span>\n        );\n      }\n    }\n  }\n}\n\nclass Seperator extends React.Component {\n  render() {\n    return <div className=\"v-VerdantPanel-crumbMenu-seperator\">{\">\"}</div>;\n  }\n}\n\nclass Item extends React.Component<{ onClick?: () => void; label: string }> {\n  render() {\n    let link = this.props.onClick;\n    return (\n      <div\n        className={`v-VerdantPanel-crumbMenu-item ${\n          link ? \"verdant-link\" : \"\"\n        }`}\n        onClick={this.props.onClick}\n      >\n        {this.props.label}\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    showSummary: () => {\n      dispatch(switchTab(ActiveTab.Artifacts));\n    },\n    showDetails: (n: Nodey) => {\n      dispatch(showDetailOfNode(n));\n    },\n  };\n};\n\nconst mapStateToProps = (state: verdantState) => {\n  return {\n    history: state.getHistory(),\n    target: state.artifactView.inspectTarget,\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CrumbMenu);\n","import * as React from \"react\";\nimport InspectorButton from \"../inspector-button\";\nimport { History } from \"../../../verdant-model/history\";\nimport CrumbMenu from \"./crumbMenu\";\nimport Artifact from \"./artifact\";\nimport ArtifactOrigin from \"./artifact-origin\";\nimport { Nodey, NodeyCode } from \"../../../verdant-model/nodey\";\nimport { verdantState, showDetailOfNode } from \"../../redux\";\nimport { connect } from \"react-redux\";\n\nexport type Details_Props = {\n  history: History;\n  showDetails: (n: Nodey) => void;\n  target: Nodey | null;\n  origins: Nodey[];\n};\n\nclass ArtifactDetails extends React.Component<Details_Props> {\n  render() {\n    return (\n      <div className=\"v-VerdantPanel-content\">\n        <div className=\"v-VerdantPanel-tab-header\">\n          <CrumbMenu />\n          {this.showOutputLink()}\n        </div>\n        <div className=\"v-VerdantPanel-content\">\n          {this.props.target ? <Artifact nodey={this.props.target} /> : null}\n          {this.showOrigins()}\n        </div>\n        <InspectorButton />\n      </div>\n    );\n  }\n\n  showOutputLink() {\n    if (this.props.target && this.props.target instanceof NodeyCode) {\n      let out = this.props.history.store.getAllOutput(this.props.target);\n      if (out && out.length > 0) {\n        return (\n          <span\n            className=\"v-VerdantPanel-tab-header-outLink verdant-link\"\n            onClick={() =>\n              out[0].latest ? this.props.showDetails(out[0].latest) : null\n            } //TODO!\n          >\n            show all output\n          </span>\n        );\n      }\n    }\n    return null;\n  }\n\n  showOrigins() {\n    if (this.props.target) {\n      let prior: Nodey = this.props.target;\n      return this.props.origins.map((nodey, i) => {\n        let origin = <ArtifactOrigin key={i} derived={prior} nodey={nodey} />;\n        prior = nodey;\n        return origin;\n      });\n    }\n    return null;\n  }\n\n  // version pair <Version Singleton > < Version List >\n  // version pair <Version Singleton > (closed right side)\n  // version pair <Version List > (closed right side)\n  // version pair <Version Singleton > (has no right side)\n  /*\n   * steps: 1) figure out what L side and R side are\n   * 2) version pair instantiates L and R as Version Singletons or Version List\n   * 3) version pair manages the open/closed state of L side and R side\n   */\n}\n\nfunction findOrigins(nodey: Nodey, history: History): Nodey[] {\n  let origins: Nodey[] = [];\n\n  let versions = history.store.getHistoryOf(nodey);\n  while (versions && versions.originPointer) {\n    let o = history.store.get(versions.originPointer.origin);\n    if (o) {\n      origins.push(o);\n    }\n    versions = history.store.getHistoryOf(o);\n  }\n\n  return origins;\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    showDetails: (n: Nodey) => {\n      dispatch(showDetailOfNode(n));\n    },\n  };\n};\n\nconst mapStateToProps = (state: verdantState) => {\n  let history = state.getHistory();\n  let target = state.artifactView.inspectTarget;\n  let origins = target ? findOrigins(target, history) : [];\n  return {\n    history,\n    target,\n    origins,\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ArtifactDetails);\n","import * as React from \"react\";\nimport { Nodey, NodeyOutput } from \"../../../verdant-model/nodey\";\nimport { History } from \"../../../verdant-model/history\";\nimport { DIFF_TYPE } from \"../../../verdant-model/sampler\";\nimport VersionHeader from \"./version-header\";\nimport { verdantState, selectArtifactDetail } from \"../../redux/\";\nimport { connect } from \"react-redux\";\n\nexport type Version_Props = {\n  history: History;\n  nodey: Nodey;\n  no_header?: boolean;\n  selectArtifact: () => void;\n  selected: boolean;\n};\n\nclass VersionDetail extends React.Component<Version_Props, { sample: string }> {\n  myRef: React.RefObject<HTMLDivElement>;\n  private _isMounted = false;\n\n  constructor(props: Version_Props) {\n    super(props);\n    this.state = {\n      sample: \"\",\n    };\n    this.myRef = React.createRef<HTMLDivElement>(); // todo test\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    this.getSample();\n    if (this.props.selected) {\n      setTimeout(() => {\n        if (this.myRef.current)\n          this.myRef.current.scrollIntoView({\n            behavior: \"smooth\",\n            block: \"nearest\",\n          });\n      }, 1000);\n    }\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  componentDidUpdate(prevProps: Version_Props) {\n    if (\n      this._isMounted &&\n      this.props?.nodey &&\n      this.props?.nodey?.name !== prevProps?.nodey?.name\n    )\n      this.getSample();\n  }\n\n  render() {\n    return (\n      <div\n        ref={this.myRef}\n        className=\"v-VerdantPanel-details-version\"\n        onClick={() => this.props.selectArtifact()}\n      >\n        {this.showHeader()}\n        <div\n          className=\"v-VerdantPanel-details-version-sample\"\n          dangerouslySetInnerHTML={{ __html: this.state.sample }}\n        ></div>\n      </div>\n    );\n  }\n\n  showHeader() {\n    if (!this.props.no_header)\n      return <VersionHeader nodey={this.props.nodey} />;\n    return null;\n  }\n\n  async getSample() {\n    await this.props.history.ready;\n    let s: HTMLElement = await this.props.history.inspector.diff.renderCell(\n      this.props.nodey,\n      this.props.nodey instanceof NodeyOutput\n        ? DIFF_TYPE.NO_DIFF\n        : DIFF_TYPE.CHANGE_DIFF\n    );\n    this.setState({ sample: s.outerHTML });\n  }\n}\n\nconst mapDispatchToProps = (\n  dispatch: any,\n  ownProps: Partial<Version_Props>\n) => {\n  return {\n    selectArtifact: () =>\n      ownProps.nodey\n        ? dispatch(selectArtifactDetail(ownProps.nodey.name))\n        : null,\n  };\n};\n\nconst mapStateToProps = (\n  state: verdantState,\n  ownProps: Partial<Version_Props>\n) => {\n  return {\n    history: state.getHistory(),\n    no_header: ownProps.no_header,\n    selected:\n      ownProps.nodey?.name != undefined &&\n      state.artifactView?.selectedArtifactDetail != undefined &&\n      state.artifactView?.selectedArtifactDetail === ownProps.nodey?.name,\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VersionDetail);\n","import * as React from \"react\";\nimport { Nodey, NodeyOutput } from \"../../../verdant-model/nodey\";\nimport { History } from \"../../../verdant-model/history\";\nimport { Checkpoint } from \"../../../verdant-model/checkpoint\";\nimport {\n  verdantState,\n  showDetailOfNode,\n  showEvent,\n  scrollToGhostCell,\n} from \"../../redux/\";\nimport { connect } from \"react-redux\";\nimport { Namer } from \"../../../verdant-model/sampler\";\n\nexport type VersionHeader_Props = {\n  history: History;\n  showDetails: (n: Nodey) => void;\n  openGhostBook: (notebookVer: number) => void;\n  scrollGhostToNodey: (n: Nodey) => void;\n  nodey: Nodey;\n  isTarget: boolean;\n  openEvent: (c: Checkpoint) => void;\n  selected: boolean;\n};\n\nclass VersionHeader extends React.Component<VersionHeader_Props> {\n  render() {\n    let origin_notebook = this.props.history.store.getNotebookOf(\n      this.props.nodey\n    );\n    let created = this.props.history.checkpoints.get(this.props.nodey?.created);\n\n    return (\n      <div\n        className={`v-VerdantPanel-details-version-header${\n          this.props.selected ? \" selected\" : \"\"\n        }`}\n      >\n        <div className=\"v-VerdantPanel-details-version-header-labelRow\">\n          {this.showNodeyName()}\n          <i>{\" created in \"}</i>\n          <span\n            className=\"verdant-link\"\n            onClick={() => {\n              if (origin_notebook) {\n                this.props.openGhostBook(origin_notebook.version);\n                this.props.scrollGhostToNodey(this.props.nodey);\n              }\n            }}\n          >\n            {origin_notebook ? Namer.getNotebookTitle(origin_notebook) : \"\"}\n          </span>\n        </div>\n        <div\n          className=\"v-VerdantPanel-details-version-header-labelRow date\"\n          onClick={() => {\n            if (created) this.props.openEvent(created);\n          }}\n        >\n          <span className=\"verdant-link\">{`${Checkpoint.formatTime(\n            created?.timestamp\n          )} ${Checkpoint.formatShortDate(created?.timestamp)}`}</span>\n        </div>\n      </div>\n    );\n  }\n\n  showNodeyName() {\n    let name = Namer.getVersionTitle(this.props.nodey);\n    if (this.props.nodey instanceof NodeyOutput)\n      name = Namer.getOutputVersionTitle(this.props.nodey, this.props.history);\n    let split = name.lastIndexOf(\".\");\n    let root = name.substring(0, split + 1);\n    let ver = name.substring(split + 1);\n\n    if (this.props.isTarget) {\n      return (\n        <span>\n          <span>{root}</span>\n          <b>{ver}</b>\n        </span>\n      );\n    } else {\n      return (\n        <span\n          className=\"verdant-link\"\n          onClick={() => this.props.showDetails(this.props.nodey)}\n        >\n          <span>{root}</span>\n          <b>{ver}</b>\n        </span>\n      );\n    }\n  }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    showDetails: (n: Nodey) => {\n      dispatch(showDetailOfNode(n));\n    },\n    openEvent: (c: Checkpoint) => dispatch(showEvent(c)),\n    scrollGhostToNodey: (n: Nodey) => {\n      dispatch(scrollToGhostCell(n.name));\n    },\n  };\n};\n\nconst mapStateToProps = (\n  state: verdantState,\n  ownProps: Partial<VersionHeader_Props>\n) => {\n  const nodeyName = ownProps.nodey?.artifactName;\n  const targetName = state.artifactView?.inspectTarget?.artifactName;\n  return {\n    history: state.getHistory(),\n    openGhostBook: state.openGhostBook,\n    isTarget:\n      nodeyName != undefined &&\n      targetName != undefined &&\n      nodeyName === targetName,\n    selected:\n      state.artifactView?.selectedArtifactDetail === ownProps.nodey?.name,\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VersionHeader);\n","import * as React from \"react\";\nimport { Nodey, NodeyOutput, NodeyCode } from \"../../../verdant-model/nodey\";\nimport VersionDetail from \"./version-detail\";\nimport VersionHeader from \"./version-header\";\nimport { Namer } from \"../../../verdant-model/sampler\";\nimport { History } from \"../../../verdant-model/history\";\nimport {\n  verdantState,\n  showDetailOfNode,\n  openPair,\n  closePair,\n} from \"../../redux/index\";\nimport { connect } from \"react-redux\";\nimport { BigChevronRightIcon, BigChevronLeftIcon } from \"../../icons/\";\n\nexport type VersionPair_Props = {\n  history: History;\n  showDetails: (n: Nodey) => void;\n  dependent: Nodey | Nodey[];\n  nodey: Nodey | Nodey[];\n  open: boolean;\n  openVersionPair: () => void;\n  closeVersionPair: () => void;\n};\n\nclass VersionPair extends React.Component<VersionPair_Props> {\n  render() {\n    return (\n      <div\n        className={`v-VerdantPanel-details-versionPair${\n          this.props.open ? \" open\" : \"\"\n        }`}\n      >\n        <div\n          className={`v-VerdantPanel-details-versionPair-col left${\n            this.props.open ? \" open\" : \"\"\n          }`}\n        >\n          {this.showLeft()}\n        </div>\n        {this.showRight()}\n      </div>\n    );\n  }\n\n  showLeft() {\n    if (this.props.open) return this.showLeftOpen();\n    return this.showLeftClosed();\n  }\n\n  showRight() {\n    if (this.props.open) return this.showRightOpen();\n    return null;\n  }\n\n  showRightOpen() {\n    // if open, show dependencies in list\n    let vers: Nodey[] = [];\n    if (Array.isArray(this.props.dependent)) vers = this.props.dependent;\n    else vers.push(this.props.dependent);\n\n    return (\n      <div\n        className={`v-VerdantPanel-details-versionPair-col right${\n          this.props.open ? \" open\" : \"\"\n        }`}\n      >\n        <div className=\"v-VerdantPanel-details-version-header dependent open\">\n          <div onClick={() => this.props.closeVersionPair()}>\n            <BigChevronLeftIcon />\n          </div>\n        </div>\n        {vers.reverse().map((v, i) => (\n          <VersionDetail key={i} nodey={v} />\n        ))}\n      </div>\n    );\n  }\n\n  showLeftOpen() {\n    // if open, show versions in a plain list\n    let vers: Nodey[] = [];\n    if (Array.isArray(this.props.nodey)) vers = this.props.nodey;\n    else vers.push(this.props.nodey);\n\n    return vers.reverse().map((v, i) => <VersionDetail key={i} nodey={v} />);\n  }\n\n  showLeftClosed() {\n    // if closed, just show all versions the same way\n    let vers: Nodey[] = [];\n    if (Array.isArray(this.props.nodey)) vers = this.props.nodey;\n    else vers.push(this.props.nodey);\n\n    return vers.reverse().map((v, i) => {\n      return (\n        <div key={i}>\n          <div className=\"v-VerdantPanel-details-versionPair-header\">\n            <VersionHeader nodey={v} />\n            {this.closedRightHeader()}\n          </div>\n          <VersionDetail nodey={v} no_header={true} />\n        </div>\n      );\n    });\n  }\n\n  closedRightHeader() {\n    let vers: Nodey[] = [];\n    if (Array.isArray(this.props.dependent)) vers = this.props.dependent;\n    else vers.push(this.props.dependent);\n\n    return (\n      <div className=\"v-VerdantPanel-details-version-header dependent closed\">\n        <div className=\"v-VerdantPanel-details-version-header-labelRow dependent\">\n          {this.describeDependent(vers)}\n          <div onClick={() => this.props.openVersionPair()}>\n            <BigChevronRightIcon />\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  describeDependent(vers: Nodey[]) {\n    // Nodey Output\n    if (vers[0] instanceof NodeyOutput) {\n      if (vers.length > 1)\n        return (\n          <span>\n            <b>{vers.length}</b>\n            <span>{\" outputs\"}</span>\n          </span>\n        );\n      else\n        return (\n          <span>\n            {\"output \"}\n            <span\n              className=\"verdant-link\"\n              onClick={() => this.props.showDetails(vers[0])}\n            >\n              {Namer.getOutputVersionTitle(\n                vers[0] as NodeyOutput,\n                this.props.history\n              )}\n            </span>\n          </span>\n        );\n    }\n    // Nodey Code\n    else if (vers[0] instanceof NodeyCode) {\n      return (\n        <span>\n          {\"code \"}\n          <span\n            className=\"verdant-link\"\n            onClick={() => this.props.showDetails(vers[0])}\n          >\n            {Namer.getCellVersionTitle(vers[0])}\n          </span>\n        </span>\n      );\n    }\n  }\n}\n\nconst mapDispatchToProps = (\n  dispatch: any,\n  ownProps: Partial<VersionPair_Props>\n) => {\n  let nodey;\n  if (Array.isArray(ownProps.nodey)) nodey = ownProps.nodey[0];\n  else nodey = ownProps.nodey;\n  return {\n    showDetails: (n: Nodey) => {\n      dispatch(showDetailOfNode(n));\n    },\n    openVersionPair: () => {\n      dispatch(openPair(nodey.name));\n    },\n    closeVersionPair: () => {\n      dispatch(closePair(nodey.name));\n    },\n  };\n};\n\nconst mapStateToProps = (\n  state: verdantState,\n  ownProps: Partial<VersionPair_Props>\n) => {\n  let nodey;\n  if (Array.isArray(ownProps.nodey)) nodey = ownProps.nodey[0];\n  else nodey = ownProps.nodey;\n  const open = state.artifactView.openDetailPairs.includes(nodey.name);\n  return {\n    history: state.getHistory(),\n    open,\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VersionPair);\n","import { History } from \"../../../verdant-model/history\";\nimport { Nodey, NodeyCodeCell } from \"../../../verdant-model/nodey\";\nimport { Sampler } from \"../../../verdant-model/sampler\";\nimport { VerNotebook } from \"../../../verdant-model/notebook\";\nimport { CodeCell, Cell, MarkdownCell } from \"@jupyterlab/cells\";\nimport { OutputArea } from \"@jupyterlab/outputarea\";\nimport { VerCell } from \"../../../verdant-model/cell\";\n\nconst WISHBONE_HIGHLIGHT = \"v-VerdantPanel-wishbone-highlight\";\nconst WISHBONE_HIGHLIGHT_CODE = \"v-VerdantPanel-wishbone-code-highlight\";\nconst WISHBONE_CODE = \"v-VerdantPanel-wishbone-code\";\nconst WISHBONE_CODE_MASK = \"v-VerdantPanel-wishbone-code-mask\";\n\nexport namespace Wishbone {\n  export function startWishbone(history: History) {\n    history.notebook.cells.forEach((verCell: VerCell) => {\n      var cell = verCell.view;\n      Private.addCellEvents(cell, verCell.model, history.inspector);\n\n      if (cell instanceof CodeCell) {\n        Private.addLineEvents(cell as CodeCell);\n        Private.addOutputEvents(verCell, history);\n      }\n    });\n  }\n\n  export function endWishbone(notebook: VerNotebook) {\n    notebook.cells.forEach((verCell: VerCell) => {\n      var cell = verCell.view;\n      Private.removeCellEvents(cell);\n    });\n  }\n}\n\n/*\n * a place for Wishbone's internal functionality\n */\nnamespace Private {\n  export function highlightCode(event: MouseEvent, code: Element) {\n    event.stopPropagation();\n    if (filterSelect(code, event)) {\n      var betterMatch = false;\n      for (var i = 0; i < code.children.length; i++) {\n        if (code.children[i].classList.contains(WISHBONE_CODE)) {\n          betterMatch = highlightCode(event, code.children[i]);\n          if (betterMatch) break;\n        }\n      }\n      if (!betterMatch) {\n        code.classList.add(WISHBONE_HIGHLIGHT_CODE);\n      }\n      return true;\n    }\n    return false;\n  }\n\n  export function selectTarget(nodey: Nodey, inspector: Sampler, _?: Event) {\n    inspector.target.set(nodey);\n  }\n\n  export function selectCodeTarget(\n    nodey: NodeyCodeCell,\n    inspector: Sampler,\n    cell: CodeCell,\n    event: MouseEvent\n  ) {\n    event.stopPropagation();\n    let area = cell.inputArea.editorWidget.node;\n    let betterMatch = area.getElementsByClassName(WISHBONE_HIGHLIGHT_CODE)[0];\n    if (!betterMatch) this.selectTarget(nodey, inspector, event);\n    else\n      inspector.target.set(\n        inspector.target.figureOutTarget(\n          nodey,\n          cell,\n          betterMatch as HTMLElement\n        )\n      );\n  }\n\n  function selectCode(lineMask: HTMLElement, ev: MouseEvent) {\n    codeSelection(lineMask, ev);\n  }\n\n  export function addCellEvents(\n    area: Cell | OutputArea,\n    nodey: Nodey,\n    inspector: Sampler\n  ) {\n    // first create a mask\n    let mask = makeMask();\n\n    if (area instanceof MarkdownCell) {\n      let inputArea = area.inputArea.node;\n      inputArea.appendChild(mask);\n      addElemEvents(mask, nodey, inspector);\n    }\n    if (area instanceof CodeCell) {\n      // mask on prompt area\n      let prompt = area.inputArea.node;\n      prompt.appendChild(mask);\n      addElemEvents(mask, nodey, inspector);\n\n      // detect line events for code mask\n      let lineMask = makeMask();\n      let select = selectCode.bind(this, lineMask);\n      area.editorWidget.node.appendChild(lineMask);\n      lineMask.addEventListener(\"mouseup\", (ev: MouseEvent) => {\n        this.selectCodeTarget(nodey, inspector, area, ev);\n      });\n      lineMask.addEventListener(\"mouseenter\", () => {\n        document.addEventListener(\"mousemove\", select);\n      });\n      lineMask.addEventListener(\"mouseleave\", () => {\n        lineMask.classList.remove(\"highlight\");\n        if (lineMask.parentElement) {\n          let highlighted = lineMask.parentElement.getElementsByClassName(\n            WISHBONE_HIGHLIGHT_CODE\n          );\n          for (var i = 0; i < highlighted.length; i++) {\n            highlighted[i].classList.remove(WISHBONE_HIGHLIGHT_CODE);\n          }\n        }\n        document.removeEventListener(\"mousemove\", select);\n      });\n    }\n    if (area instanceof OutputArea) {\n      area.node.appendChild(mask);\n      addElemEvents(mask, nodey, inspector);\n    }\n  }\n\n  function makeMask() {\n    var mask = document.createElement(\"div\");\n    mask.classList.add(WISHBONE_CODE_MASK);\n    return mask;\n  }\n\n  function addElemEvents(mask: HTMLElement, nodey: Nodey, inspector: Sampler) {\n    mask.addEventListener(\"mouseenter\", () => {\n      // signal known cell node of selection\n      mask.classList.add(\"highlight\");\n    });\n    mask.addEventListener(\"mouseleave\", () => {\n      // signal known cell node of selection\n      mask.classList.remove(WISHBONE_HIGHLIGHT);\n      mask.classList.remove(\"highlight\");\n    });\n    mask.addEventListener(\"mouseup\", (ev: MouseEvent) => {\n      ev.stopPropagation();\n      Private.selectTarget(nodey, inspector);\n      return false;\n    });\n  }\n\n  export function removeCellEvents(area: Cell) {\n    let masks = area.node.getElementsByClassName(WISHBONE_CODE_MASK);\n    for (let i = 0; i < masks.length; i++) masks[i].remove();\n\n    if (area instanceof CodeCell) {\n      let outputArea = area.outputArea.node;\n      let masks = outputArea.getElementsByClassName(WISHBONE_CODE_MASK);\n      for (let i = 0; i < masks.length; i++) masks[i].remove();\n\n      masks = area.editorWidget.node.getElementsByClassName(WISHBONE_CODE_MASK);\n      for (let i = 0; i < masks.length; i++) masks[i].remove();\n\n      // get rid of any remaining highlights\n      let highlighted = area.editorWidget.node.getElementsByClassName(\n        WISHBONE_HIGHLIGHT_CODE\n      );\n      for (var i = 0; i < highlighted.length; i++) {\n        highlighted[i].classList.remove(WISHBONE_HIGHLIGHT_CODE);\n      }\n      // remove event listeners\n      highlighted = area.editorWidget.node.getElementsByClassName(\n        WISHBONE_CODE\n      );\n      for (var i = 0; i < highlighted.length; i++) {\n        highlighted[i].classList.remove(WISHBONE_CODE);\n      }\n    }\n  }\n\n  export function addOutputEvents(verCell: VerCell, history: History) {\n    var outputNodey = verCell.output;\n    if (outputNodey && verCell.outputArea)\n      addCellEvents(verCell.outputArea, outputNodey, history.inspector);\n  }\n\n  function codeSelection(mask: Element, ev: MouseEvent) {\n    if (mask.parentElement) {\n      var highlighted = mask.parentElement.getElementsByClassName(\n        WISHBONE_HIGHLIGHT_CODE\n      );\n      for (var i = 0; i < highlighted.length; i++) {\n        highlighted[i].classList.remove(WISHBONE_HIGHLIGHT_CODE);\n      }\n\n      mask.classList.remove(\"highlight\");\n\n      var code = mask.parentElement.getElementsByClassName(\"CodeMirror-line\");\n      let betterMatch: Element;\n      for (var i = 0; i < code.length; i++) {\n        if (highlightCode(ev, code[i])) {\n          betterMatch = code[i];\n          break;\n        }\n      }\n\n      if (!betterMatch) {\n        mask.classList.add(\"highlight\");\n      }\n    }\n  }\n\n  function filterSelect(elem: Element, ev: MouseEvent) {\n    var x = ev.clientX;\n    var y = ev.clientY;\n    var rects = elem.getBoundingClientRect();\n    return (\n      rects.left <= x && rects.right >= x && rects.top <= y && rects.bottom >= y\n    );\n  }\n\n  export function addLineEvents(cell: CodeCell) {\n    var code = cell.inputArea.node.getElementsByTagName(\"span\");\n    for (var i = 0; i < code.length; i++) {\n      code[i].classList.add(WISHBONE_CODE);\n    }\n    var lines = cell.inputArea.node.getElementsByClassName(\"CodeMirror-line\");\n    for (var i = 0; i < lines.length; i++) {\n      lines[i].classList.add(WISHBONE_CODE);\n    }\n  }\n}\n","import * as React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Checkpoint } from \"../../../verdant-model/checkpoint\";\nimport { ChevronRightIcon, ChevronDownIcon } from \"../../icons\";\nimport { verdantState, dateOpen, dateClose, Bundles } from \"../../redux\";\nimport EventBundle from \"./event-bundle\";\n\n/* CSS Constants */\nconst DATE_HEADER = `Verdant-events-date-header`;\nconst DATE_HEADER_LABEL = `${DATE_HEADER}-label`;\nconst DATE_HEADER_COLLAPSE = `${DATE_HEADER}-collapse`;\n\ntype req_NotebookDate_Props = { date_id: number };\n\ntype NotebookDate_Props = {\n  // provided by redux store\n  date: number;\n  events: Checkpoint[];\n  isOpen: boolean;\n  open: (d: number) => void;\n  close: (d: number) => void;\n  bundles: Bundles.bundleState[];\n  bundleCount: number;\n} & req_NotebookDate_Props;\n\nclass DateSection extends React.Component<NotebookDate_Props, any> {\n  private _isMounted = false;\n\n  constructor(props: NotebookDate_Props) {\n    super(props);\n    this.state = { bundles: props.bundles };\n  }\n  componentDidMount() {\n    this._isMounted = true;\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this._isMounted && this.props.bundleCount !== prevProps.bundleCount) {\n      this.setState({ bundles: this.props.bundles });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <div\n          className={DATE_HEADER}\n          onClick={() => {\n            if (this.props.isOpen) this.props.close(this.props.date_id);\n            else this.props.open(this.props.date_id);\n          }}\n        >\n          {this.showArrow()}\n          <div className={DATE_HEADER_LABEL}>\n            {Checkpoint.formatDate(this.props.date)}\n          </div>\n          <div className={DATE_HEADER_COLLAPSE}>\n            <div>({this.props.events?.length})</div>\n          </div>\n        </div>\n        <div>{this.props.isOpen ? this.makeBundles() : null}</div>\n      </div>\n    );\n  }\n\n  private showArrow() {\n    if (this.props.isOpen) return <ChevronDownIcon />;\n    return <ChevronRightIcon />;\n  }\n\n  private makeBundles() {\n    // Creates bundle for each set of checkpoints\n    return this.state.bundles.map((_, i) => (\n      <EventBundle key={i} bundle_id={i} date_id={this.props.date_id} />\n    ));\n  }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    open: (d) => dispatch(dateOpen(d)),\n    close: (d) => dispatch(dateClose(d)),\n  };\n};\n\nconst mapStateToProps = (\n  state: verdantState,\n  ownProps: req_NotebookDate_Props\n) => {\n  let dateState = state.eventView?.dates[ownProps.date_id];\n  return {\n    date: dateState?.date,\n    events: dateState?.events,\n    isOpen: dateState?.isOpen,\n    bundles: dateState?.bundles,\n    bundleCount: dateState?.bundles?.length || 0,\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DateSection);\n","import * as React from \"react\";\nimport NotebookEvent from \"./event\";\nimport { connect } from \"react-redux\";\nimport { verdantState, bundleClose, bundleOpen } from \"../../redux\";\nimport NotebookEventLabel from \"./event-label\";\nimport MiniMap from \"./mini-map\";\nimport { Namer } from \"../../../verdant-model/sampler\";\nimport { History } from \"../../../verdant-model/history\";\nimport { ChevronRightIcon, ChevronDownIcon } from \"../../icons\";\nimport { CellRunData, Checkpoint } from \"src/verdant-model/checkpoint\";\n\n/* CSS Constants */\nconst BUNDLE_MULTI_BODY = `Verdant-events-bundle-multi-body`;\nconst BUNDLE_MULTI_FOOTER = `Verdant-events-bundle-multi-footer`;\nconst BUNDLE_MULTI_FOOTER_LINE = `${BUNDLE_MULTI_FOOTER}-line`;\nconst BUNDLE_MULTI_FOOTER_SPACER = `${BUNDLE_MULTI_FOOTER}-spacer`;\n\ntype req_Bundle_Props = {\n  date_id: number;\n  bundle_id: number; // Index of bundle in date\n};\n\ntype Bundle_Props = {\n  // provided by redux store\n  isOpen: boolean;\n  open: (d: number, b: number) => void;\n  close: (d: number, b: number) => void;\n  targets: CellRunData[];\n  checkpoints: Checkpoint[];\n  history: History;\n} & req_Bundle_Props;\n\nclass EventBundle extends React.Component<Bundle_Props> {\n  render() {\n    if (!this.props.checkpoints) return null;\n    if (this.props.checkpoints.length === 1) return this.renderSingle();\n    return this.renderBundle();\n  }\n\n  renderSingle() {\n    /* Render a single event (no bundle) */\n    return (\n      <div className=\"Verdant-events-bundle-single\">\n        <NotebookEvent checkpoint={this.props.checkpoints[0]} />\n      </div>\n    );\n  }\n\n  renderBundle() {\n    /* Render a bundle of events */\n\n    const close = () =>\n      this.props.close(this.props.date_id, this.props.bundle_id);\n\n    const open = () =>\n      this.props.open(this.props.date_id, this.props.bundle_id);\n\n    return (\n      <div>\n        {this.props.isOpen ? (\n          <>\n            <div\n              className=\"Verdant-events-bundle-multi-header\"\n              onClick={() => close()}\n            >\n              {this.showArrow()}\n              <div className=\"Verdant-events-bundle-multi-header-container\">\n                {this.renderBundleHeaderOpen()}\n              </div>\n            </div>\n            {this.renderBundleBody()}\n            {this.renderBundleFooter()}\n          </>\n        ) : (\n          <div\n            className=\"Verdant-events-bundle-multi-header\"\n            onClick={() => open()}\n          >\n            {this.showArrow()}\n            <div className=\"Verdant-events-bundle-multi-header-container\">\n              {this.renderBundleHeaderClosed()}\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  private showArrow() {\n    if (this.props.isOpen)\n      return (\n        <div className=\"Verdant-events-bundle-multi-header-arrow open\">\n          <ChevronDownIcon />\n        </div>\n      );\n    return (\n      <div className=\"Verdant-events-bundle-multi-header-arrow\">\n        <ChevronRightIcon />\n      </div>\n    );\n  }\n\n  renderBundleHeaderClosed() {\n    /* Render the header for a closed bundle of events */\n    const firstNotebook = this.props.history.store.getNotebook(\n      this.props.checkpoints[0].notebook\n    );\n    const lastNotebook = this.props.history.store.getNotebook(\n      this.props.checkpoints[this.props.checkpoints.length - 1].notebook\n    );\n\n    return (\n      <div className=\"Verdant-events-event bundle\">\n        <div className=\"Verdant-events-event-stamp\">\n          <NotebookEventLabel events={this.props.checkpoints} />\n        </div>\n        <div className=\"Verdant-events-event-row-index\">\n          {`${Namer.getNotebookVersionLabel(firstNotebook)} - \n              ${Namer.getNotebookVersionLabel(lastNotebook)}`}\n        </div>\n        <div className=\"Verdant-events-event-row-map\">\n          <MiniMap\n            targets={this.props.targets}\n            notebook_ver={this.props.checkpoints[0]?.notebook}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  renderBundleHeaderOpen() {\n    /* Render the header for an open bundle of events */\n    const firstNotebook = this.props.history.store.getNotebook(\n      this.props.checkpoints[0].notebook\n    );\n    const lastNotebook = this.props.history.store.getNotebook(\n      this.props.checkpoints[this.props.checkpoints.length - 1].notebook\n    );\n\n    return (\n      <div className=\"Verdant-events-bundle-multi-header-container open\">\n        {`${Namer.getNotebookVersionLabel(firstNotebook)} - \n              ${Namer.getNotebookVersionLabel(lastNotebook)}`}\n      </div>\n    );\n  }\n\n  renderBundleBody() {\n    /* Render the individual events of the body of the bundle */\n    return (\n      <div className={BUNDLE_MULTI_BODY}>\n        {this.props.checkpoints.map((checkpoint, index) => {\n          return <NotebookEvent key={index} checkpoint={checkpoint} />;\n        })}\n      </div>\n    );\n  }\n\n  renderBundleFooter() {\n    /* Render the bottom of an open bundle */\n    return (\n      <div className={BUNDLE_MULTI_FOOTER}>\n        <div className={BUNDLE_MULTI_FOOTER_LINE}></div>\n        <div className={BUNDLE_MULTI_FOOTER_SPACER}></div>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    open: (d, b) => dispatch(bundleOpen(d, b)),\n    close: (d, b) => dispatch(bundleClose(d, b)),\n  };\n};\n\nconst mapStateToProps = (state: verdantState, ownProps: req_Bundle_Props) => {\n  const history = state.getHistory();\n  const bundle =\n    state.eventView.dates[ownProps.date_id].bundles[ownProps.bundle_id];\n  const targets = bundle?.bundleTargets;\n  const checkpoints = bundle?.bundleEvents?.map(\n    (ev) => state.eventView.dates[ownProps.date_id].events[ev]\n  );\n  const changeCount = bundle ? Object.keys(bundle?.bundleTargets).length : -1;\n\n  return {\n    isOpen: bundle?.isOpen,\n    changeCount,\n    history,\n    checkpoints,\n    targets,\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EventBundle);\n","import * as React from \"react\";\nimport { Checkpoint } from \"../../../verdant-model/checkpoint\";\n\nconst LABEL = \"Verdant-events-label\";\n\ntype timeLabel = {\n  time: string;\n  events: Checkpoint[];\n};\n\ntype req_EventLabel_Props = {\n  events?: Checkpoint[];\n};\ntype EventLabel_Props = {\n  events: Checkpoint[];\n} & req_EventLabel_Props;\ntype EventLabel_State = {\n  times: timeLabel[];\n};\n\nclass NotebookEventLabel extends React.Component<\n  EventLabel_Props,\n  EventLabel_State\n> {\n  private _isMounted = false;\n\n  constructor(props: EventLabel_Props) {\n    super(props);\n    let times: timeLabel[] = [];\n    this.props.events?.map((ev) => this.addEvent(ev, times));\n    this.state = {\n      times,\n    };\n  }\n\n  render() {\n    return <div className={LABEL}>{this.makeTimestamp()}</div>;\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  componentDidUpdate(prevProps) {\n    if (\n      this._isMounted &&\n      this.props.events?.length !== prevProps.events?.length\n    ) {\n      let times: timeLabel[] = [];\n      this.props.events?.map((ev) => this.addEvent(ev, times));\n      this.setState({ times: times });\n    }\n  }\n\n  // Create timestamp element\n  makeTimestamp() {\n    const times = this.state.times;\n    if (times.length == 1) {\n      return <div> {times[0].time} </div>;\n    } else {\n      let firstTime = times[0].time;\n      return <div>{`${firstTime}...`}</div>;\n    }\n  }\n\n  public addEvent(event: Checkpoint, times: timeLabel[]) {\n    let time = Checkpoint.formatTime(event.timestamp);\n\n    let matchTime = times.filter((item) => item.time === time)[0];\n    if (!matchTime) {\n      matchTime = {\n        time: time,\n        events: [],\n      };\n      times.push(matchTime);\n    }\n\n    // add to start since assume it will be a later time\n    matchTime.events.unshift(event);\n  }\n}\n\nexport default NotebookEventLabel;\n","import * as React from \"react\";\nimport { connect } from \"react-redux\";\nimport NotebookEventLabel from \"./event-label\";\nimport MiniMap from \"./mini-map\";\nimport { verdantState } from \"../../redux/\";\nimport { NodeyNotebook } from \"../../../verdant-model/nodey\";\nimport { Namer } from \"../../../verdant-model/sampler\";\nimport { Checkpoint } from \"src/verdant-model/checkpoint\";\n\ntype react_NotebookEvent_Props = {\n  checkpoint: Checkpoint;\n};\n\ntype NotebookEvent_Props = {\n  // provided by redux store\n  notebook: NodeyNotebook;\n  openGhostBook: () => void;\n  currentGhostBook: () => boolean;\n} & react_NotebookEvent_Props;\n\nclass NotebookEvent extends React.Component<NotebookEvent_Props> {\n  render() {\n    const ghostOpen = this.props.currentGhostBook();\n    return (\n      <div className={`Verdant-events-event${ghostOpen ? \" ghostOpen\" : \"\"}`}>\n        <div className=\"Verdant-events-event-stamp\">\n          <NotebookEventLabel events={[this.props.checkpoint]} />\n        </div>\n        <div\n          className=\"Verdant-events-event-row-index verdant-link\"\n          onClick={this.props.openGhostBook}\n        >\n          {Namer.getNotebookVersionLabel(this.props.notebook)}\n        </div>\n        <div className=\"Verdant-events-event-row-map\">\n          <MiniMap\n            targets={this.props.checkpoint.targetCells}\n            notebook_ver={this.props?.notebook?.version}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (\n  state: verdantState,\n  ownProps: react_NotebookEvent_Props\n) => {\n  const notebook = state\n    .getHistory()\n    .store.getNotebook(ownProps.checkpoint.notebook);\n  return {\n    openGhostBook: () =>\n      notebook ? state.openGhostBook(ownProps.checkpoint.notebook) : null,\n    notebook,\n    currentGhostBook: () => notebook?.version === state.ghostBook.notebook_ver,\n  };\n};\n\nexport default connect(mapStateToProps)(NotebookEvent);\n","import * as React from \"react\";\nimport DateSection from \"./date-section\";\nimport { connect } from \"react-redux\";\nimport { verdantState, dateState } from \"../../redux\";\n\nconst PANEL = \"v-VerdantPanel-content\";\n\ntype EventColumn_Props = {\n  ready: boolean;\n  dates: dateState[];\n  currentDate: number;\n};\n\nclass EventColumn extends React.Component<\n  EventColumn_Props,\n  { dates: dateState[] }\n> {\n  constructor(props: EventColumn_Props) {\n    super(props);\n\n    // having both a state and props for dates seems weird\n    // but trying to get view to actually update on a new date (it's not doing it correctly)\n    this.state = { dates: [...this.props.dates] };\n  }\n\n  componentDidUpdate(priorProps: EventColumn_Props) {\n    if (this.props.currentDate !== priorProps.currentDate) {\n      this.setState({ dates: this.props.dates || [] });\n    }\n  }\n\n  render() {\n    if (this.props.ready) {\n      return (\n        <div className={PANEL}>\n          {this.state.dates.map((_, index) => {\n            let reverse = this.state.dates.length - 1 - index;\n            return <DateSection key={reverse} date_id={reverse} />;\n          })}\n        </div>\n      );\n    } else return null; //TODO loading placeholder?\n  }\n}\n\nconst mapStateToProps = (state: verdantState) => {\n  return {\n    ready: state.eventView.ready,\n    dates: state.eventView.dates,\n    currentDate: state.eventView?.dates?.length - 1 || -1,\n  };\n};\n\nexport default connect(mapStateToProps, null)(EventColumn);\n","import * as React from \"react\";\nimport { CellRunData, ChangeType } from \"../../../verdant-model/checkpoint\";\nimport { Namer } from \"../../../verdant-model/sampler\";\nimport { History } from \"../../../verdant-model/history\";\nimport { Nodey } from \"../../../verdant-model/nodey\";\nimport { verdantState, showDetailOfNode } from \"../../redux\";\nimport ReactTooltip from \"react-tooltip\";\nimport { connect } from \"react-redux\";\n\ntype EventMap_Props = {\n  targets: CellRunData[];\n  notebook_ver: number;\n  notebook_length: number;\n  history: History;\n  showDetail: (n: Nodey) => void;\n};\n\nclass MiniMap extends React.Component<EventMap_Props> {\n  render() {\n    return <div className=\"Verdant-events-map\">{this.showMap()}</div>;\n  }\n\n  showMap() {\n    const tick_width = 3;\n    let width = `${this.props.notebook_length * tick_width}px`;\n    return (\n      <div\n        className=\"Verdant-events-map-background\"\n        style={{ width }}\n        data-tip={`${this.props.notebook_length} cells in this notebook`}\n      >\n        {this.props.targets.map((dat, j_index) => {\n          let left = `${dat.index * tick_width}px`;\n          let color = dat.changeType.replace(/ /g, \"_\");\n\n          let nodey = this.props.history.store.get(dat.cell);\n          let tooltip_msg = Namer.describeChange(nodey, [dat.changeType]);\n          return (\n            <div\n              className={`Verdant-events-map-cell target tic ${color}`}\n              style={{ left }}\n              data-tip={tooltip_msg}\n              key={j_index}\n              onClick={() => {\n                const nodey = this.props.history.store?.get(dat?.cell);\n                if (nodey) this.props.showDetail(nodey);\n              }}\n            ></div>\n          );\n        })}\n        <ReactTooltip />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (\n  state: verdantState,\n  ownProps: Partial<EventMap_Props>\n) => {\n  const history = state.getHistory();\n  const notebook = history?.store?.getNotebook(ownProps.notebook_ver);\n  let notebook_length = notebook?.cells?.length || 0;\n  ownProps.targets?.forEach((target) => {\n    if (target.changeType === ChangeType.REMOVED) notebook_length++;\n  });\n  return {\n    history: state.getHistory(),\n    notebook_length,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    showDetail: (n: Nodey) => dispatch(showDetailOfNode(n)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MiniMap);\n","import * as React from \"react\";\nimport ArtifactDetails from \"./details\";\nimport ArtifactSummary from \"./summary\";\nimport EventMap from \"./events\";\nimport Search from \"./search\";\nimport { ActiveTab, switchTab, verdantState } from \"../redux\";\nimport { SearchIcon } from \"../icons\";\nimport { connect } from \"react-redux\";\n\nconst PANEL_CONTAINER = \"v-VerdantPanel-content-container\";\nconst TAB_CONTAINER = \"v-VerdantPanel-tabContainer\";\nconst TAB = \"v-VerdantPanel-tab\";\n\ntype Panel_Props = {\n  activeTab: ActiveTab;\n  showingDetail: boolean;\n  setActiveTab: (n: ActiveTab) => void;\n};\n\nclass PanelContainer extends React.Component<Panel_Props> {\n  render() {\n    return (\n      <div className=\"v-VerdantPanel\">\n        {this.buildHeader()}\n        <div className={PANEL_CONTAINER}>{this.showTab()}</div>\n      </div>\n    );\n  }\n\n  private buildHeader() {\n    let active = this.props.activeTab;\n    return (\n      <div className={TAB_CONTAINER}>\n        <div\n          className={`${TAB} ${active === ActiveTab.Events ? \"active\" : \"\"}`}\n          onClick={() => this.props.setActiveTab(ActiveTab.Events)}\n        >\n          Activity\n        </div>\n        <div\n          className={`${TAB} ${\n            active === ActiveTab.Artifacts ||\n            active === ActiveTab.Artifact_Details\n              ? \"active\"\n              : \"\"\n          }`}\n          onClick={() =>\n            this.props.setActiveTab(\n              this.props.showingDetail\n                ? ActiveTab.Artifact_Details\n                : ActiveTab.Artifacts\n            )\n          }\n        >\n          Artifacts\n        </div>\n        <div\n          className={`${TAB} ${active === ActiveTab.Search ? \"active\" : \"\"}`}\n          onClick={() => this.props.setActiveTab(ActiveTab.Search)}\n          style={{ borderRightWidth: \"0px\" }}\n        >\n          <SearchIcon />\n        </div>\n      </div>\n    );\n  }\n\n  showTab() {\n    let active = this.props.activeTab;\n    if (active === ActiveTab.Events) return <EventMap />;\n    if (active === ActiveTab.Artifacts) return <ArtifactSummary />;\n    if (active === ActiveTab.Artifact_Details) return <ArtifactDetails />;\n    if (active === ActiveTab.Search) return <Search />;\n    return null;\n  }\n}\n\nconst mapStateToProps = (state: verdantState) => {\n  return {\n    activeTab: state.activeTab,\n    showingDetail: state.artifactView.showingDetail,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    setActiveTab: (name: ActiveTab) => dispatch(switchTab(name)),\n  };\n};\n\nconst Panel = connect(mapStateToProps, mapDispatchToProps)(PanelContainer);\n\nexport default Panel;\n","import * as React from \"react\";\nimport { connect } from \"react-redux\";\nimport { inspectOff, inspectOn, verdantState } from \"../redux/\";\nimport { InspectIcon } from \"../icons/\";\n\nclass InspectButton extends React.Component<{\n  active: boolean;\n  off: () => void;\n  on: () => void;\n}> {\n  componentWillUnmount() {\n    this.props.off();\n  }\n\n  render() {\n    return (\n      <div\n        className={`v-VerdantPanel-inspectorButton ${\n          this.props.active ? \"active\" : \"\"\n        }`}\n        onClick={(ev) => {\n          ev.stopPropagation();\n          if (this.props.active) this.props.off();\n          else this.props.on();\n          return false;\n        }}\n      >\n        <div className=\"v-VerdantPanel-inspectorButton-label\">\n          <span>Version Inspector</span>\n          <InspectIcon />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n  const ev = () => {\n    dispatch(inspectOff());\n  };\n  return {\n    on: () => {\n      dispatch(inspectOn());\n      document.addEventListener(\"click\", ev, { once: true });\n    },\n    off: () => {\n      dispatch(inspectOff());\n      document.removeEventListener(\"click\", ev);\n    },\n  };\n};\n\nconst mapStateToProps = (state: verdantState) => {\n  return {\n    active: state.artifactView.inspectOn,\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(InspectButton);\n","import * as React from \"react\";\nimport { searchResult } from \"../../../verdant-model/history\";\nimport SearchBar from \"./search-bar\";\nimport ResultsSection from \"./results-section\";\nimport { verdantState } from \"../../redux\";\nimport { connect } from \"react-redux\";\n\ntype Search_Props = {\n  results: searchResult[];\n  openResults: string[];\n};\n\nclass Search extends React.Component<Search_Props> {\n  render() {\n    return (\n      <div className=\"v-VerdantPanel-search\">\n        <SearchBar />\n        <div className=\"v-VerdantPanel-searchContent\">{this.showResults()}</div>\n      </div>\n    );\n  }\n\n  showResults() {\n    if (this.props.results.length > 0) {\n      return this.props.results.map((results, index) => {\n        return (\n          <ResultsSection\n            key={index}\n            results={results.results}\n            totalResults={results.count}\n            title={results.label}\n          />\n        );\n      });\n    }\n    return null;\n  }\n}\n\nconst mapStateToProps = (state: verdantState) => {\n  return {\n    openResults: state.search.openResults,\n    results: state.search.searchResults,\n  };\n};\n\nexport default connect(mapStateToProps)(Search);\n","import * as React from \"react\";\nimport { Nodey, NodeyOutput } from \"../../../verdant-model/nodey\";\nimport { History } from \"../../../verdant-model/history\";\nimport {\n  verdantState,\n  showDetailOfNode,\n  scrollToGhostCell,\n} from \"../../redux/\";\nimport { connect } from \"react-redux\";\nimport { Namer } from \"../../../verdant-model/sampler\";\n\ntype Result_Props = {\n  result: Nodey;\n  search_query: string | null;\n  openNodeDetails: (n: Nodey) => void;\n  openGhostBook: (n: number) => void;\n  scrollGhostToNodey: (n: Nodey) => void;\n  history: History;\n};\n\nclass Result extends React.Component<Result_Props, { sample: string }> {\n  constructor(props: Result_Props) {\n    super(props);\n    this.state = { sample: \"\" };\n  }\n\n  componentDidMount() {\n    this.props.history.ready.then(async () => {\n      let sample = await this.props.history.inspector.search.renderSearchCell(\n        this.props.result,\n        this.props.search_query\n      );\n\n      this.setState({ sample: sample.outerHTML });\n    });\n  }\n\n  render() {\n    let notebook = this.props.history.store.getNotebookOf(this.props.result);\n    let name = Namer.getVersionTitle(this.props.result);\n    if (this.props.result instanceof NodeyOutput)\n      name = Namer.getOutputVersionTitle(this.props.result, this.props.history);\n    return (\n      <div>\n        <div className=\"VerdantPanel-search-results-artifact-header list-result\">\n          <div>\n            <span\n              className=\"verdant-link\"\n              onClick={() => this.props.openNodeDetails(this.props.result)}\n            >\n              {name}\n            </span>\n            <span>{\" from \"}</span>\n            <span\n              className={notebook ? \"verdant-link\" : \"\"}\n              onClick={() => {\n                if (notebook && this.props.openGhostBook) {\n                  this.props.openGhostBook(notebook.version);\n                  this.props.scrollGhostToNodey(this.props.result);\n                }\n              }}\n            >\n              {Namer.getNotebookTitle(notebook)}\n            </span>\n          </div>\n        </div>\n        <div\n          className={\"v-VerdantPanel-search-version\"}\n          onClick={() => {\n            if (notebook && this.props.openGhostBook)\n              this.props.openGhostBook(notebook.version);\n          }}\n          dangerouslySetInnerHTML={{ __html: this.state.sample }}\n        ></div>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    openNodeDetails: (inspectTarget?: Nodey) => {\n      dispatch(showDetailOfNode(inspectTarget));\n    },\n    scrollGhostToNodey: (n: Nodey) => {\n      dispatch(scrollToGhostCell(n.name));\n    },\n  };\n};\n\nconst mapStateToProps = (state: verdantState) => {\n  return {\n    search_query: state.search.searchQuery,\n    history: state.getHistory(),\n    openGhostBook: state.openGhostBook,\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Result);\n","import * as React from \"react\";\nimport { Nodey } from \"../../../verdant-model/nodey\";\nimport { ChevronRightIcon, ChevronDownIcon } from \"../../icons\";\nimport ResultsSubSection from \"./results-subsection\";\nimport { connect } from \"react-redux\";\nimport { openResults, closeResults, verdantState } from \"../../redux/\";\n\ntype ResultsSection_Props = {\n  results: Nodey[][];\n  totalResults: number;\n  title: string;\n  // provided by redux store:\n  sectionOpen?: boolean;\n  openSection?: () => void;\n  closeSection?: () => void;\n};\n\nclass ResultsSection extends React.Component<ResultsSection_Props> {\n  render() {\n    return (\n      <div\n        className={`VerdantPanel-search-results-category${\n          this.props.sectionOpen ? \" open\" : \"\"\n        }`}\n      >\n        <div\n          className={`VerdantPanel-search-results-header${\n            this.props.sectionOpen ? \" open\" : \"\"\n          }`}\n          onClick={() => {\n            if (this.props.totalResults > 0) {\n              // don't open/close for empty results\n              if (this.props.sectionOpen)\n                this.props.closeSection ? this.props.closeSection() : null;\n              else this.props.openSection ? this.props.openSection() : null;\n            }\n          }}\n        >\n          {this.showIcon()}\n          <div className=\"VerdantPanel-search-results-header-title\">{`appears in (${\n            this.props.totalResults\n          }) ${this.props.title}${this.props.totalResults === 1 ? \"\" : \"s\"}\n          `}</div>\n        </div>\n        {this.showResults()}\n      </div>\n    );\n  }\n\n  showIcon() {\n    // don't open/close for empty results\n    if (this.props.totalResults > 0) {\n      if (this.props.sectionOpen) return <ChevronDownIcon />;\n      else return <ChevronRightIcon />;\n    }\n  }\n\n  showResults() {\n    if (this.props.sectionOpen)\n      return (\n        <div className=\"VerdantPanel-search-results-category-content\">\n          {this.props.results.map((item, index) => {\n            return (\n              <ResultsSubSection\n                key={index}\n                nodey={item[0]}\n                results={item}\n                sectionOpen={this.props.results.length < 2}\n              />\n            );\n          })}\n        </div>\n      );\n    return null;\n  }\n}\n\nconst mapDispatchToProps = (dispatch: any, ownProps: ResultsSection_Props) => {\n  return {\n    openSection: () => {\n      dispatch(openResults(ownProps.title));\n    },\n    closeSection: () => {\n      dispatch(closeResults(ownProps.title));\n    },\n  };\n};\n\nconst mapStateToProps = (\n  state: verdantState,\n  ownProps: ResultsSection_Props\n) => {\n  return {\n    sectionOpen: state.search.openResults.indexOf(ownProps.title) > -1,\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ResultsSection);\n","import * as React from \"react\";\nimport { Nodey, NodeyOutput } from \"../../../verdant-model/nodey\";\nimport { History } from \"../../../verdant-model/history\";\nimport {\n  verdantState,\n  showDetailOfNode,\n  scrollToGhostCell,\n  openResults,\n  closeResults,\n} from \"../../redux/\";\nimport { connect } from \"react-redux\";\nimport { Namer } from \"../../../verdant-model/sampler\";\nimport { ChevronRightIcon, ChevronDownIcon } from \"../../icons\";\nimport Result from \"./result\";\n\ntype component_Subsection_Props = {\n  nodey: Nodey;\n  results: Nodey[];\n  sectionOpen: boolean;\n};\n\ntype SubSection_Props = {\n  // provided by redux store:\n  search_query: string | null;\n  openSection: () => void;\n  closeSection: () => void;\n  history: History;\n  openNodeDetails: (n: Nodey) => void;\n  openGhostBook: (n: number) => void;\n  scrollGhostToNodey: (n: Nodey) => void;\n} & component_Subsection_Props;\n\nclass ResultsSubSection extends React.Component<\n  SubSection_Props,\n  { sample: string }\n> {\n  constructor(props: SubSection_Props) {\n    super(props);\n    this.state = { sample: \"\" };\n  }\n\n  componentDidMount() {\n    // load sample IF this result is a singleton\n    if (this.props.results.length < 2) {\n      this.props.history.ready.then(async () => {\n        let sample = await this.props.history.inspector.search.renderSearchCell(\n          this.props.results[0],\n          this.props.search_query\n        );\n\n        this.setState({ sample: sample.outerHTML });\n      });\n    }\n  }\n\n  render() {\n    if (this.props.results.length < 2) return this.showSingleton();\n    else return this.showResultsPreview();\n  }\n\n  showSingleton() {\n    let notebook = this.props.history.store.getNotebookOf(\n      this.props.results[0]\n    );\n    let name = Namer.getVersionTitle(this.props.results[0]);\n    if (this.props.results[0] instanceof NodeyOutput)\n      name = Namer.getOutputVersionTitle(\n        this.props.results[0] as NodeyOutput,\n        this.props.history\n      );\n    return (\n      <div className=\"VerdantPanel-search-results-artifact\">\n        <div className=\"VerdantPanel-search-results-artifact-header\">\n          <div\n            className=\"VerdantPanel-search-results-artifact-cell-title verdant-link\"\n            onClick={() => this.props.openNodeDetails(this.props.nodey)}\n          >\n            {this.showArtifactTitle()}\n          </div>\n          <div>\n            <span\n              className=\"verdant-link\"\n              onClick={() => this.props.openNodeDetails(this.props.results[0])}\n            >\n              {name}\n            </span>\n            <span>{\" from \"}</span>\n            <span\n              className=\"verdant-link\"\n              onClick={() => {\n                if (this.props.openGhostBook && notebook) {\n                  this.props.openGhostBook(notebook.version);\n                  this.props.scrollGhostToNodey(this.props.results[0]);\n                }\n              }}\n            >\n              {Namer.getNotebookTitle(notebook)}\n            </span>\n          </div>\n        </div>\n        <div\n          className={\"v-VerdantPanel-search-version\"}\n          dangerouslySetInnerHTML={{ __html: this.state.sample }}\n        ></div>\n      </div>\n    );\n  }\n\n  showResultsPreview() {\n    return (\n      <div\n        className={`VerdantPanel-search-results-artifact ${\n          this.props.sectionOpen ? \"open\" : \"\"\n        }`}\n      >\n        <div\n          className={`VerdantPanel-search-results-artifact-header${\n            this.props.sectionOpen ? \" open-artifact\" : \"\"\n          }`}\n          onClick={() => {\n            if (this.props.sectionOpen) this.props.closeSection();\n            else this.props.openSection();\n          }}\n        >\n          <div className=\"VerdantPanel-search-results-artifact-cell-title verdant-link\">\n            {this.showCaret()}\n            <span onClick={() => this.props.openNodeDetails(this.props.nodey)}>\n              {this.showArtifactTitle()}\n            </span>\n          </div>\n          <span>{`${this.props.results.length} matching versions`}</span>\n        </div>\n        {this.showFullResults()}\n      </div>\n    );\n  }\n\n  showCaret() {\n    if (this.props.sectionOpen) return <ChevronDownIcon />;\n    else return <ChevronRightIcon />;\n  }\n\n  showArtifactTitle() {\n    if (this.props.nodey instanceof NodeyOutput)\n      return Namer.getOutputTitle(this.props.nodey, this.props.history);\n    return Namer.getCellTitle(this.props.nodey);\n  }\n\n  showFullResults() {\n    if (this.props.sectionOpen) {\n      return this.props.results\n        .reverse()\n        .map((r, index) => <Result key={index} result={r} />);\n    }\n  }\n}\n\nconst mapDispatchToProps = (\n  dispatch: any,\n  ownProps: component_Subsection_Props\n) => {\n  return {\n    openNodeDetails: (inspectTarget?: Nodey) => {\n      dispatch(showDetailOfNode(inspectTarget));\n    },\n    openSection: () => {\n      dispatch(openResults(ownProps.nodey.artifactName));\n    },\n    closeSection: () => {\n      dispatch(closeResults(ownProps.nodey.artifactName));\n    },\n    scrollGhostToNodey: (n: Nodey) => {\n      dispatch(scrollToGhostCell(n.name));\n    },\n  };\n};\n\nconst mapStateToProps = (\n  state: verdantState,\n  ownProps: component_Subsection_Props\n) => {\n  return {\n    search_query: state.search.searchQuery,\n    history: state.getHistory(),\n    openGhostBook: state.openGhostBook,\n    sectionOpen:\n      ownProps.sectionOpen ||\n      state.search.openResults.indexOf(ownProps.nodey.artifactName) > -1,\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ResultsSubSection);\n","import * as React from \"react\";\nimport { SearchIcon, XIcon } from \"../../icons\";\nimport { searchForText, verdantState } from \"../../redux/\";\nimport { connect } from \"react-redux\";\n\ntype SearchBar_Props = {\n  searchFor: (string) => void;\n  searchQuery: string | null;\n};\n\ntype SearchBar_State = {\n  searchbox_text: string;\n  show_x: boolean;\n};\n\nclass SearchBar extends React.Component<SearchBar_Props, SearchBar_State> {\n  constructor(props: SearchBar_Props) {\n    super(props);\n    this.state = {\n      searchbox_text: props.searchQuery ? props.searchQuery : \"\",\n      show_x: false,\n    };\n  }\n\n  render() {\n    return (\n      <div\n        className=\"v-VerdantPanel-searchContainer\"\n        onMouseEnter={() => this.setState({ show_x: true })}\n        onMouseLeave={() => this.setState({ show_x: false })}\n      >\n        <SearchIcon />\n        <input\n          className=\"v-VerdantPanel-searchText\"\n          contentEditable={true}\n          placeholder=\"search history by keyword\"\n          value={this.state.searchbox_text}\n          onChange={(ev) => {\n            this.setState({ searchbox_text: ev.target.value });\n          }}\n          onKeyDown={(ev) => {\n            if (ev.keyCode === 13) {\n              ev.preventDefault();\n              ev.stopPropagation();\n              this.props.searchFor(this.state.searchbox_text);\n            }\n          }}\n        ></input>\n        <div\n          style={{\n            position: \"absolute\",\n            right: \"16px\",\n            display: this.state.show_x ? \"\" : \"none\",\n          }}\n          onClick={() => {\n            this.setState({ searchbox_text: \"\" });\n            this.props.searchFor(null);\n          }}\n        >\n          <XIcon />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    searchFor: (text: string) => dispatch(searchForText(text)),\n  };\n};\n\nconst mapStateToProps = (state: verdantState) => {\n  return {\n    searchQuery: state.search.searchQuery,\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchBar);\n","import * as React from \"react\";\nimport SummaryTable from \"./summary-table\";\nimport InspectorButton from \"../inspector-button\";\nimport { verdantState, artifactState } from \"../../redux\";\nimport { connect } from \"react-redux\";\nimport { Namer } from \"../../../verdant-model/sampler\";\nimport { History } from \"../../../verdant-model/history\";\n\nconst PANEL = \"v-VerdantPanel-content\";\nconst HEADER = \"v-VerdantPanel-tab-header\";\nconst SUMMARY_TITLE = \"v-VerdantPanel-Summary-title\";\n\nexport type ArtifactSummaryPane_Props = {\n  notebook: artifactState;\n  history: History;\n};\n\nclass ArtifactSummary extends React.Component<ArtifactSummaryPane_Props> {\n  render() {\n    let notebookNodey = this.props.history.store.getNotebook(\n      this.props.notebook.ver\n    );\n    return (\n      <div className={PANEL}>\n        <div className={HEADER}>\n          <span className={SUMMARY_TITLE}>\n            {this.props.notebook.file}\n            <b>{` ${Namer.getNotebookVersionLabel(notebookNodey)}`}</b>\n            {\" by \"}\n            <i>{\"artifact revisions:\"}</i>\n          </span>\n        </div>\n        <SummaryTable />\n        <InspectorButton />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: verdantState) => {\n  return {\n    notebook: state.notebookArtifact,\n    history: state.getHistory(),\n  };\n};\n\nexport default connect(mapStateToProps, null)(ArtifactSummary);\n","import { History } from \"../../../verdant-model/history\";\n\nimport { NodeyCell, NodeyOutput } from \"../../../verdant-model/nodey\";\n\nconst CELL_SAMPLE = \"v-VerdantPanel-cellList-sample\";\n\nexport namespace RowPreview {\n  export async function previewCell(historyModel: History, cell: NodeyCell) {\n    let sample = document.createElement(\"div\");\n    sample.classList.add(CELL_SAMPLE);\n    sample.classList.add(cell.typeChar);\n    let res = historyModel.inspector.sampleNode(cell);\n    sample.textContent = res[0];\n    if (cell.typeChar === \"m\") {\n      sample.classList.add(\"markdown\");\n      sample.classList.add(\"jp-RenderedHTMLCommon\");\n      sample.classList.add(\"markdown-sample\");\n      await historyModel.inspector.renderArtifactCell(cell, sample);\n    }\n\n    /*sample.addEventListener(\"click\", () => {\n      //TODO Try to get notebook to scroll to the cell clicked on\n    });*/\n    return sample;\n  }\n\n  export async function previewOutput(\n    historyModel: History,\n    output: NodeyOutput\n  ) {\n    let sample = document.createElement(\"div\");\n    sample.classList.add(CELL_SAMPLE);\n    await historyModel.inspector.renderArtifactCell(output, sample);\n    return sample;\n  }\n}\n","import * as React from \"react\";\nimport { connect } from \"react-redux\";\nimport { verdantState } from \"../../redux/\";\nimport { History } from \"../../../verdant-model/history\";\nimport { RowPreview } from \"./row-preview\";\nimport {\n  NodeyCell,\n  Nodey,\n  NodeyCode,\n  NodeyOutput,\n} from \"../../../verdant-model/nodey\";\nimport { Namer } from \"../../../verdant-model/sampler\";\n\ntype SummaryRow_Props = {\n  history?: History;\n  cell_index: number;\n  cell?: NodeyCell;\n  output?: NodeyOutput;\n  showDetails: (n: Nodey) => void;\n  focused: boolean;\n};\n\nexport class Row extends React.Component<\n  SummaryRow_Props,\n  { sample: string; output_sample: string }\n> {\n  constructor(props: SummaryRow_Props) {\n    super(props);\n    this.state = { sample: \"\", output_sample: \"\" };\n  }\n\n  componentDidMount() {\n    this.fetchArtifact();\n  }\n\n  private async fetchArtifact() {\n    if (this.props.history && this.props.cell) {\n      RowPreview.previewCell(this.props.history, this.props.cell).then(\n        (sample) => {\n          this.setState({ sample: sample.outerHTML });\n        }\n      );\n      if (this.props.output)\n        RowPreview.previewOutput(\n          this.props.history,\n          this.props.output\n        ).then((sample) => this.setState({ output_sample: sample.outerHTML }));\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <div\n          className={`v-VerdantPanel-Summary-table-row ${\n            this.props.cell ? this.props.cell.typeChar : \"\"\n          } ${this.props.focused ? \"focused\" : \"\"}`}\n          onClick={() =>\n            this.props.cell ? this.props.showDetails(this.props.cell) : null\n          }\n        >\n          <div className=\"v-VerdantPanel-Summary-table-row-name\">\n            {Namer.getCellShortTitle(this.props.cell)}\n          </div>\n          <div className=\"v-VerdantPanel-Summary-table-row-version\">\n            {Namer.getVersionNumberLabel(this.props.cell?.version)}\n          </div>\n          <div\n            className=\"v-VerdantPanel-Summary-table-row-sample\"\n            dangerouslySetInnerHTML={{ __html: this.state.sample }}\n          ></div>\n        </div>\n        {this.showOutput()}\n      </div>\n    );\n  }\n\n  showOutput() {\n    if (this.props.output) {\n      return (\n        <div\n          className={`v-VerdantPanel-Summary-table-row o ${\n            this.props.focused ? \"focused\" : \"\"\n          }`}\n          onClick={() =>\n            this.props.output ? this.props.showDetails(this.props.output) : null\n          }\n        >\n          <div className=\"v-VerdantPanel-Summary-table-row-name o\">\n            <div className=\"v-VerdantPanel-Summary-table-row-outputLabel\">\n              out\n            </div>\n          </div>\n          <div className=\"v-VerdantPanel-Summary-table-row-version\">\n            {Namer.getVersionNumberLabel(this.props.output?.version)}\n          </div>\n          <div\n            className=\"v-VerdantPanel-Summary-table-row-sample\"\n            dangerouslySetInnerHTML={{ __html: this.state.output_sample }}\n          ></div>\n        </div>\n      );\n    }\n    return null;\n  }\n}\n\nconst mapStateToProps = (state: verdantState, ownProps: SummaryRow_Props) => {\n  const history = state.getHistory();\n  const cellDat = state.cellArtifacts[ownProps.cell_index];\n  const cell = history.store.get(cellDat.name);\n  let output;\n  if (cell instanceof NodeyCode) {\n    let outputHist = history.store.getOutput(cell);\n    if (outputHist) output = outputHist.latest;\n  }\n  return {\n    history,\n    cell,\n    output,\n  };\n};\n\nexport const SummaryRow = connect(mapStateToProps)(Row);\n","import * as React from \"react\";\nimport { History } from \"../../../verdant-model/history\";\nimport { Nodey } from \"../../../verdant-model/nodey\";\nimport { connect } from \"react-redux\";\nimport { verdantState, showDetailOfNode, artifactState } from \"../../redux/\";\nimport { SummaryRow } from \"./summary-row\";\n\nexport type Summary_Props = {\n  history: History;\n  showDetails: (n: Nodey) => void;\n  cells: artifactState[];\n  notebook: artifactState | null;\n  artifact_count: number;\n  focused_cell: number | null;\n};\n\nclass SummaryTable extends React.Component<Summary_Props> {\n  render() {\n    return (\n      <div className=\"v-VerdantPanel-content\">\n        {this.showHeader()}\n        <div className=\"v-VerdantPanel-Summary-table\">{this.showTable()}</div>\n      </div>\n    );\n  }\n\n  private showHeader() {\n    return (\n      <div className=\"v-VerdantPanel-Summary-header\">\n        <div className=\"v-VerdantPanel-Summary-header-label cell\">cell</div>\n        <div className=\"v-VerdantPanel-Summary-header-label r\">\n          <b>revision</b>\n        </div>\n        <div className=\"v-VerdantPanel-Summary-header-label preview\">\n          preview\n        </div>\n      </div>\n    );\n  }\n\n  private showTable() {\n    return this.props.cells.map((c: artifactState, index: number) => {\n      return (\n        <SummaryRow\n          cell_index={index}\n          focused={this.props.focused_cell === index}\n          showDetails={this.props.showDetails}\n          key={c.name + \"_\" + index}\n        />\n      );\n    });\n  }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    showDetails: (n: Nodey) => {\n      dispatch(showDetailOfNode(n));\n    },\n  };\n};\n\nconst mapStateToProps = (state: verdantState) => {\n  return {\n    history: state.getHistory(),\n    cells: state.cellArtifacts,\n    notebook: state.notebookArtifact,\n    artifact_count: state.cellArtifacts.length,\n    focused_cell: state.focusedCell,\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SummaryTable);\n","export * from \"./viewStates/events\";\nexport * from \"./viewStates/ghost\";\nexport * from \"./notebook\";\nexport * from \"./state\";\nexport * from \"./viewStates/artifact-pane\";\nexport * from \"./viewStates/search\";\nexport { Bundles } from \"./viewStates/event-bundles\";\n","import { verdantState } from \"./state\";\nimport { History } from \"../../verdant-model/history\";\nimport { VerCell } from \"../../verdant-model/cell\";\nimport { INIT_EVENT_MAP, UPDATE_CHECKPOINT } from \"./viewStates/events\";\n\nconst FOCUS_CELL = \"FOCUS_CELL\";\n\nexport const focusCell = (cell_index: number) => {\n  return {\n    type: FOCUS_CELL,\n    cell_index,\n  };\n};\n\nexport type artifactState = {\n  name: string;\n  ver: number;\n  outputVer?: number;\n  file?: string;\n};\n\nexport type notebookState = {\n  focusedCell: number | null;\n  cellArtifacts: artifactState[];\n  notebookArtifact: artifactState | null;\n};\n\nexport const notebookStateInitialState = (): notebookState => {\n  return {\n    focusedCell: null,\n    cellArtifacts: [],\n    notebookArtifact: null,\n  };\n};\n\nexport const notebookReducer = (\n  state: verdantState,\n  action: any\n): verdantState => {\n  switch (action.type) {\n    case FOCUS_CELL:\n      return { ...state, focusedCell: action.cell_index };\n    case INIT_EVENT_MAP:\n    case UPDATE_CHECKPOINT:\n      // both of these cases require an update of notebook as well as event view\n      return {\n        ...state,\n        cellArtifacts: _cellReducer(state.getHistory()),\n        notebookArtifact: _notebookReducer(state.getHistory()),\n      };\n    default:\n      return state;\n  }\n};\n\nfunction _cellReducer(history: History): artifactState[] {\n  let cellList: artifactState[] = [];\n\n  history.notebook?.cells.forEach((cell: VerCell) => {\n    let name = cell?.model?.name;\n    let outputVer = 0;\n    if (cell.output) {\n      let latestOut = history.store.getLatestOf(cell.output);\n      if (latestOut) outputVer = latestOut.version;\n    }\n    let ver = cell.model?.version;\n\n    if (name && ver !== undefined) cellList.push({ name, ver, outputVer });\n  });\n\n  return cellList; // returns an empty list in error case\n}\n\nfunction _notebookReducer(history: History): artifactState | null {\n  const version = history?.notebook?.model?.version;\n  if (version === undefined || history?.notebook?.name === undefined)\n    return null; // error case only\n  return { name: \"\", ver: version, file: history.notebook?.name };\n}\n","import { History } from \"../../verdant-model/history\";\nimport { Nodey } from \"../../verdant-model/nodey\";\nimport { ghostState, ghostReduce, ghostInitialState } from \"./viewStates/ghost\";\nimport {\n  eventMapState,\n  eventReducer,\n  eventsInitialState,\n  INIT_EVENT_MAP,\n  UPDATE_CHECKPOINT,\n} from \"./viewStates/events\";\nimport {\n  notebookState,\n  notebookReducer,\n  notebookStateInitialState,\n} from \"./notebook\";\nimport {\n  artifactPaneState,\n  artifactPaneInitialState,\n  artifactReducer,\n} from \"./viewStates/artifact-pane\";\nimport {\n  searchState,\n  searchInitialState,\n  searchReducer,\n} from \"./viewStates/search\";\nimport { Wishbone } from \"../panel/details/wishbone\";\nimport { Checkpoint } from \"../../verdant-model/checkpoint\";\n\nconst SET_GHOST_OPENER = \"SET_GHOST_OPENER\";\nconst SWITCH_TAB = \"SWITCH_TAB\";\nconst INSPECT_TARGET = \"INSPECT_TARGET\";\nconst GOTO_EVENT = \"GOTO_EVENT\";\n\nexport const setGhostOpener = (fun: (notebook: number) => void) => {\n  return {\n    type: SET_GHOST_OPENER,\n    fun,\n  };\n};\n\nexport const switchTab = (name: ActiveTab) => {\n  return {\n    type: SWITCH_TAB,\n    tab: name,\n  };\n};\n\nexport const showDetailOfNode = (target?: Nodey) => {\n  return {\n    type: INSPECT_TARGET,\n    target,\n  };\n};\n\nexport const showEvent = (event: Checkpoint) => {\n  return { type: GOTO_EVENT, event };\n};\n\nexport enum ActiveTab {\n  Events,\n  Artifacts,\n  Artifact_Details,\n  Search,\n}\n\nexport type verdantState = {\n  getHistory: () => History;\n  openGhostBook: (notebook: number) => void;\n  eventView: eventMapState;\n  activeTab: ActiveTab;\n  artifactView: artifactPaneState;\n  search: searchState;\n  ghostBook: ghostState;\n} & notebookState;\n\nexport const createInitialState = (getHistory: () => History): verdantState => {\n  return {\n    getHistory: getHistory,\n    openGhostBook: (_: number) => {}, // default is do nothing\n    eventView: eventsInitialState(),\n    activeTab: ActiveTab.Events,\n    artifactView: artifactPaneInitialState(),\n    search: searchInitialState(),\n    ghostBook: ghostInitialState(),\n    ...notebookStateInitialState(),\n  };\n};\n\nexport const verdantReducer = (state: verdantState, action: any) => {\n  switch (action.type) {\n    case SET_GHOST_OPENER:\n      return { ...state, openGhostBook: action.fun };\n    case SWITCH_TAB:\n      let artifact_state = { ...state.artifactView };\n\n      // ensure inspect interaction is turned off when switching tab\n      if (state.artifactView.inspectOn) {\n        Wishbone.endWishbone(state.getHistory().notebook);\n        artifact_state.inspectOn = false;\n      }\n\n      // if transitioning from detail to summary, cancel the current inspect target\n      if (\n        state.activeTab === ActiveTab.Artifact_Details &&\n        action.tab === ActiveTab.Artifacts\n      ) {\n        artifact_state = artifactPaneInitialState();\n      }\n\n      // if transitioning to detail view, double-check there's a valid target\n      if (\n        action.tab === ActiveTab.Artifact_Details &&\n        !artifact_state.inspectTarget\n      ) {\n        action.tab = state.activeTab;\n        if (state.activeTab === ActiveTab.Artifact_Details)\n          action.tab = ActiveTab.Artifacts;\n      }\n\n      return {\n        ...state,\n        activeTab: action.tab,\n        artifactView: artifact_state,\n      };\n    case INSPECT_TARGET:\n      Wishbone.endWishbone(state.getHistory().notebook);\n      // showing details of a target will open the artifact detail view\n      if (action.target)\n        return {\n          ...state,\n          activeTab: ActiveTab.Artifact_Details,\n          artifactView: {\n            ...state.artifactView,\n            inspectTarget: action.target,\n            inspectOn: false,\n            showingDetail: true,\n            selectedArtifactDetail: action.target.name,\n          },\n        };\n      // otherwise, if there is no target, don't show detail view\n      else {\n        let tab = state.activeTab;\n        if (tab === ActiveTab.Artifact_Details) tab = ActiveTab.Artifacts;\n        return {\n          ...state,\n          activeTab: tab,\n          artifactView: artifactPaneInitialState(),\n        };\n      }\n    case INIT_EVENT_MAP:\n      return {\n        ...notebookReducer(state, action),\n        eventView: eventReducer(state, action),\n      };\n    case UPDATE_CHECKPOINT:\n      // both of these cases require an update of notebook as well as event view\n      let state_1 = notebookReducer(state, action);\n      return {\n        ...state_1,\n        eventView: eventReducer(state_1, action),\n      };\n    case GOTO_EVENT:\n      let tab = ActiveTab.Events;\n      return {\n        ...state,\n        activeTab: tab,\n      };\n    default:\n      let state_ev = notebookReducer(state, action);\n      return {\n        ...state_ev,\n        eventView: eventReducer(state_ev, action),\n        search: searchReducer(state_ev, action),\n        artifactView: artifactReducer(state_ev, action),\n        ghostBook: ghostReduce(state_ev, action),\n      };\n  }\n};\n","import { Nodey } from \"../../../verdant-model/nodey\";\nimport { verdantState } from \"../state\";\nimport { Wishbone } from \"../../panel/details/wishbone\";\n\nconst INSPECT_ON = \"INSPECT_ON\";\nconst INSPECT_OFF = \"INSPECT_OFF\";\nconst OPEN_PAIR = \"OPEN_PAIR\";\nconst CLOSE_PAIR = \"CLOSE_PAIR\";\nconst SELECT_ARTIFACT_DETAIL = \"SELECT_ARTIFACT_DETAIL\";\n\nexport const inspectOn = () => {\n  return {\n    type: INSPECT_ON,\n  };\n};\n\nexport const inspectOff = () => {\n  return {\n    type: INSPECT_OFF,\n  };\n};\n\nexport const openPair = (primaryNode) => {\n  return {\n    type: OPEN_PAIR,\n    primaryNode,\n  };\n};\n\nexport const closePair = (primaryNode) => {\n  return {\n    type: CLOSE_PAIR,\n    primaryNode,\n  };\n};\n\nexport const selectArtifactDetail = (name: string) => {\n  return {\n    type: SELECT_ARTIFACT_DETAIL,\n    name,\n  };\n};\n\nexport type artifactPaneState = {\n  showingDetail: boolean;\n  inspectOn: boolean;\n  inspectTarget: Nodey | null;\n  openDetailPairs: string[];\n  selectedArtifactDetail: string | null;\n};\n\nexport const artifactPaneInitialState = (): artifactPaneState => {\n  return {\n    showingDetail: false,\n    inspectOn: false,\n    inspectTarget: null,\n    openDetailPairs: [],\n    selectedArtifactDetail: null,\n  };\n};\n\nexport const artifactReducer = (\n  state: verdantState,\n  action: any\n): artifactPaneState => {\n  const artifactState = state.artifactView;\n  switch (action.type) {\n    case INSPECT_ON:\n      if (!artifactState.inspectOn) {\n        Wishbone.startWishbone(state.getHistory());\n      }\n      return { ...artifactState, inspectOn: true };\n    case INSPECT_OFF:\n      if (artifactState.inspectOn)\n        Wishbone.endWishbone(state.getHistory().notebook);\n      return { ...artifactState, inspectOn: false };\n    case OPEN_PAIR:\n      let openDetailPairs = state.artifactView.openDetailPairs;\n      openDetailPairs.push(action.primaryNode);\n      return { ...artifactState, openDetailPairs };\n    case CLOSE_PAIR:\n      let closeDetailPairs = state.artifactView.openDetailPairs;\n      closeDetailPairs = closeDetailPairs.filter(\n        (item) => item !== action.primaryNode\n      );\n      return { ...artifactState, openDetailPairs: closeDetailPairs };\n    case SELECT_ARTIFACT_DETAIL:\n      return { ...artifactState, selectedArtifactDetail: action.name };\n    default:\n      return artifactState;\n  }\n};\n","import { History } from \"../../../verdant-model/history\";\nimport { CellRunData, Checkpoint } from \"../../../verdant-model/checkpoint\";\nimport { NodeyNotebook } from \"src/verdant-model/nodey\";\n\nexport namespace Bundles {\n  /*\n   * - isOpen indicates if the bundle is open in thw activity pane UI\n   * - bundleEvents contains the indices of checkpoints in dateState.events\n   * that should be bundled together\n   * - bundleTargets is the cached data about what happens in this\n   * bundle that gives us enough information to quickly update the bundle and\n   * tell if the minimap for this bundle needs updating (needed if a checkpoint updates\n   * its target cells)\n   */\n  export type bundleState = {\n    isOpen: boolean;\n    bundleEvents: number[];\n    bundleTargets: CellRunData[];\n  };\n\n  export const bundleInitialState = (): bundleState => {\n    return { isOpen: false, bundleEvents: [], bundleTargets: [] };\n  };\n\n  /*\n   * CONDITIONS TO BUNDLE EVENTS\n   * 1. occur within the same time bound\n   * 2. notebooks A and B don't have conflicting cells at the same index\n   * 3. no events have conflicting events for the same cell\n   */\n  const MAX_INTERVAL = 300000; // Max bundle time interval in milliseconds\n\n  // compute bundles for all events in the list\n  export function computeBundles(event_list: Checkpoint[], history: History) {\n    let bundle_list: bundleState[] = [];\n    for (let i = 0; i < event_list.length; i++) {\n      bundle_list = bundleEvent(i, event_list, bundle_list, history);\n    }\n    return bundle_list;\n  }\n\n  // add just one event to bundles\n  export function bundleEvent(\n    event_idx: number,\n    event_list: Checkpoint[],\n    bundle_list: bundleState[],\n    history: History\n  ) {\n    const newEvent = Checkpoint.fromJSON(event_list[event_idx].toJSON()); // verify immutability\n    const newTargetCells = calcTargetCellNotebookIndex(newEvent, history);\n    const latestBundle = bundle_list[0];\n    if (latestBundle) {\n      const lastEvent = event_list[latestBundle?.bundleEvents[0]];\n\n      // 1) time bound check\n      let interval = newEvent?.timestamp - lastEvent?.timestamp;\n      if (interval && interval <= MAX_INTERVAL) {\n        // 2+3) check compatibility of events\n        let zippedTargets = zipTargets(\n          newTargetCells,\n          latestBundle.bundleTargets\n        );\n        if (zippedTargets) {\n          // OK to combine to latest bundle\n          latestBundle.bundleEvents.unshift(event_idx);\n          latestBundle.bundleTargets = zippedTargets;\n          bundle_list[0] = latestBundle;\n          return bundle_list;\n        }\n      }\n    }\n\n    // Conditions to bundle failed. Add this event to its own new bundle\n    let newBundle: bundleState = {\n      isOpen: false,\n      bundleEvents: [event_idx],\n      bundleTargets: newTargetCells,\n    };\n    bundle_list.unshift(newBundle);\n\n    return bundle_list;\n  }\n\n  export function updateBundleForEvent(\n    event_idx: number,\n    event_list: Checkpoint[],\n    bundle_list: bundleState[],\n    history: History\n  ) {\n    let event = Checkpoint.fromJSON(event_list[event_idx].toJSON()); // verify immutability\n\n    // first find the bundle that contains this event\n    let bundle_idx = bundle_list.findIndex((bundle) =>\n      bundle.bundleEvents.includes(event_idx)\n    );\n\n    if (bundle_idx > -1) {\n      let targetCells: CellRunData[] = calcTargetCellNotebookIndex(\n        event,\n        history\n      );\n      let bundle = bundle_list[bundle_idx];\n      let zippedTargets: CellRunData[] = targetCells;\n\n      // check that this event still works with its current bundle\n      let compatible = bundle.bundleEvents.every((ev) => {\n        let bundled_event = event_list[ev];\n        // skip this one\n        if (bundled_event && event_idx !== ev) {\n          let targets = calcTargetCellNotebookIndex(bundled_event, history);\n          zippedTargets = zipTargets(zippedTargets, targets);\n          return zippedTargets !== undefined;\n        } else return true; // compatible with yourself\n      });\n\n      if (compatible) {\n        bundle.bundleTargets = zippedTargets;\n        bundle_list[bundle_idx] = bundle;\n      }\n      // gotta kick out of this bundle\n      else {\n        // first get rid of this bundle since it no longer works\n        if (bundle_idx === 0) bundle_list.shift();\n        else bundle_list.splice(bundle_idx, 1);\n\n        // recalculate all the bundles this one on, yuck\n        for (\n          let i = bundle.bundleEvents[bundle.bundleEvents.length - 1];\n          i < event_list.length;\n          i++\n        ) {\n          bundle_list = bundleEvent(i, event_list, bundle_list, history);\n        }\n      }\n    }\n    return bundle_list;\n  }\n\n  // returns a combination of A and B if they are compatible and undefined otherwise\n  function zipTargets(\n    A: CellRunData[],\n    B: CellRunData[]\n  ): CellRunData[] | undefined {\n    let zipped = [...A];\n\n    // A and B can't contain competing changes to the same cell\n    // A and B can't have different cells assigned to the same index\n    let success = B.every((datB) => {\n      let match = A?.findIndex(\n        (datA) =>\n          sameArtifact(datA.cell, datB.cell) || datA.index === datB.index\n      );\n      if (match !== undefined && match > -1) {\n        // must be compatible on all dimensions\n        return (\n          sameArtifact(A[match].cell, datB.cell) &&\n          A[match].changeType === datB.changeType &&\n          A[match].index === datB.index\n        );\n      } else zipped.push(datB);\n      return true;\n    });\n\n    return success ? zipped : undefined;\n  }\n\n  function calcTargetCellNotebookIndex(\n    event: Checkpoint,\n    history: History\n  ): CellRunData[] {\n    const notebook_ver = event?.notebook;\n    let notebook: NodeyNotebook;\n    if (notebook_ver !== undefined) {\n      event.targetCells.forEach((runDat, i) => {\n        if (runDat.index === undefined) {\n          if (!notebook) notebook = history?.store?.getNotebook(notebook_ver);\n          let index = notebook?.cells?.indexOf(runDat.cell);\n          if (index !== undefined) event.targetCells[i].index = index;\n        }\n      });\n    }\n    return event.targetCells;\n  }\n}\n\nfunction sameArtifact(nameA: string, nameB: string) {\n  let artA = nameA.substring(0, nameA.lastIndexOf(\".\"));\n  let artB = nameB.substring(0, nameB.lastIndexOf(\".\"));\n  return artA === artB;\n}\n","import { History } from \"../../../verdant-model/history\";\nimport { Checkpoint } from \"../../../verdant-model/checkpoint\";\nimport { verdantState } from \"../state\";\nimport { Bundles } from \"./event-bundles\";\n\nexport const INIT_EVENT_MAP = \"INIT_EVENT_MAP\";\nexport const UPDATE_CHECKPOINT = \"UPDATE_CHECKPOINT\";\nconst ADD_EVENT = \"ADD_EVENT\";\nconst DATE_EXPAND = \"DATE_EXPAND\";\nconst SAVE_BUNDLES = \"SAVE_BUNDLES\";\nconst BUNDLE_EXPAND = \"BUNDLE_EXPAND\";\n\nexport const initEventMap = () => ({\n  type: INIT_EVENT_MAP,\n});\n\nexport const addEvent = (ev: Checkpoint) => ({\n  type: ADD_EVENT,\n  event: ev,\n});\n\nexport const updateCheckpoint = (event: Checkpoint) => {\n  return {\n    type: UPDATE_CHECKPOINT,\n    currentEvent: event,\n  };\n};\n\nexport const dateOpen = (date: number) => {\n  return {\n    type: DATE_EXPAND,\n    date: date,\n    open: true,\n  };\n};\n\nexport const dateClose = (date: number) => {\n  return {\n    type: DATE_EXPAND,\n    date: date,\n    open: false,\n  };\n};\n\nexport const bundleOpen = (date: number, bundle: number) => {\n  return {\n    type: BUNDLE_EXPAND,\n    date: date,\n    bundle_id: bundle,\n    open: true,\n  };\n};\n\nexport const bundleClose = (date: number, bundle: number) => {\n  return {\n    type: BUNDLE_EXPAND,\n    date: date,\n    bundle_id: bundle,\n    open: false,\n  };\n};\n\nexport type dateState = {\n  isOpen: boolean;\n  date: number;\n  events: Checkpoint[];\n  bundles: Bundles.bundleState[];\n};\n\n/* main state */\nexport type eventMapState = {\n  ready: boolean;\n  dates: dateState[];\n  currentEvent: Checkpoint | null;\n};\n\nexport const eventsInitialState = (): eventMapState => {\n  return { ready: false, dates: [] as dateState[], currentEvent: null };\n};\n\nexport const eventReducer = (\n  state: verdantState,\n  action: any\n): eventMapState => {\n  const eventView = state.eventView;\n  switch (action.type) {\n    case INIT_EVENT_MAP:\n      if (eventView.dates.length < 2)\n        return {\n          dates: reducer_initEventMap(state),\n          currentEvent: getInitialEvent(state.getHistory()),\n          ready: true,\n        };\n      else return eventView;\n    case UPDATE_CHECKPOINT:\n      if (action.currentEvent != eventView.currentEvent) {\n        return {\n          // update both event map and current event with new event\n          ...eventView,\n          currentEvent: action.currentEvent,\n          dates: reducer_addEvent(\n            action.currentEvent,\n            eventView.dates,\n            state.getHistory()\n          ),\n        };\n      } else {\n        // check if we need to update the mini map/bundle for currentEvent\n        let latestDate = eventView.dates[eventView.dates.length - 1];\n        if (latestDate) {\n          let latest = latestDate.events.length - 1;\n          let bundles = Bundles.updateBundleForEvent(\n            latest,\n            latestDate.events,\n            latestDate.bundles,\n            state.getHistory()\n          );\n          eventView.dates[eventView.dates.length - 1].bundles = bundles;\n        }\n\n        return eventView;\n      }\n    case ADD_EVENT:\n      return {\n        ...eventView,\n        dates: reducer_addEvent(\n          action.ev,\n          [...eventView.dates],\n          state.getHistory()\n        ),\n      };\n    case DATE_EXPAND:\n      const updatedElement = {\n        ...eventView.dates[action.date],\n        isOpen: action.open,\n      };\n      if (action.open === true && updatedElement.bundles.length < 1)\n        updatedElement.bundles = Bundles.computeBundles(\n          updatedElement.events,\n          state.getHistory()\n        );\n      return {\n        ...eventView,\n        dates: [\n          ...eventView.dates.slice(0, action.date),\n          updatedElement,\n          ...eventView.dates.slice(action.date + 1),\n        ],\n      };\n    case SAVE_BUNDLES:\n      const updatedBundles = {\n        ...eventView.dates[action.date],\n        bundles: action.bundles,\n      };\n      return {\n        ...eventView,\n        dates: [\n          ...eventView.dates.slice(0, action.date),\n          updatedBundles,\n          ...eventView.dates.slice(action.date + 1),\n        ],\n      };\n    case BUNDLE_EXPAND:\n      const bundleStates = eventView.dates[action.date].bundles;\n      bundleStates[action.bundle_id].isOpen = action.open;\n      const updatedDate = {\n        ...eventView.dates[action.date],\n        bundleStates: bundleStates,\n      };\n      return {\n        ...eventView,\n        dates: [\n          ...eventView.dates.slice(0, action.date),\n          updatedDate,\n          ...eventView.dates.slice(action.date + 1),\n        ],\n      };\n    default:\n      return eventView;\n  }\n};\n\nexport function reducer_addEvent(\n  newEvent: Checkpoint,\n  date_list: dateState[],\n  history: History\n): dateState[] {\n  /*\n   * first if event is obviously corrupt, ignore it!\n   */\n  if (\n    newEvent.notebook === undefined ||\n    newEvent.id === undefined ||\n    newEvent.targetCells?.length < 1\n  )\n    return;\n\n  let time = newEvent.timestamp;\n  let currentDate = date_list[date_list.length - 1];\n  let date: dateState;\n  let idx: number;\n  if (!currentDate || !Checkpoint.sameDay(time, currentDate.date)) {\n    // new date\n    let today = Date.now();\n    let newDate: dateState = {\n      isOpen: Checkpoint.sameDay(today, time), // only open by default if today's date\n      date: time,\n      events: [newEvent],\n      bundles: [],\n    };\n    date_list.push(newDate);\n    date = newDate;\n    idx = 0;\n  } else {\n    // to avoid duplicates, first verify that this event has not already been added\n    let latest = currentDate.events[currentDate.events.length - 1];\n    if (latest.id !== newEvent.id) {\n      idx = currentDate.events.push(newEvent) - 1;\n      date = currentDate;\n    }\n  }\n\n  // now add newEvent to bundles of the chosen date\n  if (date?.isOpen)\n    date.bundles = Bundles.bundleEvent(idx, date.events, date.bundles, history);\n\n  return date_list;\n}\n\nfunction reducer_initEventMap(state: verdantState) {\n  let dates = [] as dateState[];\n  state\n    .getHistory()\n    .checkpoints.all()\n    .forEach((event) => reducer_addEvent(event, dates, state.getHistory()));\n  return dates;\n}\n\nfunction getInitialEvent(history: History): Checkpoint {\n  let checkpoints = history.checkpoints.all();\n  return checkpoints[checkpoints.length - 1];\n}\n","import { verdantState } from \"../state\";\nimport { Checkpoint } from \"../../../verdant-model/checkpoint\";\nimport { DIFF_TYPE } from \"../../../verdant-model/sampler\";\n\nconst INIT_GHOSTBOOK = \"INIT_GHOSTBOOK\";\nconst SWITCH_GHOST_CELL = \"SWITCH_GHOST_CELL\";\nconst SCROLL_TO_CELL = \"SCROLL_TO_CELL\";\nconst CHANGE_DIFF_TYPE = \"CHANGE_DIFF_TYPE\";\nconst CLOSE_GHOSTBOOK = \"CLOSE_GHOSTBOOK\";\n\nexport const initGhostBook = (state: Partial<ghostState>) => {\n  return {\n    type: INIT_GHOSTBOOK,\n    state,\n  };\n};\n\nexport const closeGhostBook = () => {\n  return {\n    type: CLOSE_GHOSTBOOK,\n  };\n};\n\nexport const focusGhostCell = (cell_name: string) => {\n  return {\n    type: SWITCH_GHOST_CELL,\n    cell: cell_name,\n  };\n};\n\nexport const scrollToGhostCell = (cell_name: string) => {\n  return {\n    type: SCROLL_TO_CELL,\n    cell: cell_name,\n  };\n};\n\nexport const changeDiffType = (diff: DIFF_TYPE) => {\n  return {\n    type: CHANGE_DIFF_TYPE,\n    diff,\n  };\n};\n\nexport type ghostState = {\n  notebook_ver: number;\n  active_cell: string | undefined;\n  scroll_focus: string | undefined;\n  diff: DIFF_TYPE;\n  link_artifact: ((n: string) => void) | undefined;\n  changeGhostTitle: ((n: number) => void) | undefined;\n};\n\nexport const ghostInitialState = (): ghostState => {\n  return {\n    notebook_ver: -1,\n    active_cell: undefined,\n    scroll_focus: undefined,\n    diff: DIFF_TYPE.CHANGE_DIFF,\n    link_artifact: undefined,\n    changeGhostTitle: undefined,\n  };\n};\n\nexport type cellEffect =\n  | \"ADDED\"\n  | \"DELETED\"\n  | \"MOVED\"\n  | \"NEW_OUTPUT\"\n  | \"EDITED\";\n\nexport type ghostCellOutputState = {\n  name: string;\n  events: Checkpoint[];\n};\n\nexport const ghostReduce = (state: verdantState, action: any): ghostState => {\n  const ghost = state.ghostBook;\n  switch (action.type) {\n    case INIT_GHOSTBOOK: {\n      return { ...ghost, ...action.state };\n    }\n    case CLOSE_GHOSTBOOK:\n      return { ...ghost, notebook_ver: -1 };\n    case SWITCH_GHOST_CELL:\n      return {\n        ...ghost,\n        active_cell: action.cell,\n      };\n    case SCROLL_TO_CELL:\n      return { ...ghost, scroll_focus: action.cell, active_cell: action.cell };\n    case CHANGE_DIFF_TYPE:\n      return { ...ghost, diff: action.diff };\n    default:\n      return ghost;\n  }\n};\n","import { verdantState } from \"../state\";\nimport { History, searchResult } from \"../../../verdant-model/history\";\n\nconst SEARCH_FOR = \"SEARCH_FOR\";\nconst OPEN_RESULTS = \"OPEN_RESULTS\";\nconst CLOSE_RESULTS = \"CLOSE_RESULTS\";\n\nexport const searchForText = (query: string) => {\n  return {\n    type: SEARCH_FOR,\n    query,\n  };\n};\n\nexport const openResults = (label: string) => {\n  return { type: OPEN_RESULTS, label };\n};\n\nexport const closeResults = (label: string) => {\n  return { type: CLOSE_RESULTS, label };\n};\n\nexport type searchState = {\n  searchQuery: string | null;\n  searchResults: searchResult[];\n  openResults: string[];\n};\n\nexport const searchInitialState = (): searchState => {\n  return {\n    searchQuery: null,\n    searchResults: [],\n    openResults: [],\n  };\n};\n\nexport const searchReducer = (\n  state: verdantState,\n  action: any\n): searchState => {\n  let search_state = state.search;\n  switch (action.type) {\n    case SEARCH_FOR:\n      return {\n        ...search_state,\n        searchQuery: action.query,\n        openResults: [],\n        searchResults: search(action.query, state.getHistory()),\n      };\n    case OPEN_RESULTS:\n      let openLabels = search_state.openResults;\n      const mainLabels = [\"code cell\", \"output\", \"markdown cell\"];\n      if (mainLabels.includes(action.label))\n        openLabels = openLabels.filter((l) => !mainLabels.includes(l));\n      openLabels.push(action.label);\n      return { ...search_state, openResults: openLabels };\n    case CLOSE_RESULTS:\n      let closeLabels = search_state.openResults;\n      closeLabels = closeLabels.filter((l) => l != action.label);\n      return { ...search_state, openResults: closeLabels };\n    default:\n      return state.search;\n  }\n};\n\nfunction search(query: string, history: History) {\n  query = query?.trim();\n  if (query && query.length > 0) return history?.store?.search(query);\n  return [];\n}\n","import { Store } from \"redux\";\nimport { Cell } from \"@jupyterlab/cells\";\nimport { AST } from \"../verdant-model/analysis/ast\";\nimport { History } from \"../verdant-model/history\";\nimport { VerNotebook } from \"../verdant-model/notebook\";\nimport { VerCell } from \"../verdant-model/cell\";\nimport { NotebookPanel } from \"@jupyterlab/notebook\";\nimport {\n  showDetailOfNode,\n  focusCell,\n  updateCheckpoint,\n  initEventMap,\n} from \"./redux/\";\nimport { Nodey } from \"../verdant-model/nodey\";\nimport { VerdantLog } from \"./logger\";\nimport { NotebookEvent } from \"../verdant-model/notebook-events\";\nimport { Signal } from \"@lumino/signaling\";\n\nexport class VerdantNotebook extends VerNotebook {\n  private store: Store;\n  readonly logger: VerdantLog;\n\n  constructor(\n    history: History,\n    ast: AST,\n    notebookArea: NotebookPanel,\n    store: Store,\n    logger: VerdantLog\n  ) {\n    super(history, ast, notebookArea);\n    this.store = store;\n    this.logger = logger;\n    this.logger.setNotebook(this);\n\n    // connect to keep inspect up to date in model and UI side\n    history.ready.then(async () => {\n      // wait until notebook is loaded\n      await history.notebook.ready;\n\n      // signal to load event map UI data\n      this.store.dispatch(initEventMap());\n\n      // connect to make sure inspector works with redux store\n      history.inspector.target.changed().connect((_: any, nodey: Nodey) => {\n        this.store.dispatch(showDetailOfNode(nodey));\n      });\n    });\n  }\n\n  public dispose() {\n    // clear any event listener connections on shutdown\n    Signal.clearData(this);\n    this.view.dispose();\n  }\n\n  public async handleNotebookEvent(event: NotebookEvent) {\n    let checkpoint = await super.handleNotebookEvent(event);\n    if (checkpoint?.notebook) {\n      // check that the checkpoint was recorded\n      this.store.dispatch(updateCheckpoint(checkpoint));\n      let eventType = event.constructor.name;\n      if (eventType === \"SaveNotebook\") this.logger.saveLog();\n    }\n    return checkpoint;\n  }\n\n  public async focusCell(cell: Cell): Promise<VerCell> {\n    let verCell = super.focusCell(cell);\n    verCell.then((cell) => {\n      if (cell) {\n        let index = this.cells.indexOf(cell);\n        this.store.dispatch(focusCell(index));\n      }\n    });\n    return verCell;\n  }\n}\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    // eslint-disable-next-line no-param-reassign\n    options = {};\n  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign\n\n\n  url = url && url.__esModule ? url.default : url;\n\n  if (typeof url !== 'string') {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    // eslint-disable-next-line no-param-reassign\n    url = url.slice(1, -1);\n  }\n\n  if (options.hash) {\n    // eslint-disable-next-line no-param-reassign\n    url += options.hash;\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n'), \"\\\"\");\n  }\n\n  return url;\n};","\"use strict\";\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./activity.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./activity.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./artifact-details.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./artifact-details.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./ghost.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./ghost.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./index.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./index.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./landing.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./landing.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./sampler.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./sampler.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./search.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./search.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./summary.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./summary.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./verdant-panel.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./verdant-panel.css\";\n       export default content && content.locals ? content.locals : undefined;\n","module.exports = \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='16' viewBox='0 0 10 16'%3E%3Cpath fill-rule='evenodd' d='M5 11L0 6l1.5-1.5L5 8.25 8.5 4.5 10 6l-5 5z'/%3E%3C/svg%3E\"","module.exports = \"data:image/svg+xml,%3Csvg width='7px' height='10px' viewBox='0 0 7 10' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3Ctitle%3Echevron-right@3x%3C/title%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cg id='chevron-right' fill='%23000000' fill-rule='nonzero'%3E %3Cpolygon id='Path' points='6.5 5 1.5 10 0 8.5 3.75 5 0 1.5 1.5 0'%3E%3C/polygon%3E %3C/g%3E %3C/g%3E %3C/svg%3E\"","module.exports = \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12.08 12.02'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%238ccced;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3Eghost-book%3C/title%3E%3Cg id='Layer_2' data-name='Layer 2'%3E%3Cg id='Layer_1-2' data-name='Layer 1'%3E%3Cpath class='cls-1' d='M9.06,9.65,7.81,8.08a.2.2,0,0,0-.26,0L6.17,9.85a.2.2,0,0,1-.26,0L4.53,8.08a.2.2,0,0,0-.26,0L3,9.65a.18.18,0,0,1-.33-.13V5.19A3.08,3.08,0,0,1,5.71,2h.66a3.09,3.09,0,0,1,3,3.15v4.4C9.39,9.72,9.19,9.78,9.06,9.65Z'/%3E%3Cpath class='cls-1' d='M11.1,1V11.1H1V1H11.1m1-1H0V12H12l.07-12Z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\"","module.exports = __webpack_public_path__ + \"4f3a0b123bd6444bc928ed88841f256aeaa42a8a46e055b315137ff42ccab76d.svg\";","module.exports = \"data:image/svg+xml,%3Csvg width='17px' height='19px' viewBox='0 0 17 19' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3Ctitle%3Esearch%3C/title%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cg id='search' fill='%23616161' fill-rule='nonzero'%3E %3Cpath d='M9.45,0.14 C11.2900692,0.502057921 12.9100569,1.58232732 13.9516132,3.14184676 C14.9931695,4.70136621 15.3704507,6.61160213 15,8.45 C14.6809649,10.0269313 13.8508239,11.3918435 12.7030657,12.3860197 L16.45,17.25 C16.7116681,17.6023224 16.6451556,18.0989487 16.3,18.37 C16.1673432,18.4704466 16.0063571,18.5264417 15.84,18.53 C15.5919917,18.5356794 15.3568205,18.4199603 15.21,18.22 L11.3905529,13.2862902 C10.4027829,13.8112218 9.28045668,14.1066888 8.1,14.11 L8.07,14.11 C7.59758253,14.1178881 7.12547846,14.0810573 6.66,14 C4.81912487,13.6314341 3.20128909,12.5438379 2.16509438,10.9782829 C1.12889966,9.41272781 0.759941004,7.49853672 1.14,5.66 C1.50892527,3.82545839 2.59206295,2.21284984 4.15078238,1.17745499 C5.7095018,0.142060133 7.61591069,-0.231167303 9.45,0.14 Z M8.05800168,1.59989624 L8.07,1.6 C7.00228063,1.60178564 5.95878273,1.91831333 5.07,2.51 C2.56748344,4.17654466 1.88733719,7.55490268 3.55,10.06 C4.77115019,11.8831309 6.96806954,12.7940999 9.12102323,12.3700664 C11.1970857,11.9611769 12.8402582,10.3881472 13.3482623,8.348511 L13.4,8.12 C13.9953647,5.17101523 12.0885732,2.29739985 9.14,1.7 C8.89996274,1.65828728 8.65794413,1.62952009 8.41499359,1.6137947 L8.05800168,1.59989624 Z' id='Combined-Shape'%3E%3C/path%3E %3C/g%3E %3C/g%3E %3C/svg%3E\"","module.exports = \"data:image/svg+xml,%3Csvg width='19px' height='18px' viewBox='0 0 19 18' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3Ctitle%3ECombined Shape%3C/title%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cpath d='M7,0 C10.8659932,0 14,3.13400675 14,7 C14,7.51269826 13.944881,8.01252279 13.8402454,8.49387111 L18.37,10.47 C18.6309687,10.5798756 18.7946889,10.8419457 18.7789823,11.1246657 C18.765239,11.3720456 18.6167185,11.5884961 18.3978969,11.6925329 L18.3,11.73 L14.61,12.85 C14.4539339,12.8967876 14.3213868,12.9984387 14.2356434,13.1344407 L14.19,13.22 L12.64,16.75 C12.5282797,17.0105376 12.264682,17.1725679 11.9817711,17.1546053 C11.734224,17.138888 11.5187739,16.9883404 11.4166113,16.768345 L11.38,16.67 L10.3276851,13.1599808 C9.33794224,13.6957782 8.20449852,14 7,14 C3.13400675,14 0,10.8659932 0,7 C0,3.13400675 3.13400675,0 7,0 Z M13.5,12.91 C13.6666911,12.5290602 13.9919759,12.2403242 14.39,12.12 L14.39,12.12 L17.88,11.06 L13.6404092,9.22071359 L9.37,7.37 L12,16.25 Z M7.50413922,3.5 L6.49661251,3.5 L6.49661251,7.12455903 L3.36227461,8.02118354 L3.63851485,8.97932853 L7.50413922,7.88280629 L7.50413922,3.5 Z' id='Combined-Shape' fill='%23616161' fill-rule='nonzero'%3E%3C/path%3E %3C/g%3E %3C/svg%3E\""],"names":[],"sourceRoot":""}